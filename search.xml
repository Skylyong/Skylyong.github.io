<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å…¨æœŸæœ›å®šç†å…¬å¼2çš„è¯æ˜</title>
      <link href="/2025/07/13/quan-qi-wang-ding-li-gong-shi-2-de-zheng-ming/"/>
      <url>/2025/07/13/quan-qi-wang-ding-li-gong-shi-2-de-zheng-ming/</url>
      
        <content type="html"><![CDATA[<h1 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h1><p>æœ€è¿‘æ¨å¯¼å¼ºåŒ–å­¦ä¹ ä¸­çš„<code>Bellman equation</code>ï¼Œåœ¨åŒ–è§£ç¬¬äºŒé¡¹<code>Future Reward</code>é¡¹æ—¶ï¼Œéœ€è¦ç”¨åˆ°<code>å…¨æœŸæœ›å®šç†</code>ï¼Œç§‰æ‰¿è´¹æ›¼å­¦ä¹ æ³•çš„ç†å¿µï¼Œè¿™é‡Œä»ä¸¤ä¸ªæ–¹é¢å¯¹<code>å…¨æœŸæœ›å®šç†</code>çš„å…¬å¼è¿›è¡Œä»‹ç»ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä»¥ä¸€ä¸ªç®€å•çš„ä¾‹å­ä»æ„Ÿæ€§ä¸Šç†è§£è¯¥å…¬å¼ï¼Œç„¶åå†ä»æ•°å­¦çš„è§’åº¦å¯¹å…¶è¿›è¡Œè¯æ˜ã€‚</p><h1 id="å…¨æœŸæœ›å®šç†å…¬å¼"><a href="#å…¨æœŸæœ›å®šç†å…¬å¼" class="headerlink" title="å…¨æœŸæœ›å®šç†å…¬å¼"></a>å…¨æœŸæœ›å®šç†å…¬å¼</h1><ol><li>å‡è®¾$B_1, B_2, â€¦, B_n$ æ˜¯ä¸€ç»„äº’ä¸ç›¸å®¹çš„äº‹ä»¶ï¼Œå¹¶ä¸”å½¢æˆæ ·æœ¬ç©ºé—´çš„ä¸€ä¸ªåˆ†å‰²ï¼›</li><li>$C$æ˜¯ä¸€ä¸ªç¡®å®šäº‹ä»¶ï¼Œä¸” $p(C) &gt; 0$ï¼›</li><li>$A$æ˜¯ä¸€ä¸ªéšæœºå˜é‡ã€‚</li></ol><p>åˆ™æœ‰ï¼š<br>$$E[A | C] = \sum_{i=1}^{n} p(B_i | C) E[A |B_i, C] $$</p><h1 id="å¯¹å…¬å¼çš„æ„Ÿæ€§ç†è§£"><a href="#å¯¹å…¬å¼çš„æ„Ÿæ€§ç†è§£" class="headerlink" title="å¯¹å…¬å¼çš„æ„Ÿæ€§ç†è§£"></a>å¯¹å…¬å¼çš„æ„Ÿæ€§ç†è§£</h1><p>ç”¨å¤§ç™½è¯æ¥è¯´å°±æ˜¯ï¼š æˆ‘æƒ³çŸ¥é“ï¼Œåœ¨å·²çŸ¥å‘ç”Ÿäº†$C$ çš„æ¡ä»¶ä¸‹ï¼Œéšæœºå˜é‡$A$çš„çš„å¹³å‡å€¼æ˜¯å¤šå°‘ï¼Ÿé‚£æˆ‘ä»¬å¯ä»¥å…ˆçœ‹çœ‹ï¼Œåœ¨$C$é‡Œï¼Œå„ä¸ªå­æƒ…å†µ$B_i$å‘ç”Ÿçš„æ¦‚ç‡æœ‰å¤šå°‘ï¼Œç„¶ååœ¨æ¯ä¸ªå°æƒ…å†µé‡Œç®—ä¸€ä¸‹$A$çš„å¹³å‡å€¼ï¼Œæœ€ååŠ æƒæ±‚å’Œå°±å¥½äº†ã€‚</p><br>å°±åƒæ˜¯ï¼š<p>å‡å¦‚æˆ‘ä»¬åšä¸€ä¸ªå®éªŒï¼š</p><ul><li>$C$è¡¨ç¤ºâ€œä½ è¿›å…¥äº†ä¸€æ‰€å¤§å­¦â€</li><li>$B_1$è¡¨ç¤ºâ€œä½ è¿›çš„æ˜¯æ•°å­¦ç³»â€ï¼Œ$B_2$è¡¨ç¤ºâ€œä½ è¿›çš„æ˜¯ç‰©ç†ç³»â€â€¦â€¦ (è¿™äº›ç³»æŠŠå¤§å­¦åˆ†æˆäº†åˆ’åˆ†)</li><li>$A$è¡¨ç¤ºâ€œä½ çš„æœªæ¥æ”¶å…¥â€</li></ul><p>é‚£ä¹ˆé—®é¢˜æ˜¯ï¼š <strong>åœ¨ä½ å·²ç»è¿›å…¥å¤§å­¦ï¼ˆBï¼‰çš„å‰æä¸‹ï¼Œä½ çš„æœªæ¥æ”¶å…¥çš„å¹³å‡å€¼æ˜¯å¤šå°‘ï¼Ÿ</strong></p><p>ç­”æ¡ˆå°±æ˜¯ï¼š</p><ul><li><p>ä½ åœ¨æ•°å­¦ç³»çš„æ¦‚ç‡ x æ•°å­¦ç³»çš„å¹³å‡æ”¶å…¥</p></li><li><p>ä½ åœ¨ç‰©ç†ç³»çš„æ¦‚ç‡ x ç‰©ç†ç³»çš„å¹³å‡æ”¶å…¥</p></li><li><p>â€¦</p><p>ä»¥ä¸ŠåŠ èµ·æ¥å°±æ˜¯ä½ åœ¨å¤§å­¦çš„å¹³å‡æ”¶å…¥ã€‚</p></li></ul><blockquote><p>note: ä¸èƒ½å¿å—æ¯ç‡¥æ•°å­¦å…¬å¼çš„åŒå­¦å¯ä»¥è·³è¿‡ä¸‹é¢çš„æ•°å­¦è¯æ˜éƒ¨åˆ†ï¼Œçœ‹åˆ°è¿™é‡Œå°±å¯ä»¥äº†ã€‚</p></blockquote><h1 id="å¯¹å…¬å¼çš„è¯æ˜"><a href="#å¯¹å…¬å¼çš„è¯æ˜" class="headerlink" title="å¯¹å…¬å¼çš„è¯æ˜"></a>å¯¹å…¬å¼çš„è¯æ˜</h1><h2 id="å…¨æœŸæœ›å®šç†å…¬å¼çš„æ¨å¯¼"><a href="#å…¨æœŸæœ›å®šç†å…¬å¼çš„æ¨å¯¼" class="headerlink" title="å…¨æœŸæœ›å®šç†å…¬å¼çš„æ¨å¯¼"></a>å…¨æœŸæœ›å®šç†å…¬å¼çš„æ¨å¯¼</h2><p>æˆ‘ä»¬æ¥è¯æ˜å…¨æœŸæœ›å®šç†å…¬å¼ï¼š$$E[A | C] = \sum_{i=1}^{n} p(B_i | C) E[A |B_i, C] $$</p><p>æˆ‘ä»¬ä»æ¡ä»¶æ¦‚ç‡çš„å…¨æ¦‚ç‡å…¬å¼ï¼ˆç¨åæˆ‘ä»¬å†å¯¹è¯¥å…¬å¼è¿›è¡Œæ¨å¯¼ï¼‰ï¼š$$p(A=a|C) = \sum_{i=1}^{n} p(A=a|B_i, C) p(B_i|C)$$ å‡ºå‘ï¼Œè¿›è¡Œæ¨å¯¼ï¼š</p><p>$$<br>\begin{align*}<br>    E[A | C] &amp;= \sum_{a\in A} P(a |C)a \<br>    &amp;= \sum_{a\in A} \sum_{i=1}^{n} p(A=a|B_i, C) p(B_i|C) a \<br>    &amp;= \sum_{i=1}^{n}  p(B_i|C) \sum_{a\in A} p(A=a|B_i, C) a \<br>    &amp;= \sum_{i=1}^{n}  p(B_i|C) E[A | B_i, C] \<br>\end{align*}<br>$$</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬ä»æ¡ä»¶æ¦‚ç‡çš„å…¨æ¦‚ç‡å…¬å¼å‡ºå‘ï¼Œæ¨å¯¼å‡ºäº†å…¨æœŸæœ›å®šç†å…¬å¼ã€‚</p><h2 id="æ¡ä»¶æ¦‚ç‡çš„å…¨æ¦‚ç‡å…¬å¼çš„æ¨å¯¼"><a href="#æ¡ä»¶æ¦‚ç‡çš„å…¨æ¦‚ç‡å…¬å¼çš„æ¨å¯¼" class="headerlink" title="æ¡ä»¶æ¦‚ç‡çš„å…¨æ¦‚ç‡å…¬å¼çš„æ¨å¯¼"></a>æ¡ä»¶æ¦‚ç‡çš„å…¨æ¦‚ç‡å…¬å¼çš„æ¨å¯¼</h2><ul><li>å‡è®¾$B_1, B_2, â€¦, B_n$ æ˜¯ä¸€ç»„äº’ä¸ç›¸å®¹çš„äº‹ä»¶ï¼Œå¹¶ä¸”å½¢æˆæ ·æœ¬ç©ºé—´çš„ä¸€ä¸ªåˆ†å‰²ï¼›</li><li>$C$æ˜¯ä¸€ä¸ªç¡®å®šäº‹ä»¶ï¼Œä¸” $p(C) &gt; 0$ï¼›</li><li>$A$æ˜¯ä¸€ä¸ªéšæœºå˜é‡ã€‚</li></ul><p>æˆ‘ä»¬éœ€è¦è¯æ˜ä¸‹é¢çš„ç­‰å¼æˆç«‹ï¼š<br>$$p(A | C) = \sum_{i=1}^{n} p(A | B_i, C) P(B_i | C)$$</p><p>ä¸‹é¢æ˜¯è¯æ˜è¿‡ç¨‹ï¼š</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¼ºåŒ–å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»å…¨æœŸæœ›å®šç†æ¨å¯¼è´å°”æ›¼ç­‰å¼</title>
      <link href="/2025/07/12/cong-quan-qi-wang-ding-li-tui-dao-bei-er-man-deng-shi/"/>
      <url>/2025/07/12/cong-quan-qi-wang-ding-li-tui-dao-bei-er-man-deng-shi/</url>
      
        <content type="html"><![CDATA[<h1 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h1><p><code>Bellman equation</code> æ˜¯å¼ºåŒ–å­¦ä¹ çš„åŸºçŸ³ï¼Œä»¥å‰ä¸ºäº†å¿«é€Ÿåº”ç”¨ï¼Œè¿™éƒ¨åˆ†çš„çŸ¥è¯†æ²¡æœ‰åƒé€ï¼Œæ€»æ˜¯æœ‰ä¸€ç§ä¸è¸å®çš„æ„Ÿè§‰ï¼Œè¿™æ¬¡ä»è´¹æ›¼å­¦ä¹ æ³•çš„æ€æƒ³å‡ºå‘ï¼ŒåŠ›æ±‚å®Œå…¨é€å½»ç†è§£è¯¥å…¬å¼åŠå…¶æ¨å¯¼è¿‡ç¨‹ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ†ä¸‰ä¸ªéƒ¨åˆ†å¯¹<code>Bellman equation</code>è¿›è¡Œè®²è¿°ã€‚</p><h1 id="å‰ç½®æ¦‚ç‡çŸ¥è¯†"><a href="#å‰ç½®æ¦‚ç‡çŸ¥è¯†" class="headerlink" title="å‰ç½®æ¦‚ç‡çŸ¥è¯†"></a>å‰ç½®æ¦‚ç‡çŸ¥è¯†</h1><h2 id="æ¡ä»¶æ¦‚ç‡çš„å…¨æ¦‚ç‡å…¬å¼"><a href="#æ¡ä»¶æ¦‚ç‡çš„å…¨æ¦‚ç‡å…¬å¼" class="headerlink" title="æ¡ä»¶æ¦‚ç‡çš„å…¨æ¦‚ç‡å…¬å¼"></a>æ¡ä»¶æ¦‚ç‡çš„å…¨æ¦‚ç‡å…¬å¼</h2><p>å‡è®¾$B_1$, $B_2$, â€¦, $B_n$ æ˜¯ä¸€ç»„äº’è¡¥ç›¸å®¹çš„äº‹ä»¶ï¼Œå¹¶ä¸”å½¢æˆæ ·æœ¬ç©ºé—´çš„ä¸€ä¸ªåˆ†å‰²ï¼Œåˆ™å¯¹äºä»»æ„äº‹ä»¶$A$,æˆ‘ä»¬æœ‰ä¸‹çš„å…¨æ¦‚ç‡å…¬å¼ï¼š</p><p>$$ P(A) = \sum_{i}^{n} {p(A | B_i) p(B_i)} $$</p><p>é‚£ä¹ˆï¼Œå¯¹äºæ¡ä»¶æ¦‚ç‡ $P(A | C)$ï¼Œå®ƒçš„å…¨æ¦‚ç‡å…¬å¼æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å°† $C$ äº‹ä»¶åˆ†è§£ä¸ºä¸€ç»„äº’è¡¥ç›¸å®¹çš„äº‹ä»¶ $B_1, B_2, â€¦, B_n$ï¼Œåˆ™æœ‰ï¼š</p><p>$$P(A | C) = \sum_{i}^{n} {P(A | B_i, C) P(B_i | C)}$$</p><p>ä¸‹é¢æˆ‘ä»¬å¯¹è¿™ä¸ªå…¬å¼è¿›è¡Œè¯æ˜ã€‚</p><h1 id="å…¨æœŸæœ›å®šç†"><a href="#å…¨æœŸæœ›å®šç†" class="headerlink" title="å…¨æœŸæœ›å®šç†"></a>å…¨æœŸæœ›å®šç†</h1><h2 id="å‰ç½®çŸ¥è¯†â€”â€”å…¨æ¦‚ç‡å®šç†"><a href="#å‰ç½®çŸ¥è¯†â€”â€”å…¨æ¦‚ç‡å®šç†" class="headerlink" title="å‰ç½®çŸ¥è¯†â€”â€”å…¨æ¦‚ç‡å®šç†"></a>å‰ç½®çŸ¥è¯†â€”â€”å…¨æ¦‚ç‡å®šç†</h2><h2 id="å…¨æœŸæœ›å®šç†å…¬å¼è§£é‡Šå’Œè¯æ˜"><a href="#å…¨æœŸæœ›å®šç†å…¬å¼è§£é‡Šå’Œè¯æ˜" class="headerlink" title="å…¨æœŸæœ›å®šç†å…¬å¼è§£é‡Šå’Œè¯æ˜"></a>å…¨æœŸæœ›å®šç†å…¬å¼è§£é‡Šå’Œè¯æ˜</h2><h1 id="Bellman-equation-æ¨å¯¼"><a href="#Bellman-equation-æ¨å¯¼" class="headerlink" title="Bellman equation æ¨å¯¼"></a>Bellman equation æ¨å¯¼</h1><h1 id="ä¸¤ä¸ªä½¿ç”¨-Bellman-equation-çš„ä¾‹å­"><a href="#ä¸¤ä¸ªä½¿ç”¨-Bellman-equation-çš„ä¾‹å­" class="headerlink" title="ä¸¤ä¸ªä½¿ç”¨ Bellman equation çš„ä¾‹å­"></a>ä¸¤ä¸ªä½¿ç”¨ Bellman equation çš„ä¾‹å­</h1>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¼ºåŒ–å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Dockeræ„å»ºWebdavæœåŠ¡å™¨</title>
      <link href="/2025/06/17/shi-yong-docker-gou-jian-webdav-fu-wu-qi/"/>
      <url>/2025/06/17/shi-yong-docker-gou-jian-webdav-fu-wu-qi/</url>
      
        <content type="html"><![CDATA[<h1 id="1-å‰è¨€"><a href="#1-å‰è¨€" class="headerlink" title="1. å‰è¨€"></a>1. å‰è¨€</h1><p>åŠå¹´å‰ï¼Œæˆ‘æ›¾åŸºäº Apache2 æ­å»ºäº†ä¸€å¥— <a href="https://eggplant.wiki/2025/01/26/da-jian-webdav-fu-wu-qi-shi-xian-obsidian-he-zotero-duo-duan-tong-bu/">WebDAV æœåŠ¡</a>ï¼Œç”¨äºå®ç° Obsidian å’Œ Zotero çš„å¤šç«¯åŒæ­¥ã€‚é‚£æ¬¡éƒ¨ç½²è¿‡ç¨‹å¯è°“ä¸€æ³¢ä¸‰æŠ˜ï¼Œå°¤å…¶æ˜¯åœ¨é…ç½® SSL ç­¾åå’Œ Apache2 æ—¶é‡åˆ°äº†ä¸å°‘éº»çƒ¦ã€‚ç”±äºå½“æ—¶æˆ‘æ²¡æœ‰å¤‡æ¡ˆçš„åŸŸåï¼Œåªèƒ½ä½¿ç”¨å…¬ç½‘ IP ç”³è¯· SSL è¯ä¹¦ï¼Œè€Œä¸”å…è´¹è¯ä¹¦åªæœ‰ 3 ä¸ªæœˆæœ‰æ•ˆæœŸï¼Œåˆ°æœŸåè¿˜éœ€è¦æ‰‹åŠ¨ç»­ç­¾ã€‚è™½ç„¶æœ€ç»ˆå‹‰å¼ºé…ç½®æˆåŠŸï¼Œä½†ä¹ŸèŠ±äº†æˆ‘ä¸å°‘æ—¶é—´å’Œç²¾åŠ›ã€‚</p><p>é—æ†¾çš„æ˜¯ï¼Œè¿™å¥—æœåŠ¡æ²¡èƒ½æŒç»­ä½¿ç”¨å¤ªä¹…ã€‚ç­‰ SSL è¯ä¹¦è¿‡æœŸä¹‹åï¼Œæˆ‘å› ä¸ºå¿™äºå…¶ä»–äº‹åŠ¡ä¹Ÿå°±æ²¡æœ‰å†å»ç»­ç­¾ã€‚è€Œå½“æˆ‘æƒ³é‡æ–°å¯ç”¨è¿™å¥—åŒæ­¥æ–¹æ¡ˆæ—¶ï¼Œå´å‘ç°å½“æ—¶ä½¿ç”¨çš„åä¸ºäº‘å»‰ä»·æœåŠ¡å™¨ï¼ˆä»… 1GB å†…å­˜ï¼‰å¡é¡¿ä¸¥é‡ï¼Œè¿ SSH ç™»å½•éƒ½æˆé—®é¢˜ã€‚å³ä¾¿é‡å¯ç³»ç»Ÿï¼Œæ€§èƒ½ä¹Ÿæ²¡æœ‰å¥½è½¬ï¼Œäºæ˜¯è¿™ä»¶äº‹ä¾¿è¢«æˆ‘æç½®äº†ä¸‹æ¥ã€‚</p><p>ç›´åˆ°æœ€è¿‘ï¼Œæˆ‘å†æ¬¡æ„Ÿå—åˆ° Obsidian ä¸ Zotero å¤šç«¯åŒæ­¥çš„å¼ºçƒˆéœ€æ±‚ã€‚æ°å¥½è¿™æ®µæ—¶é—´æˆ‘ä¹Ÿæ·±å…¥å­¦ä¹ äº† Docker çš„ä½¿ç”¨ï¼Œä¾¿æƒ³åˆ°æˆ–è®¸å¯ä»¥é€šè¿‡ Docker æ¥éƒ¨ç½² WebDAVã€‚é€šè¿‡å®¹å™¨åŒ–éƒ¨ç½²ï¼Œæ—¢å¯ä»¥ç®€åŒ–é…ç½®æµç¨‹ï¼Œåˆèƒ½ä¿è¯æœªæ¥è¿ç§»æˆ–é‡å»ºæ—¶çš„å¤ç”¨æ€§ï¼Œå¤§å¤§æå‡æ•ˆç‡ã€‚</p><p>äºæ˜¯ï¼Œæˆ‘é€‰æ‹©ä½¿ç”¨äº†ç°æˆçš„ WebDAV Docker é•œåƒï¼Œå¹¶å°†æœåŠ¡å™¨è¿ç§»åˆ°äº†è…¾è®¯äº‘çš„æµ·å¤–èŠ‚ç‚¹ã€‚é€šè¿‡è´­ä¹°å»‰ä»·è½»é‡åŒ–åŸŸåå’Œæµ·å¤– IPï¼Œæˆ‘å¯ä»¥åœ¨æ— éœ€å¤‡æ¡ˆçš„æƒ…å†µä¸‹æ­£å¸¸ä½¿ç”¨åŸŸåè®¿é—®ã€‚æ›´ä»¤äººæ¬£å–œçš„æ˜¯ï¼Œè¿™ä¸€æ¬¡æˆ‘é€šè¿‡è‡ªåŠ¨åŒ–å·¥å…·é…ç½®äº† HTTPSï¼ŒSSL è¯ä¹¦å¯ä»¥è‡ªåŠ¨ç»­ç­¾ï¼Œå½»åº•è§£å†³äº†ä¸Šä¸€æ¬¡çš„ç—›ç‚¹ã€‚</p><p>è¿™æ¬¡éƒ¨ç½²è¿‡ç¨‹æ•´ä½“é¡ºåˆ©è®¸å¤šï¼Œä½†ä¸­é€”ä»ç„¶è¸©äº†ä¸€äº›å‘ã€‚å› æ­¤ï¼Œæˆ‘å†³å®šå°†æ•´ä¸ªè¿‡ç¨‹è®°å½•ä¸‹æ¥ï¼Œæ—¢æ˜¯å¯¹è‡ªå·±çš„æ€»ç»“ï¼Œä¹Ÿå¸Œæœ›èƒ½ä¸ºæœ‰ç±»ä¼¼éœ€æ±‚çš„æœ‹å‹æä¾›å‚è€ƒã€‚</p><h1 id="2-æ¦‚è¿°"><a href="#2-æ¦‚è¿°" class="headerlink" title="2. æ¦‚è¿°"></a>2. æ¦‚è¿°</h1><p>è¿™æ¬¡é…ç½®çš„åŸºäºDockerçš„WebDAVæ–‡ä»¶å…±äº«æœåŠ¡ï¼Œä¸»è¦æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>ä½¿ç”¨Traefikä½œä¸ºåå‘ä»£ç†å’ŒSSLè¯ä¹¦ç®¡ç†</li><li>éƒ¨ç½²åœ¨Dockerç¯å¢ƒä¸­</li></ul><br><h1 id="3-éƒ¨ç½²æŒ‡å—"><a href="#3-éƒ¨ç½²æŒ‡å—" class="headerlink" title="3. éƒ¨ç½²æŒ‡å—"></a>3. éƒ¨ç½²æŒ‡å—</h1><h2 id="3-1-å‰ææ¡ä»¶"><a href="#3-1-å‰ææ¡ä»¶" class="headerlink" title="3.1 å‰ææ¡ä»¶"></a>3.1 å‰ææ¡ä»¶</h2><ul><li>å·²å®‰è£…Dockerå’ŒDocker Compose</li><li>åŸŸåDNSå·²æ­£ç¡®è§£æåˆ°æœåŠ¡å™¨IP</li></ul><h2 id="3-2-é…ç½®è¯´æ˜"><a href="#3-2-é…ç½®è¯´æ˜" class="headerlink" title="3.2 é…ç½®è¯´æ˜"></a>3.2 é…ç½®è¯´æ˜</h2><p>ä¸»è¦çš„é…ç½®æ–‡ä»¶æœ‰ä¸‰ä¸ªï¼Œåˆ†åˆ«æ˜¯docker-compose.ymlã€traefik.tomlä»¥åŠ.envã€‚</p><ul><li><p><strong>docker-compose.yml</strong><br>ä¸»è¦è´Ÿè´£å®šä¹‰æ•´ä¸ªæœåŠ¡æ ˆçš„å®¹å™¨ç»„æˆå’Œç½‘ç»œé…ç½®ã€‚åŒ…æ‹¬æ¯ä¸ªæœåŠ¡ä½¿ç”¨çš„é•œåƒã€ç«¯å£æ˜ å°„ã€å·æŒ‚è½½ã€ç¯å¢ƒå˜é‡å¼•ç”¨ã€ä¾èµ–æœåŠ¡ç­‰ã€‚</p></li><li><p><strong>traefik.toml</strong><br>Traefik çš„ä¸»é…ç½®æ–‡ä»¶ï¼Œè´Ÿè´£å®šä¹‰ Traefik æœ¬èº«çš„è¡Œä¸ºã€‚ä¾‹å¦‚æ˜¯å¦å¯ç”¨ Web UIã€ç›‘å¬å“ªäº› entrypointsï¼ˆå¦‚ HTTP/HTTPSï¼‰ã€è¯ä¹¦è‡ªåŠ¨ç”³è¯·ï¼ˆLetâ€™s Encryptï¼‰æ–¹å¼ã€æ—¥å¿—è¾“å‡ºçº§åˆ«ç­‰ã€‚</p></li><li><p><strong>.env</strong><br>ç”¨äºå­˜æ”¾ç¯å¢ƒå˜é‡ï¼Œä¾› docker-compose.yml ä¸­å¼•ç”¨ã€‚è¿™æ ·å¯ä»¥å®ç°é…ç½®çš„çµæ´»ç®¡ç†å’Œç‰ˆæœ¬æ§åˆ¶çš„å®‰å…¨æ€§ï¼Œé¿å…åœ¨ compose æ–‡ä»¶ä¸­ç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚å¯†ç ã€åŸŸåã€ç«¯å£ç­‰ï¼‰ã€‚</p></li></ul><blockquote><p><strong>æ³¨æ„</strong>ï¼šéœ€è¦æ‰‹åŠ¨ä¿®æ”¹ <code>traefik.toml</code>ä¸­çš„é‚®ç®±åœ°å€ï¼Œå› ä¸ºtraefik.toml ä¸æ”¯æŒä½¿ç”¨ .env æ–‡ä»¶ä¸­çš„ ACME_EMAIL å˜é‡ã€‚</p></blockquote><h2 id="3-3-docker-compose-yml-é…ç½®"><a href="#3-3-docker-compose-yml-é…ç½®" class="headerlink" title="3.3 docker-compose.yml é…ç½®"></a>3.3 docker-compose.yml é…ç½®</h2><p>ä¸‹é¢æ˜¯ <code>docker-compose.yml</code>ä¸­åº”è¯¥å¡«å†™çš„é…ç½®ï¼Œè¿™ä¸ªé…ç½®ç»è¿‡å¤šæ¬¡ä¿®æ”¹ï¼ŒæŒ‰ç…§æ“ä½œä¸€æ­¥æ­¥ä¸‹æ¥ï¼Œæ˜¯å¯ä»¥ç›´æ¥è·‘é€šçš„ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">'3'</span></span><br><span class="line"><span class="comment"># See https://docs.docker.com/compose/overview/ for more information.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If you make changes to this file or any related files, apply them by</span></span><br><span class="line"><span class="comment"># navigating to the directory that holds this file and run this as root:</span></span><br><span class="line"><span class="comment">#   docker-compose down; docker-compose up -d</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create two networks: one for front-end containers that we'll make</span></span><br><span class="line"><span class="comment"># publicly accessible to the internet, and one for private back-end.</span></span><br><span class="line">networks:</span><br><span class="line">  frontend:</span><br><span class="line">    name: webdav_frontend  <span class="comment"># Explicitly set network name</span></span><br><span class="line">  backend:</span><br><span class="line">    name: webdav_backend  <span class="comment"># Explicitly set network name</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create persistent Docker volumes to preserve important data.</span></span><br><span class="line"><span class="comment"># We don't want our data to be lost when restarting containers.</span></span><br><span class="line">volumes:</span><br><span class="line">  vol-webdav:</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create our containers.</span></span><br><span class="line">services:</span><br><span class="line">  <span class="comment"># Traefik is a reverse proxy. It handles SSL and passes traffic to</span></span><br><span class="line">  <span class="comment"># Docker containers via rules you define in docker-compose labels.</span></span><br><span class="line">  <span class="comment"># Its dashboard is at http://example.com/traefik/ (behind a login).</span></span><br><span class="line">  traefik:</span><br><span class="line">    <span class="comment"># https://hub.docker.com/_/traefik/</span></span><br><span class="line">    image: ${BASE_IMAGE_URL}/traefik:latest</span><br><span class="line">    command: </span><br><span class="line">      <span class="comment"># --api --docker --acme.email="${ACME_EMAIL}"</span></span><br><span class="line">      - <span class="string">"--api.dashboard=true"</span></span><br><span class="line">      - <span class="string">"--providers.docker=true"</span></span><br><span class="line">      - <span class="string">"--providers.docker.exposedbydefault=false"</span></span><br><span class="line">      - <span class="string">"--entrypoints.web.address=:80"</span></span><br><span class="line">      - <span class="string">"--entrypoints.websecure.address=:443"</span></span><br><span class="line">      - <span class="string">"--certificatesresolvers.letsencrypt.acme.httpchallenge=true"</span></span><br><span class="line">      - <span class="string">"--certificatesresolvers.letsencrypt.acme.httpchallenge.entrypoint=web"</span></span><br><span class="line">      - <span class="string">"--certificatesresolvers.letsencrypt.acme.email=${ACME_EMAIL}"</span></span><br><span class="line">      - <span class="string">"--certificatesresolvers.letsencrypt.acme.storage=/acme.json"</span></span><br><span class="line">    restart: always</span><br><span class="line">    networks:</span><br><span class="line">      - backend</span><br><span class="line">      - frontend</span><br><span class="line">    volumes:</span><br><span class="line">      - /var/run/docker.sock:/var/run/docker.sock <span class="comment"># Access to Docker</span></span><br><span class="line">      - ./traefik.toml:/traefik.toml              <span class="comment"># Traefik configuration</span></span><br><span class="line">      - ./acme.json:/acme.json                    <span class="comment"># SSL certificates</span></span><br><span class="line">    ports:</span><br><span class="line">      <span class="comment"># Map port 80 and 443 on the host to this container.</span></span><br><span class="line">      - <span class="string">"801:80"</span></span><br><span class="line">      - <span class="string">"4431:443"</span></span><br><span class="line">    labels:</span><br><span class="line">      <span class="comment"># - "traefik.docker.network=webdav_frontend"</span></span><br><span class="line">      <span class="comment"># - "traefik.enable=true"</span></span><br><span class="line">      <span class="comment"># - "traefik.frontend.rule=Host:${TRAEFIK_DOMAINS}; PathPrefixStrip:/traefik"</span></span><br><span class="line">      <span class="comment"># - "traefik.port=8080"</span></span><br><span class="line">      <span class="comment"># - "traefik.protocol=http"</span></span><br><span class="line">      <span class="comment"># # Remove next line to disable login prompt for the dashboard.</span></span><br><span class="line">      <span class="comment"># - "traefik.frontend.auth.basic=${BASIC_AUTH}"</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># - "traefik.enable=true"</span></span><br><span class="line">      <span class="comment"># - "traefik.http.routers.webdav.rule=Host(`eggabc.site`)"</span></span><br><span class="line">      <span class="comment"># - "traefik.http.routers.webdav.entrypoints=websecure"</span></span><br><span class="line">      <span class="comment"># - "traefik.http.routers.webdav.tls.certresolver=letsencrypt"</span></span><br><span class="line">      <span class="comment"># - "traefik.http.services.webdav.loadbalancer.server.port=80"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        - <span class="string">"traefik.enable=true"</span></span><br><span class="line">        - <span class="string">"traefik.http.routers.dashboard.rule=Host(`${TRAEFIK_DOMAINS}`)"</span></span><br><span class="line">        - <span class="string">"traefik.http.routers.dashboard.service=api@internal"</span></span><br><span class="line">        - <span class="string">"traefik.http.routers.dashboard.entrypoints=websecure"</span></span><br><span class="line">        - <span class="string">"traefik.http.routers.dashboard.tls.certresolver=letsencrypt"</span></span><br><span class="line">        - <span class="string">"traefik.http.routers.dashboard.middlewares=auth"</span></span><br><span class="line">        - <span class="string">"traefik.http.middlewares.auth.basicauth.users=${BASIC_AUTH}"</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Watchtower detects if any linked containers have an new image</span></span><br><span class="line">  <span class="comment"># available, automatically updating &amp; restarting them if needed.</span></span><br><span class="line">  <span class="comment"># watchtower:</span></span><br><span class="line">  <span class="comment">#   # https://hub.docker.com/r/centurylink/watchtower/</span></span><br><span class="line">  <span class="comment">#   image: v2tec/watchtower:latest</span></span><br><span class="line">  <span class="comment">#   # https://github.com/v2tec/watchtower#options</span></span><br><span class="line">  <span class="comment">#   # This schedule applies updates (if available) at midnight.</span></span><br><span class="line">  <span class="comment">#   command: --cleanup --schedule "0 0 0 * * *"</span></span><br><span class="line">  <span class="comment">#   restart: always</span></span><br><span class="line">  <span class="comment">#   volumes:</span></span><br><span class="line">  <span class="comment">#     - /var/run/docker.sock:/var/run/docker.sock</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># The main WebDAV container.</span></span><br><span class="line">  webdav:</span><br><span class="line">    <span class="comment"># https://hub.docker.com/r/bytemark/webdav/</span></span><br><span class="line">    image: ${BASE_IMAGE_URL}/bytemark/webdav</span><br><span class="line">    restart: always</span><br><span class="line">    networks:</span><br><span class="line">      - frontend</span><br><span class="line">    volumes:</span><br><span class="line">      <span class="comment"># - ./user.passwd:/user.passwd</span></span><br><span class="line">      - <span class="built_in">type</span>: bind</span><br><span class="line">        source: ./user.passwd</span><br><span class="line">        target: /user.passwd</span><br><span class="line">        read_only: true</span><br><span class="line">      - vol-webdav:/var/lib/dav</span><br><span class="line">    environment:</span><br><span class="line">      SERVER_NAMES: ${WEBDAV_DOMAINS}</span><br><span class="line">      LOCATION: ${WEBDAV_LOCATION}</span><br><span class="line">    labels:</span><br><span class="line">      <span class="comment"># - "traefik.docker.network=webdav_frontend"</span></span><br><span class="line">      <span class="comment"># - "traefik.enable=true"</span></span><br><span class="line">      <span class="comment"># - "traefik.frontend.rule=Host:${WEBDAV_DOMAINS}"</span></span><br><span class="line">      <span class="comment"># - "traefik.port=80"</span></span><br><span class="line">      <span class="comment"># - "traefik.protocol=http"</span></span><br><span class="line">      - <span class="string">"traefik.enable=true"</span></span><br><span class="line">      - <span class="string">"traefik.http.routers.webdav.rule=Host(`${WEBDAV_DOMAINS}`) &amp;&amp; PathPrefix(`${WEBDAV_LOCATION}`)"</span></span><br><span class="line">      - <span class="string">"traefik.http.routers.webdav.entrypoints=websecure"</span></span><br><span class="line">      - <span class="string">"traefik.http.routers.webdav.tls.certresolver=letsencrypt"</span></span><br><span class="line">      - <span class="string">"traefik.http.services.webdav.loadbalancer.server.port=80"</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="3-4-Traefik-é…ç½®"><a href="#3-4-Traefik-é…ç½®" class="headerlink" title="3.4 Traefik é…ç½®"></a>3.4 Traefik é…ç½®</h2><h3 id="3-4-1-æ–°å»º-acme-json-æ–‡ä»¶"><a href="#3-4-1-æ–°å»º-acme-json-æ–‡ä»¶" class="headerlink" title="3.4.1 æ–°å»º  acme.json æ–‡ä»¶"></a>3.4.1 æ–°å»º  acme.json æ–‡ä»¶</h3><p> Traefik éœ€è¦ä¸€ä¸ª JSON æ–‡ä»¶ä¿å­˜è¯ä¹¦ä¿¡æ¯ï¼Œè¯·åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºè¯¥ç©ºæ–‡ä»¶ï¼Œå¹¶è®¾ç½®æƒé™ï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> acme.json</span><br><span class="line"><span class="built_in">chmod</span> 600 acme.json</span><br></pre></td></tr></tbody></table></figure><h3 id="3-4-2-åˆ›å»º-traefik-toml-æ–‡ä»¶ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š"><a href="#3-4-2-åˆ›å»º-traefik-toml-æ–‡ä»¶ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š" class="headerlink" title="3.4.2 åˆ›å»º traefik.toml æ–‡ä»¶ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š"></a>3.4.2 åˆ›å»º traefik.toml æ–‡ä»¶ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line">  checkNewVersion = <span class="literal">false</span></span><br><span class="line">  sendAnonymousUsage = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">[entryPoints]</span><br><span class="line">  [entryPoints.web]</span><br><span class="line">    address = <span class="string">":80"</span></span><br><span class="line">  [entryPoints.websecure]</span><br><span class="line">    address = <span class="string">":443"</span></span><br><span class="line"></span><br><span class="line">[api]</span><br><span class="line">  dashboard = <span class="literal">true</span></span><br><span class="line">  insecure = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">[providers]</span><br><span class="line">  [providers.docker]</span><br><span class="line">    endpoint = <span class="string">"unix:///var/run/docker.sock"</span></span><br><span class="line">    exposedByDefault = <span class="literal">false</span></span><br><span class="line">    watch = <span class="literal">true</span></span><br><span class="line">    network = <span class="string">"webdav_frontend"</span></span><br><span class="line"></span><br><span class="line">[certificatesResolvers.letsencrypt]</span><br><span class="line">  [certificatesResolvers.letsencrypt.acme]</span><br><span class="line">    email = <span class="string">"your_email_address"</span></span><br><span class="line">    storage = <span class="string">"acme.json"</span></span><br><span class="line">    [certificatesResolvers.letsencrypt.acme.httpChallenge]</span><br><span class="line">      entryPoint = <span class="string">"web"</span></span><br><span class="line"></span><br><span class="line">[<span class="built_in">log</span>]</span><br><span class="line">  level = <span class="string">"INFO"</span></span><br></pre></td></tr></tbody></table></figure><p>æç¤ºï¼š éœ€è¦å°† <code>your_email_address</code> æ›¿æ¢ä¸ºä½ è‡ªå·±çš„é‚®ç®±åœ°å€ã€‚</p><h2 id="3-5-é…ç½®ç¯å¢ƒå˜é‡"><a href="#3-5-é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="3.5 é…ç½®ç¯å¢ƒå˜é‡"></a>3.5 é…ç½®ç¯å¢ƒå˜é‡</h2><h3 id="3-5-1-è®¾ç½®åŸºæœ¬è®¤è¯"><a href="#3-5-1-è®¾ç½®åŸºæœ¬è®¤è¯" class="headerlink" title="3.5.1 è®¾ç½®åŸºæœ¬è®¤è¯"></a>3.5.1 è®¾ç½®åŸºæœ¬è®¤è¯</h3><ul><li>ä½¿ç”¨ <code>htpasswd</code> å‘½ä»¤ç”Ÿæˆç”¨æˆ·å¯†ç æ–‡ä»¶ <code>user.passwd</code>ï¼š</li></ul><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">htpasswd -c user.passwd username</span><br></pre></td></tr></tbody></table></figure><blockquote><p>æç¤ºï¼šå¦‚æœç³»ç»Ÿä¸­æ²¡æœ‰å®‰è£… htpasswdï¼Œå¯é€šè¿‡å®‰è£… apache2-utilsï¼ˆDebian/Ubuntuï¼‰æˆ– httpd-toolsï¼ˆCentOSï¼‰è·å¾—è¯¥å‘½ä»¤ã€‚</p></blockquote><ul><li>è®¾ç½®æ–‡ä»¶æƒé™<br>è®¾ç½® user.passwd æ–‡ä»¶æƒé™ä¸º 644 ï¼ˆä¸å®‰å…¨ï¼Œä¸´æ—¶å¿«é€Ÿè§£å†³æ–¹æ¡ˆï¼‰ï¼š</li></ul><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 644 user.passwd</span><br></pre></td></tr></tbody></table></figure><p>ç„¶åå°†ç”Ÿæˆçš„å“ˆå¸Œå¯†ç å¤åˆ¶åˆ° .env æ–‡ä»¶ä¸­çš„ BASIC_AUTH å˜é‡ä¸­ã€‚</p><h3 id="3-5-2-åˆ›å»º-envæ–‡ä»¶ï¼Œå¹¶æ ¹æ®æç¤ºè¿›è¡Œè®¾ç½®"><a href="#3-5-2-åˆ›å»º-envæ–‡ä»¶ï¼Œå¹¶æ ¹æ®æç¤ºè¿›è¡Œè®¾ç½®" class="headerlink" title="3.5.2 åˆ›å»º .envæ–‡ä»¶ï¼Œå¹¶æ ¹æ®æç¤ºè¿›è¡Œè®¾ç½®"></a>3.5.2 åˆ›å»º <code>.env</code>æ–‡ä»¶ï¼Œå¹¶æ ¹æ®æç¤ºè¿›è¡Œè®¾ç½®</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Docker Compose can read environment variables from this file.</span></span><br><span class="line"><span class="comment"># See https://docs.docker.com/compose/env-file/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Put admin areas behind a login prompt, with username and password</span></span><br><span class="line"><span class="comment"># specified here. Run `htpasswd -n admin` to create a password hash</span></span><br><span class="line"><span class="comment"># for user "admin". Paste the output here. SSL strongly recommended.</span></span><br><span class="line"><span class="comment"># ä½¿ç”¨ `htpasswd -n username` å‘½ä»¤ç”Ÿæˆå¯†ç å“ˆå¸Œã€‚</span></span><br><span class="line">BASIC_AUTH=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Let's Encrypt needs an email address for registration.</span></span><br><span class="line"><span class="comment"># é…ç½® Let's Encrypt çš„æ³¨å†Œé‚®ç®±ï¼Œä¸éœ€è¦åœ¨ Let's Encrypt ç½‘ç«™ä¸Šæ³¨å†Œã€‚</span></span><br><span class="line">ACME_EMAIL=</span><br><span class="line"><span class="comment"># The Traefik dashboard will be available at these domains.</span></span><br><span class="line"><span class="comment"># The URL is http://example.com/traefik/</span></span><br><span class="line"><span class="comment"># You'll need to fill in BASIC_AUTH above.</span></span><br><span class="line"><span class="comment"># Traefik çš„ä»ªè¡¨ç›˜å°†å¯é€šè¿‡è¿™äº›åŸŸåè®¿é—®ï¼Œè¦ç¡®ä¿è¯¥åŸŸåèƒ½å¤Ÿè¢«è§£æï¼Œä¸ç„¶ä¼šæŠ¥é”™</span></span><br><span class="line">TRAEFIK_DOMAINS=</span><br><span class="line"><span class="comment"># Your WebDAV site will be available at these domains. Every domain</span></span><br><span class="line"><span class="comment"># needs DNS records pointing to your server for SSL to work.</span></span><br><span class="line"><span class="comment"># ä½ çš„ WebDAV ç«™ç‚¹å°†å¯é€šè¿‡è¿™äº›åŸŸåè®¿é—®ã€‚æ¯ä¸ªåŸŸåéƒ½éœ€è¦ DNS è®°å½•æŒ‡å‘ä½ çš„æœåŠ¡å™¨ï¼Œä»¥ä¾¿ SSL å·¥ä½œã€‚</span></span><br><span class="line">WEBDAV_DOMAINS=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the URL path where you want your WebDAV site to be.</span></span><br><span class="line"><span class="comment"># è®¾ç½® WebDAV ç«™ç‚¹çš„ URL è·¯å¾„ï¼Œè¦ä»¥ æ–œæ ç»“å°¾ï¼Œå¦åˆ™æŠ¥é”™</span></span><br><span class="line">WEBDAV_LOCATION=/webdav/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®dockeré•œåƒçš„åœ°å€</span></span><br><span class="line">BASE_IMAGE_URL=docker.1ms.run</span><br></pre></td></tr></tbody></table></figure><blockquote><p>æç¤ºï¼šåœ¨ä¸Šé¢çš„é…ç½®ä¸­ï¼Œç­‰å·å³è¾¹çš„å˜é‡å€¼éƒ½ä¸è¦åŠ å¼•å·ï¼Œç›´æ¥å¡«å†™å˜é‡å€¼å³å¯ã€‚</p></blockquote><h1 id="4-æœåŠ¡ç®¡ç†"><a href="#4-æœåŠ¡ç®¡ç†" class="headerlink" title="4. æœåŠ¡ç®¡ç†"></a>4. æœåŠ¡ç®¡ç†</h1><table><thead><tr><th>æ“ä½œ</th><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>å¯åŠ¨æœåŠ¡</td><td><code>docker-compose up -d</code></td><td>åå°å¯åŠ¨æ‰€æœ‰å®¹å™¨</td></tr><tr><td>åœæ­¢æœåŠ¡</td><td><code>docker-compose down</code></td><td>åœæ­¢å¹¶ç§»é™¤æ‰€æœ‰å®¹å™¨</td></tr><tr><td>æŸ¥çœ‹æ—¥å¿—</td><td><code>docker-compose logs -f</code></td><td>å®æ—¶æŸ¥çœ‹å®¹å™¨æ—¥å¿—</td></tr><tr><td>æ›´æ–°æœåŠ¡</td><td><code>docker-compose pull &amp;&amp; docker-compose up -d</code></td><td>æ‹‰å–æœ€æ–°é•œåƒå¹¶é‡å¯æœåŠ¡</td></tr></tbody></table><h1 id="5-æ³¨æ„äº‹é¡¹"><a href="#5-æ³¨æ„äº‹é¡¹" class="headerlink" title="5. æ³¨æ„äº‹é¡¹"></a>5. æ³¨æ„äº‹é¡¹</h1><p>âš ï¸ <strong>é‡è¦æç¤º</strong>:</p><ul><li>é¦–æ¬¡å¯åŠ¨å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿè·å–SSLè¯ä¹¦</li><li>ä¿®æ”¹é…ç½®åéœ€è¦é‡å¯æœåŠ¡ç”Ÿæ•ˆ</li><li>ç¡®ä¿<code>.env</code>å’Œ<code>user.passwd</code>æ–‡ä»¶å·²æ­£ç¡®é…ç½®</li><li>å®šæœŸå¤‡ä»½<code>acme.json</code>æ–‡ä»¶ä»¥é˜²æ­¢è¯ä¹¦ä¸¢å¤±</li><li>å»ºè®®ä½¿ç”¨å¼ºå¯†ç ä¿æŠ¤WebDAVè®¿é—®</li></ul>]]></content>
      
      
      <categories>
          
          <category> è¿ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webdav, docker, obsidian, zotero </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git_team_collab_workflow</title>
      <link href="/2025/05/14/git-team-collab-workflow/"/>
      <url>/2025/05/14/git-team-collab-workflow/</url>
      
        <content type="html"><![CDATA[<h1 id="ğŸ› ï¸-å›¢é˜Ÿ-Git-åä½œæµç¨‹è§„èŒƒ"><a href="#ğŸ› ï¸-å›¢é˜Ÿ-Git-åä½œæµç¨‹è§„èŒƒ" class="headerlink" title="ğŸ› ï¸ å›¢é˜Ÿ Git åä½œæµç¨‹è§„èŒƒ"></a>ğŸ› ï¸ å›¢é˜Ÿ Git åä½œæµç¨‹è§„èŒƒ</h1><p>ä¸ºç¡®ä¿å¤šäººåä½œå¼€å‘çš„é«˜æ•ˆä¸è§„èŒƒï¼Œå›¢é˜Ÿç»Ÿä¸€é‡‡ç”¨å¦‚ä¸‹ Git å·¥ä½œæµæµç¨‹ï¼Œ è®°å½•å¦‚ä¸‹ï¼š</p><h2 id="ğŸ› ï¸-0-å…‹éš†è¿œç¨‹ä»“åº“"><a href="#ğŸ› ï¸-0-å…‹éš†è¿œç¨‹ä»“åº“" class="headerlink" title="ğŸ› ï¸ 0. å…‹éš†è¿œç¨‹ä»“åº“"></a>ğŸ› ï¸ 0. å…‹éš†è¿œç¨‹ä»“åº“</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:xxx.git</span><br></pre></td></tr></tbody></table></figure><h2 id="ğŸš€-1-åˆ›å»ºä¸ªäººå¼€å‘åˆ†æ”¯"><a href="#ğŸš€-1-åˆ›å»ºä¸ªäººå¼€å‘åˆ†æ”¯" class="headerlink" title="ğŸš€ 1. åˆ›å»ºä¸ªäººå¼€å‘åˆ†æ”¯"></a>ğŸš€ 1. åˆ›å»ºä¸ªäººå¼€å‘åˆ†æ”¯</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b &lt;your_branch_name&gt;</span><br></pre></td></tr></tbody></table></figure><hr><h2 id="ğŸ› ï¸-2-æœ¬åœ°å¼€å‘ä¸æäº¤"><a href="#ğŸ› ï¸-2-æœ¬åœ°å¼€å‘ä¸æäº¤" class="headerlink" title="ğŸ› ï¸ 2. æœ¬åœ°å¼€å‘ä¸æäº¤"></a>ğŸ› ï¸ 2. æœ¬åœ°å¼€å‘ä¸æäº¤</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git diff                   <span class="comment"># æŸ¥çœ‹å˜æ›´ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">git add &lt;file&gt;             <span class="comment"># æ·»åŠ åˆ°æš‚å­˜åŒº</span></span><br><span class="line">git commit -m <span class="string">"è¯´æ˜å†…å®¹"</span>    <span class="comment"># æäº¤</span></span><br></pre></td></tr></tbody></table></figure><hr><h2 id="â˜ï¸-3-æ¨é€åˆ°è¿œç¨‹ä»“åº“"><a href="#â˜ï¸-3-æ¨é€åˆ°è¿œç¨‹ä»“åº“" class="headerlink" title="â˜ï¸ 3. æ¨é€åˆ°è¿œç¨‹ä»“åº“"></a>â˜ï¸ 3. æ¨é€åˆ°è¿œç¨‹ä»“åº“</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin &lt;your_branch_name&gt;</span><br></pre></td></tr></tbody></table></figure><hr><h2 id="ğŸ”„-4-åŒæ­¥ä¸»åˆ†æ”¯æœ€æ–°ä»£ç "><a href="#ğŸ”„-4-åŒæ­¥ä¸»åˆ†æ”¯æœ€æ–°ä»£ç " class="headerlink" title="ğŸ”„ 4. åŒæ­¥ä¸»åˆ†æ”¯æœ€æ–°ä»£ç "></a>ğŸ”„ 4. åŒæ­¥ä¸»åˆ†æ”¯æœ€æ–°ä»£ç </h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout main</span><br><span class="line">git pull origin main       <span class="comment"># æ›´æ–°ä¸»åˆ†æ”¯</span></span><br><span class="line">git checkout &lt;your_branch_name&gt;</span><br><span class="line">git rebase main            <span class="comment"># å°†ä¸»åˆ†æ”¯æ”¹åŠ¨åº”ç”¨åˆ°å½“å‰åˆ†æ”¯</span></span><br></pre></td></tr></tbody></table></figure><p>å¦‚æœ‰å†²çªï¼Œè§£å†³åæ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add &lt;conflicted_files&gt;</span><br><span class="line">git rebase --<span class="built_in">continue</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p>âš ï¸ æœ€åå¼ºåˆ¶æ¨é€æ›´æ–°åˆ†æ”¯ï¼š</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin &lt;your_branch_name&gt; -f</span><br></pre></td></tr></tbody></table></figure><hr><h2 id="ğŸ”-5-å‘èµ·-Pull-Request"><a href="#ğŸ”-5-å‘èµ·-Pull-Request" class="headerlink" title="ğŸ” 5. å‘èµ· Pull Request"></a>ğŸ” 5. å‘èµ· Pull Request</h2><ul><li>GitHub ç‚¹å‡» <strong>â€œCompare &amp; pull requestâ€</strong></li><li>è®¾ç½®ï¼š<ul><li>ç›®æ ‡åˆ†æ”¯ï¼š<code>main</code></li><li>æºåˆ†æ”¯ï¼šä½ çš„å¼€å‘åˆ†æ”¯</li></ul></li><li>å¡«å†™è¯´æ˜ï¼Œç‚¹å‡» <strong>â€œCreate pull requestâ€</strong></li></ul><hr><h2 id="âœ…-6-å®¡æ ¸ä¸åˆå¹¶"><a href="#âœ…-6-å®¡æ ¸ä¸åˆå¹¶" class="headerlink" title="âœ… 6. å®¡æ ¸ä¸åˆå¹¶"></a>âœ… 6. å®¡æ ¸ä¸åˆå¹¶</h2><ul><li>å›¢é˜Ÿæˆå‘˜å®¡æŸ¥ä»£ç </li><li>å®¡æ ¸é€šè¿‡åï¼Œä½¿ç”¨ <strong>Squash and merge</strong> æ–¹å¼åˆå¹¶</li></ul><blockquote><p>âœ… åˆå¹¶æˆä¸€æ¬¡æäº¤ï¼Œä¿æŒä¸»åˆ†æ”¯æ•´æ´</p></blockquote><hr><h2 id="ğŸ§¹-7-åˆ é™¤åˆå¹¶åçš„åˆ†æ”¯"><a href="#ğŸ§¹-7-åˆ é™¤åˆå¹¶åçš„åˆ†æ”¯" class="headerlink" title="ğŸ§¹ 7. åˆ é™¤åˆå¹¶åçš„åˆ†æ”¯"></a>ğŸ§¹ 7. åˆ é™¤åˆå¹¶åçš„åˆ†æ”¯</h2><h3 id="è¿œç¨‹åˆ é™¤ï¼š"><a href="#è¿œç¨‹åˆ é™¤ï¼š" class="headerlink" title="è¿œç¨‹åˆ é™¤ï¼š"></a>è¿œç¨‹åˆ é™¤ï¼š</h3><ul><li>åœ¨ GitHub ä¸Šç‚¹å‡» <strong>â€œDelete branchâ€</strong></li></ul><h3 id="æœ¬åœ°åˆ é™¤ï¼š"><a href="#æœ¬åœ°åˆ é™¤ï¼š" class="headerlink" title="æœ¬åœ°åˆ é™¤ï¼š"></a>æœ¬åœ°åˆ é™¤ï¼š</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout main</span><br><span class="line">git branch -D &lt;your_branch_name&gt;</span><br></pre></td></tr></tbody></table></figure><hr><h2 id="ğŸ”„-8-åŒæ­¥ä¸»åˆ†æ”¯"><a href="#ğŸ”„-8-åŒæ­¥ä¸»åˆ†æ”¯" class="headerlink" title="ğŸ”„ 8. åŒæ­¥ä¸»åˆ†æ”¯"></a>ğŸ”„ 8. åŒæ­¥ä¸»åˆ†æ”¯</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull origin main</span><br></pre></td></tr></tbody></table></figure><hr><h2 id="ğŸ“Œ-å»ºè®®"><a href="#ğŸ“Œ-å»ºè®®" class="headerlink" title="ğŸ“Œ å»ºè®®"></a>ğŸ“Œ å»ºè®®</h2><ul><li>é¿å…å¤šäººæ“ä½œåŒä¸€åˆ†æ”¯</li><li>æ¯æ¬¡å¼€å‘ä»»åŠ¡ä½¿ç”¨æ–°åˆ†æ”¯</li><li>åˆå¹¶å‰åŠ¡å¿…åŒæ­¥ä¸»åˆ†æ”¯ï¼Œè§£å†³å†²çª</li><li>æäº¤ä¿¡æ¯å»ºè®®è§„èŒƒå‘½åï¼Œå¦‚ï¼š<ul><li><code>feat: add login modal</code></li><li><code>fix: correct time format</code></li></ul></li></ul><hr><h2 id="ğŸ“š-å‚è€ƒèµ„æ–™"><a href="#ğŸ“š-å‚è€ƒèµ„æ–™" class="headerlink" title="ğŸ“š å‚è€ƒèµ„æ–™"></a>ğŸ“š å‚è€ƒèµ„æ–™</h2><p>-<a href="https://www.bilibili.com/video/BV19e4y1q7JJ/?spm_id_from=333.337.search-card.all.click&amp;vd_source=23a5f90103c28e0016184059a052d467">é«˜å¤©çš„æ•™ç¨‹</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ¬åœ°æ„å»ºdockeré•œåƒå¹¶ä¸Šä¼ è‡³é˜¿é‡Œäº‘é•œåƒæœåŠ¡ç«™</title>
      <link href="/2025/04/24/ben-di-gou-jian-docker-jing-xiang-bing-shang-chuan-zhi-a-li-yun-jing-xiang-fu-wu-zhan/"/>
      <url>/2025/04/24/ben-di-gou-jian-docker-jing-xiang-bing-shang-chuan-zhi-a-li-yun-jing-xiang-fu-wu-zhan/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘æ¯”èµ›éœ€è¦æ„å»º<code>docker</code>é•œåƒï¼Œä¸Šä¼ è‡³é˜¿é‡Œäº‘é•œåƒæœåŠ¡ç«™ï¼Œä»¥ä¾¿äºå®˜æ–¹å¤ç°æµ‹è¯„ï¼Œè¿™æ˜¯ä¸€ä¸ªç¹ççš„è¿‡ç¨‹ï¼Œä»¥åä¹Ÿä¼šç”¨åˆ°ï¼Œæ‰€ä»¥è®°å½•ä¸€ä¸‹ã€‚</p><p>ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š</p><p>1ï¼‰ å¼€é€šé˜¿é‡Œäº‘é•œåƒæœåŠ¡</p><p>2ï¼‰ åœ¨æœ¬åœ°ç”µè„‘æˆ–è€…æœåŠ¡å™¨ä¸Šé¢å®‰è£…docker</p><p>3ï¼‰ æ„å»ºdockeré•œåƒ</p><p>4ï¼‰ å°†æœ¬åœ° docker é•œåƒæ¨é€è‡³é˜¿é‡Œäº‘é•œåƒæœåŠ¡ç«™</p><p>5ï¼‰æœ¬åœ°ä¸€é”®é•œåƒåˆ›å»ºå’Œä¸Šä¼ è„šæœ¬</p><p>ä¸‹é¢ä¸ºè¯¦ç»†çš„æ­¥éª¤æè¿°ï¼š</p><h2 id="1ï¼‰-å¼€é€šé˜¿é‡Œäº‘é•œåƒæœåŠ¡"><a href="#1ï¼‰-å¼€é€šé˜¿é‡Œäº‘é•œåƒæœåŠ¡" class="headerlink" title="1ï¼‰ å¼€é€šé˜¿é‡Œäº‘é•œåƒæœåŠ¡"></a>1ï¼‰ å¼€é€šé˜¿é‡Œäº‘é•œåƒæœåŠ¡</h2><p>é˜¿é‡Œäº‘é•œåƒæœåŠ¡ç«™çš„å¼€é€šè¿‡ç¨‹æ¯”è¾ƒç¹çï¼Œæ ¹æ®<a href="https://www.datawhale.cn/activity/185/27/116?rankingPage=1">DataWhaleçš„æ•™ç¨‹</a>æ“ä½œå¦‚ä¸‹ï¼š</p><p>a. ç‚¹å‡»<a href="https://www.aliyun.com/product/acr">é“¾æ¥</a>å¹¶ç™»å½•é˜¿é‡Œäº‘è´¦å·</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250424152224.png" alt="1. æ‰“å¼€ç®¡ç†æ§åˆ¶å°"></p><p>b. åˆ›å»ºä¸ªäººç‰ˆå®ä¾‹</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250424152336.png" alt="img"></p><p>c. åˆ›å»ºå‘½åç©ºé—´</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250424152445.png" alt="img"></p><p>d.  åˆ›å»ºé•œåƒä»“åº“</p><p>åˆ›å»ºé•œåƒä»“åº“æ—¶ï¼Œä»£ç æºé€‰æ‹©æœ¬åœ°é•œåƒä¸Šä¼ ï¼Œç„¶åä¼šè·³è½¬åˆ°åŸºæœ¬ä¿¡æ¯é¡µé¢ï¼ŒæŸ¥çœ‹æ“ä½œæŒ‡å—ï¼Œè¿™é‡Œå†™æ˜äº†ï¼Œå¦‚ä½•å°†æœ¬åœ°é•œåƒä¸Šä¼ åˆ°é•œåƒæœåŠ¡ç«™çš„è¯¦ç»†æ­¥å¥ã€‚</p><h2 id="2ï¼‰-åœ¨æœ¬åœ°ç”µè„‘æˆ–è€…æœåŠ¡å™¨ä¸Šé¢å®‰è£…docker"><a href="#2ï¼‰-åœ¨æœ¬åœ°ç”µè„‘æˆ–è€…æœåŠ¡å™¨ä¸Šé¢å®‰è£…docker" class="headerlink" title="2ï¼‰ åœ¨æœ¬åœ°ç”µè„‘æˆ–è€…æœåŠ¡å™¨ä¸Šé¢å®‰è£…docker"></a>2ï¼‰ åœ¨æœ¬åœ°ç”µè„‘æˆ–è€…æœåŠ¡å™¨ä¸Šé¢å®‰è£…docker</h2><p>æ­¤å¤„ç•¥ï¼Œè¯¦è§dockerå®˜ç½‘ã€‚</p><h2 id="3ï¼‰-æ„å»ºdockeré•œåƒ"><a href="#3ï¼‰-æ„å»ºdockeré•œåƒ" class="headerlink" title="3ï¼‰ æ„å»ºdockeré•œåƒ"></a>3ï¼‰ æ„å»ºdockeré•œåƒ</h2><p>a. æ„å»º <code>docker-file</code> æ–‡ä»¶</p><p>æ ¹æ®è‡ªå·±çš„éœ€æ±‚ç¼–è¾‘å¥½<code>docker-file</code>æ–‡ä»¶ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">FROM registry.cn-hangzhou.aliyuncs.com/sais-public/pytorch:2.0.0-py3.9.12-cuda11.8.0-u22.04</span><br><span class="line"></span><br><span class="line">ADD . /app</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å·¥ä½œç›®å½•</span></span><br><span class="line">WORKDIR /app</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°pip</span></span><br><span class="line"></span><br><span class="line">RUN pip install --upgrade pip</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®pipå›½å†…æº</span></span><br><span class="line">RUN pip config <span class="built_in">set</span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line"></span><br><span class="line">RUN pip install torch_scatter-2.1.1+pt20cu118-cp39-cp39-linux_x86_64.whl</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰å®¹å™¨å¯åŠ¨æ—¶é»˜è®¤æ‰§è¡Œçš„å‘½ä»¤</span></span><br><span class="line">CMD [<span class="string">"sh"</span>, <span class="string">"/app/run.sh"</span>]</span><br></pre></td></tr></tbody></table></figure><p>b. æ‰§è¡Œæ„å»º<code>docker</code>é•œåƒçš„å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t <span class="built_in">test</span>:v4 -f Dockerfile .</span><br></pre></td></tr></tbody></table></figure><p>c. æŸ¥çœ‹æ„å»ºå¥½çš„ <code>docker</code> é•œåƒ</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></tbody></table></figure><h2 id="4-å°†æœ¬åœ°-docker-é•œåƒæ¨é€è‡³é˜¿é‡Œäº‘é•œåƒæœåŠ¡ç«™"><a href="#4-å°†æœ¬åœ°-docker-é•œåƒæ¨é€è‡³é˜¿é‡Œäº‘é•œåƒæœåŠ¡ç«™" class="headerlink" title="4) å°†æœ¬åœ° docker é•œåƒæ¨é€è‡³é˜¿é‡Œäº‘é•œåƒæœåŠ¡ç«™"></a>4) å°†æœ¬åœ° docker é•œåƒæ¨é€è‡³é˜¿é‡Œäº‘é•œåƒæœåŠ¡ç«™</h2><p>æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä¸ºæœ¬åœ°é•œåƒæ‰“æ ‡ç­¾ï¼Œå¹¶ä¸”å°†æœ¬åœ°é•œåƒæ¨é€åˆ°é˜¿é‡Œäº‘é•œåƒæœåŠ¡ç«™ï¼ˆä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå…·ä½“çš„å¯ä»¥åœ¨1.dæ­¥éª¤ â€œåˆ›å»ºé•œåƒä»“åº“-æ“ä½œæŒ‡å—â€ä¸­æŸ¥çœ‹ ï¼‰</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker login --username=[ç”¨æˆ·å] [é•œåƒç«™ç‚¹]</span><br><span class="line">$ docker tag [ImageId] [é•œåƒç«™ç‚¹]/[å‘½åç©ºé—´]/[é•œåƒä»“åº“å]:[é•œåƒç‰ˆæœ¬å·]</span><br><span class="line">$ docker push [é•œåƒç«™ç‚¹]/[å‘½åç©ºé—´]/[é•œåƒä»“åº“å]:[é•œåƒç‰ˆæœ¬å·]</span><br></pre></td></tr></tbody></table></figure><h2 id="5ï¼‰-æœ¬åœ°ä¸€é”®é•œåƒåˆ›å»ºå’Œä¸Šä¼ è„šæœ¬"><a href="#5ï¼‰-æœ¬åœ°ä¸€é”®é•œåƒåˆ›å»ºå’Œä¸Šä¼ è„šæœ¬" class="headerlink" title="5ï¼‰ æœ¬åœ°ä¸€é”®é•œåƒåˆ›å»ºå’Œä¸Šä¼ è„šæœ¬"></a>5ï¼‰ æœ¬åœ°ä¸€é”®é•œåƒåˆ›å»ºå’Œä¸Šä¼ è„šæœ¬</h2><p>ä¸ºäº†æ–¹ä¾¿ï¼Œä¸‹é¢ç»™å‡ºäº†<code>æœ¬åœ°ä¸€é”®é•œåƒåˆ›å»ºå’Œä¸Šä¼ è„šæœ¬</code>ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># dockerçš„æ ‡ç­¾</span></span><br><span class="line">TAG=<span class="variable">${1:-"v4"}</span></span><br><span class="line"><span class="comment"># dockerçš„ç”¨æˆ·åå’Œå¯†ç </span></span><br><span class="line">USER=<span class="string">""</span></span><br><span class="line">PASSWORD=<span class="string">""</span></span><br><span class="line"><span class="comment"># æ¨é€çš„dockerä»“åº“</span></span><br><span class="line">REGISTRY=<span class="string">"[é•œåƒç«™ç‚¹]/[å‘½åç©ºé—´]/[é•œåƒä»“åº“å]"</span></span><br><span class="line"><span class="comment"># ä½¿ç”¨å˜é‡è¿›è¡Œ Docker ç™»å½•</span></span><br><span class="line">docker login -u <span class="variable">$USER</span> -p <span class="variable">$PASSWORD</span> [é•œåƒç«™ç‚¹]</span><br><span class="line"><span class="comment"># æ‰“åŒ…ä»£ç </span></span><br><span class="line">docker build -t <span class="built_in">test</span>:v4 -f Dockerfile .</span><br><span class="line"><span class="comment"># ä¿®æ”¹é•œåƒ</span></span><br><span class="line">docker tag <span class="built_in">test</span>:v4 <span class="variable">$REGISTRY</span>:<span class="variable">$TAG</span></span><br><span class="line"><span class="comment"># æ¨é€é•œåƒ</span></span><br><span class="line">docker push <span class="variable">$REGISTRY</span>:<span class="variable">$TAG</span></span><br><span class="line"><span class="comment"># æ‰“å°ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"æ¨é€æˆåŠŸï¼Œè¯·åˆ°æ¯”èµ›å®˜æ–¹æäº¤ä½œå“"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"é•œåƒè·¯å¾„ï¼š<span class="variable">$REGISTRY</span>:<span class="variable">$TAG</span>"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"ç”¨æˆ·åï¼š<span class="variable">$USER</span> / å¯†ç ï¼š<span class="variable">$PASSWORD</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸€é”®åŒ–è„šæœ¬æ‰“åŒ…ä½¿ç”¨ï¼š</span></span><br><span class="line"><span class="comment">## 1. å°†æ‰€æœ‰çš„ä»£ç  æ¨¡å‹ è¿è¡Œè„šæœ¬æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="comment">## 2. ä¿®æ”¹ä¸Šè¿°è„šæœ¬ä¸­çš„ è´¦å· å¯†ç  ä»“åº“</span></span><br><span class="line"><span class="comment">## 3. æ‰§è¡Œæ¨é€è„šæœ¬ï¼šsh push.sh (é»˜è®¤tagä¸ºv1ï¼Œå¦‚éœ€è¦ä¿®æ”¹å¯å‘½ä»¤åæ·»åŠ ï¼Œå¦‚ï¼šsh push.sh v2)</span></span><br><span class="line"><span class="comment">## 4. ç­‰å¾…æˆåŠŸåŠæ‰“å°</span></span><br></pre></td></tr></tbody></table></figure><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><p><a href="https://www.datawhale.cn/activity/185/27/116?rankingPage=1">Datawhaleå¼€é€šé˜¿é‡Œäº‘é•œåƒæœåŠ¡æ•™ç¨‹ </a></p><p>å®Œï¼ enjoy ğŸ˜„</p>]]></content>
      
      
      <categories>
          
          <category> çˆ¬å‘æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®‰è£…torch-scatteræ—¶é‡åˆ°çš„å‘</title>
      <link href="/2025/04/18/an-zhuang-torch-scatter-shi-yu-dao-de-keng/"/>
      <url>/2025/04/18/an-zhuang-torch-scatter-shi-yu-dao-de-keng/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©åœ¨ä½¿ç”¨ <code>pip</code> å®‰è£…<code> torch-scatter</code> åŒ…æ—¶æŠ¥é”™ï¼Œç„¶åä½¿ç”¨ <code>conda</code> æˆåŠŸå®‰è£…äº†ï¼Œä½†æ˜¯è¿è¡Œä»£ç çš„æ—¶å€™æŠ¥é”™ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªåº•å±‚çš„é”™è¯¯ã€‚</p><p>æŸ¥è¯¢ä¹‹åå‘ç°ï¼Œæ˜¯å› ä¸º<strong>åœ¨ä½¿ç”¨ <code>torch_scatter</code>ã€<code>torch_sparse</code>ã€<code>torch_cluster</code> ç­‰åŸºäº C++ çš„æ‰©å±•æ¨¡å—æ—¶ï¼Œå¦‚æœ <code>PyTorch</code> ç‰ˆæœ¬å’Œç³»ç»Ÿç¯å¢ƒä¸å®Œå…¨åŒ¹é…ï¼Œå°±å®¹æ˜“å‘ç”Ÿè¿™ç±»åº•å±‚ç¼–è¯‘å¤±è´¥ã€‚</strong></p><p>è§£å†³æ–¹æ³•æœ€ç¨³å®šä¹Ÿæœ€çœäº‹çš„æ–¹å¼æ˜¯<strong>ä¸è¦ä»æºç ç¼–è¯‘ torch_scatter</strong>ï¼Œè€Œæ˜¯ä½¿ç”¨é¢„ç¼–è¯‘å¥½çš„ <code>.whl</code> åŒ…è¿›è¡Œå®‰è£…ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>ç¡®è®¤ <code>PyTorch</code> å’Œ <code>Python</code> ç‰ˆæœ¬</li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -c <span class="string">"import torch; print(torch.__version__)"</span></span><br><span class="line">python -V</span><br></pre></td></tr></tbody></table></figure><ol start="2"><li>è®¿é—® <a href="https://data.pyg.org/whl/">https://data.pyg.org/whl/</a> ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„ <code>*.whl</code> åˆ°æœ¬åœ°</li></ol>  <img src="https://raw.githubusercontent.com/Skylyong/i/main/20250418231208.png" alt="image-20250418222818844" style="zoom:100%;"><ol start="3"><li>ä½¿ç”¨<code>pip</code>å®‰è£…ä¸‹è½½çš„ <code>whl</code> åŒ…</li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install xxx.whl</span><br></pre></td></tr></tbody></table></figure><p>è¿™æ ·é—®é¢˜å°±è§£å†³äº†ï¼Œå¼€å¿ƒğŸ˜„</p>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> pytorch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>neo4jå¯¼å…¥èŠ‚ç‚¹å’Œè¾¹çš„pythonä»£ç </title>
      <link href="/2025/03/17/neo4j-dao-ru-jie-dian-he-bian-de-python-dai-ma/"/>
      <url>/2025/03/17/neo4j-dao-ru-jie-dian-he-bian-de-python-dai-ma/</url>
      
        <content type="html"><![CDATA[<p>åœ¨åšçŸ¥è¯†å›¾è°±ç›¸å…³çš„é¡¹ç›®æ—¶ï¼Œç»å¸¸éœ€è¦å°†æ•°æ®å¯¼å…¥åˆ°neo4jä¸­ï¼Œè¿™é‡Œåˆ†äº«ä¸€ä¸‹å¯¼å…¥èŠ‚ç‚¹å’Œè¾¹çš„pythonä»£ç ï¼Œä»¥ä¾¿äºä»¥åæŸ¥é˜…ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸‹é¢çš„ä»£ç æ˜¯åœ¨neo4j 5.x ç‰ˆæœ¬ä¸Šæµ‹è¯•é€šè¿‡çš„ï¼Œå¦‚æœæ˜¯å…¶ä»–ç‰ˆæœ¬ï¼Œå¯èƒ½éœ€è¦åšä¸€äº›è°ƒæ•´ã€‚</p><ol><li>neo4j å¯¼å…¥èŠ‚ç‚¹å’Œè¾¹çš„ç±»å®ç°</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> neo4j <span class="keyword">import</span> GraphDatabase</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">format_properties</span>(<span class="params"> properties</span>):</span><br><span class="line">    <span class="comment"># å°†å±æ€§å­—å…¸è½¬æ¢ä¸ºä¸å¸¦å¼•å·çš„å­—ç¬¦ä¸²</span></span><br><span class="line">        formatted_properties = []</span><br><span class="line">        <span class="keyword">for</span> key, value <span class="keyword">in</span> properties.items():</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">isinstance</span>(value, <span class="built_in">str</span>):</span><br><span class="line">                formatted_properties.append(<span class="string">f"<span class="subst">{key}</span>: '<span class="subst">{value}</span>'"</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                formatted_properties.append(<span class="string">f"<span class="subst">{key}</span>: '<span class="subst">{value}</span>'"</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'{'</span> + <span class="string">', '</span>.join(formatted_properties) + <span class="string">'}'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Neo4jClass</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, uri, auth</span>):</span><br><span class="line">        <span class="variable language_">self</span>.driver = GraphDatabase.driver(uri, auth=auth)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">close</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.driver.close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create_node</span>(<span class="params">self, label, properties</span>):</span><br><span class="line">        <span class="keyword">with</span> <span class="variable language_">self</span>.driver.session() <span class="keyword">as</span> session:</span><br><span class="line">            session.write_transaction(<span class="variable language_">self</span>._create_node, label, properties)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">del_all</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">with</span> <span class="variable language_">self</span>.driver.session() <span class="keyword">as</span> session:</span><br><span class="line">            query = <span class="string">f'MATCH (n) DETACH DELETE n'</span></span><br><span class="line">            session.run(query)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_create_node</span>(<span class="params">tx, label, properties</span>):</span><br><span class="line">        query = <span class="string">f"CREATE (n:<span class="subst">{label}</span> $properties) RETURN n"</span></span><br><span class="line">        tx.run(query, properties=properties)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create_relationship</span>(<span class="params">self, label1, properties1, label2, properties2, relationship</span>):</span><br><span class="line">        <span class="keyword">with</span> <span class="variable language_">self</span>.driver.session() <span class="keyword">as</span> session:</span><br><span class="line">            session.write_transaction(<span class="variable language_">self</span>._create_relationship, label1, properties1, label2, properties2, relationship)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_create_relationship</span>(<span class="params">tx, label1, properties1, label2, properties2, relationship</span>):</span><br><span class="line">        properties1 = format_properties(properties1)</span><br><span class="line">        properties2 = format_properties(properties2)</span><br><span class="line">        query = <span class="string">f"MATCH (a:<span class="subst">{label1}</span> <span class="subst">{properties1}</span>), (b:<span class="subst">{label2}</span> <span class="subst">{properties2}</span>) \</span></span><br><span class="line"><span class="string">                 CREATE (a)-[r:<span class="subst">{relationship}</span>]-&gt;(b) RETURN r"</span></span><br><span class="line">        tx.run(query)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create_relationship_with_properties</span>(<span class="params">self, label1, properties1, label2, properties2, relationship, properties</span>):</span><br><span class="line">        <span class="keyword">with</span> <span class="variable language_">self</span>.driver.session() <span class="keyword">as</span> session:</span><br><span class="line">            session.write_transaction(<span class="variable language_">self</span>._create_relationship_with_properties, label1, properties1, label2, properties2, relationship, properties)</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_create_relationship_with_properties</span>(<span class="params">tx, label1, properties1, label2, properties2, relationship, properties</span>):</span><br><span class="line">        properties1 = format_properties(properties1)</span><br><span class="line">        properties2 = format_properties(properties2)</span><br><span class="line">        properties = format_properties(properties)</span><br><span class="line">        query = <span class="string">f"MATCH (a:<span class="subst">{label1}</span> <span class="subst">{properties1}</span>), (b:<span class="subst">{label2}</span> <span class="subst">{properties2}</span>) \</span></span><br><span class="line"><span class="string">                 CREATE (a)-[r:<span class="subst">{relationship}</span> <span class="subst">{properties}</span>]-&gt;(b) RETURN r"</span></span><br><span class="line">        tx.run(query)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run_query</span>(<span class="params">self, query</span>):</span><br><span class="line">        <span class="keyword">with</span> <span class="variable language_">self</span>.driver.session() <span class="keyword">as</span> session:</span><br><span class="line">            <span class="keyword">return</span> session.run(query)</span><br><span class="line">    </span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="string">'__main__'</span> == __name__:</span><br><span class="line">    url = <span class="string">r'bolt://localhost:7687'</span></span><br><span class="line">    auth = (<span class="string">"neo4j"</span>, <span class="string">"neo4j-key"</span>)</span><br><span class="line"></span><br><span class="line">    neo4j = Neo4jClass(uri=url, auth=auth)</span><br><span class="line"></span><br><span class="line">    neo4j.del_all()</span><br><span class="line">    neo4j.create_node(<span class="string">"Person"</span>, {<span class="string">"name"</span>: <span class="string">"Alice"</span>, <span class="string">"age"</span>: <span class="number">30</span>})</span><br><span class="line">    neo4j.create_node(<span class="string">"Person"</span>, {<span class="string">"name"</span>: <span class="string">"Bob"</span>, <span class="string">"age"</span>: <span class="number">25</span>})</span><br><span class="line">    neo4j.create_relationship(<span class="string">"Person"</span>, {<span class="string">"name"</span>: <span class="string">"Alice"</span>}, <span class="string">"Person"</span>, {<span class="string">"name"</span>: <span class="string">"Bob"</span>}, <span class="string">"KNOWS"</span>)</span><br><span class="line">    </span><br><span class="line">    neo4j.create_node(<span class="string">"Person"</span>, {<span class="string">"name"</span>: <span class="string">"Tom"</span>, <span class="string">"age"</span>: <span class="number">30</span>})</span><br><span class="line">    neo4j.create_relationship_with_properties(<span class="string">"Person"</span>, {<span class="string">"name"</span>: <span class="string">"Alice"</span>}, <span class="string">"Person"</span>, {<span class="string">"name"</span>: <span class="string">"Tom"</span>}, <span class="string">"KW"</span>, {<span class="string">"since"</span>: <span class="string">"2021-01-01"</span>, <span class="string">"weight"</span>: <span class="number">0.8</span>})</span><br><span class="line"></span><br><span class="line">    neo4j.close()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><ol start="2"><li>å®é™…ä½¿ç”¨ç¤ºä¾‹</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">@author: eggplant</span></span><br><span class="line"><span class="string">@project: TCM_KG</span></span><br><span class="line"><span class="string">@time: 2024å¹´07æœˆ30æ—¥13:16:04</span></span><br><span class="line"><span class="string">@function: å°†é¢„å¤„ç†å¥½çš„èŠ‚ç‚¹å’Œä¸‰å…ƒç»„å¯¼å…¥ Neo4j æ•°æ®åº“</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">JSON æ–‡ä»¶æ ¼å¼è¯´æ˜:</span></span><br><span class="line"><span class="string">JSON æ–‡ä»¶åº”åŒ…å«ä»¥ä¸‹é”®:</span></span><br><span class="line"><span class="string">- `entity_nodes` (list): å®ä½“èŠ‚ç‚¹åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå­—å…¸ï¼ŒåŒ…å«:</span></span><br><span class="line"><span class="string">  - `name` (str): å®ä½“åç§°</span></span><br><span class="line"><span class="string">  - `type` (str): å®ä½“ç±»å‹</span></span><br><span class="line"><span class="string">  - å…¶ä»–å±æ€§ (å¯é€‰)</span></span><br><span class="line"><span class="string">- `relation_nodes` (list): å…³ç³»èŠ‚ç‚¹åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå­—å…¸ï¼ŒåŒ…å«:</span></span><br><span class="line"><span class="string">  - `name` (str): å…³ç³»åç§°</span></span><br><span class="line"><span class="string">  - `property` (dict, å¯é€‰): å…³ç³»å±æ€§</span></span><br><span class="line"><span class="string">- `triples` (list): ä¸‰å…ƒç»„åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªä¸‰å…ƒç»„ (e1_idx, rel_idx, e2_idx)ï¼Œç´¢å¼•æŒ‡å‘ `entity_nodes` å’Œ `relation_nodes`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ç¤ºä¾‹ JSON æ–‡ä»¶:</span></span><br><span class="line"><span class="string">{</span></span><br><span class="line"><span class="string">    "entity_nodes": [</span></span><br><span class="line"><span class="string">        {"name": "æ„Ÿå†’", "type": "ç–¾ç—…", "ç—‡çŠ¶": "å‘çƒ­"},</span></span><br><span class="line"><span class="string">        {"name": "å‘çƒ­", "type": "ç—‡çŠ¶"}</span></span><br><span class="line"><span class="string">    ],</span></span><br><span class="line"><span class="string">    "relation_nodes": [</span></span><br><span class="line"><span class="string">        {"name": "å…·æœ‰ç—‡çŠ¶", "property": {"å¼ºåº¦": "é«˜"}}</span></span><br><span class="line"><span class="string">    ],</span></span><br><span class="line"><span class="string">    "triples": [</span></span><br><span class="line"><span class="string">        [0, 0, 1]  # ä»£è¡¨ "æ„Ÿå†’" -&gt; "å…·æœ‰ç—‡çŠ¶" -&gt; "å‘çƒ­"</span></span><br><span class="line"><span class="string">    ]</span></span><br><span class="line"><span class="string">}</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> tqdm</span><br><span class="line"><span class="keyword">from</span> .neo4j_tools <span class="keyword">import</span> Neo4jClass</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dict_to_string</span>(<span class="params">entity: <span class="built_in">dict</span></span>) -&gt; <span class="built_in">dict</span>:</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    å°†å®ä½“å­—å…¸ä¸­çš„åµŒå¥—å­—å…¸è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    å‚æ•°:</span></span><br><span class="line"><span class="string">    - entity (dict): éœ€è¦è½¬æ¢çš„å®ä½“å­—å…¸</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    è¿”å›:</span></span><br><span class="line"><span class="string">    - dict: å¤„ç†åçš„å­—å…¸ï¼ŒåµŒå¥—å­—å…¸è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    ç¤ºä¾‹:</span></span><br><span class="line"><span class="string">    è¾“å…¥: {"name": "æ„Ÿå†’", "å±æ€§": {"ç—…å› ": "ç—…æ¯’æ„ŸæŸ“"}}</span></span><br><span class="line"><span class="string">    è¾“å‡º: {"name": "æ„Ÿå†’", "å±æ€§": '{"ç—…å› ": "ç—…æ¯’æ„ŸæŸ“"}'}</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">return</span> {key: json.dumps(value, ensure_ascii=<span class="literal">False</span>) <span class="keyword">if</span> <span class="built_in">isinstance</span>(value, <span class="built_in">dict</span>) <span class="keyword">else</span> value <span class="keyword">for</span> key, value <span class="keyword">in</span> entity.items()}</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">import_entity_nodes</span>(<span class="params">neo4j, entity_nodes: <span class="built_in">list</span>, debug_n: <span class="built_in">int</span></span>):</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    å¯¼å…¥å®ä½“èŠ‚ç‚¹</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    å‚æ•°:</span></span><br><span class="line"><span class="string">    - neo4j (Neo4jClass): Neo4j æ•°æ®åº“æ“ä½œå®ä¾‹</span></span><br><span class="line"><span class="string">    - entity_nodes (list): å®ä½“èŠ‚ç‚¹åˆ—è¡¨</span></span><br><span class="line"><span class="string">    - debug_n (int): è°ƒè¯•æ¨¡å¼ä¸‹æœ€å¤§å¯¼å…¥æ•°é‡ (-1 è¡¨ç¤ºä¸é™åˆ¶)</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    ç¤ºä¾‹:</span></span><br><span class="line"><span class="string">    entity_nodes = [{"name": "æ„Ÿå†’", "type": "ç–¾ç—…"}, {"name": "å‘çƒ­", "type": "ç—‡çŠ¶"}]</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"å¯¼å…¥å®ä½“èŠ‚ç‚¹..."</span>)</span><br><span class="line">    <span class="keyword">for</span> idx, entity <span class="keyword">in</span> tqdm.tqdm(<span class="built_in">enumerate</span>(entity_nodes)):</span><br><span class="line">        neo4j.create_node(entity[<span class="string">'type'</span>], dict_to_string(entity))</span><br><span class="line">        <span class="keyword">if</span> debug_n != -<span class="number">1</span> <span class="keyword">and</span> idx &gt;= debug_n:</span><br><span class="line">            <span class="keyword">break</span>  <span class="comment"># Debug æ¨¡å¼é™åˆ¶å¯¼å…¥æ•°é‡</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">import_triples</span>(<span class="params">neo4j, data: <span class="built_in">dict</span>, debug_n: <span class="built_in">int</span></span>):</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    å¯¼å…¥ä¸‰å…ƒç»„å…³ç³»</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    å‚æ•°:</span></span><br><span class="line"><span class="string">    - neo4j (Neo4jClass): Neo4j æ•°æ®åº“æ“ä½œå®ä¾‹</span></span><br><span class="line"><span class="string">    - data (dict): åŒ…å« `entity_nodes`, `relation_nodes`, `triples` çš„ JSON æ•°æ®</span></span><br><span class="line"><span class="string">    - debug_n (int): è°ƒè¯•æ¨¡å¼ä¸‹æœ€å¤§å¯¼å…¥æ•°é‡ (-1 è¡¨ç¤ºä¸é™åˆ¶)</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    ç¤ºä¾‹:</span></span><br><span class="line"><span class="string">    data = {</span></span><br><span class="line"><span class="string">        "entity_nodes": [{"name": "æ„Ÿå†’", "type": "ç–¾ç—…"}, {"name": "å‘çƒ­", "type": "ç—‡çŠ¶"}],</span></span><br><span class="line"><span class="string">        "relation_nodes": [{"name": "å…·æœ‰ç—‡çŠ¶"}],</span></span><br><span class="line"><span class="string">        "triples": [[0, 0, 1]]</span></span><br><span class="line"><span class="string">    }</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"å¯¼å…¥ä¸‰å…ƒç»„..."</span>)</span><br><span class="line">    <span class="keyword">for</span> idx, (e1_idx, rel_idx, e2_idx) <span class="keyword">in</span> tqdm.tqdm(<span class="built_in">enumerate</span>(data[<span class="string">'triples'</span>])):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            entity1 = {<span class="string">'name'</span>: data[<span class="string">'entity_nodes'</span>][e1_idx][<span class="string">'name'</span>], <span class="string">'type'</span>: data[<span class="string">'entity_nodes'</span>][e1_idx][<span class="string">'type'</span>]}</span><br><span class="line">            entity2 = {<span class="string">'name'</span>: data[<span class="string">'entity_nodes'</span>][e2_idx][<span class="string">'name'</span>], <span class="string">'type'</span>: data[<span class="string">'entity_nodes'</span>][e2_idx][<span class="string">'type'</span>]}</span><br><span class="line">            relation = data[<span class="string">'relation_nodes'</span>][rel_idx]</span><br><span class="line"></span><br><span class="line">            entity1, entity2 = <span class="built_in">map</span>(dict_to_string, (entity1, entity2))</span><br><span class="line">            entity1_clean = {k: v.replace(<span class="string">"'"</span>, <span class="string">"_"</span>) <span class="keyword">for</span> k, v <span class="keyword">in</span> entity1.items() <span class="keyword">if</span> k != <span class="string">'type'</span>}</span><br><span class="line">            entity2_clean = {k: v.replace(<span class="string">"'"</span>, <span class="string">"_"</span>) <span class="keyword">for</span> k, v <span class="keyword">in</span> entity2.items() <span class="keyword">if</span> k != <span class="string">'type'</span>}</span><br><span class="line">            </span><br><span class="line">            neo4j.create_relationship_with_properties(</span><br><span class="line">                entity1[<span class="string">'type'</span>], entity1_clean, entity2[<span class="string">'type'</span>], entity2_clean, relation[<span class="string">'name'</span>], relation.get(<span class="string">'property'</span>, {})</span><br><span class="line">            )</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f"è·³è¿‡é”™è¯¯ä¸‰å…ƒç»„ <span class="subst">{idx}</span>: <span class="subst">{e}</span>"</span>)</span><br><span class="line">        <span class="keyword">if</span> debug_n != -<span class="number">1</span> <span class="keyword">and</span> idx &gt;= debug_n:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">import_data_to_neo4j</span>(<span class="params">neo4j, file_paths: <span class="built_in">list</span>, debug_n: <span class="built_in">int</span> = -<span class="number">1</span></span>):</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    ä» JSON æ–‡ä»¶å¯¼å…¥æ•°æ®åˆ° Neo4j</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    å‚æ•°:</span></span><br><span class="line"><span class="string">    - neo4j (Neo4jClass): Neo4j æ•°æ®åº“æ“ä½œå®ä¾‹</span></span><br><span class="line"><span class="string">    - file_paths (list): JSON æ–‡ä»¶è·¯å¾„åˆ—è¡¨</span></span><br><span class="line"><span class="string">    - debug_n (int): è°ƒè¯•æ¨¡å¼ä¸‹æœ€å¤§å¯¼å…¥æ•°é‡ (-1 è¡¨ç¤ºä¸é™åˆ¶)</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">for</span> file_path <span class="keyword">in</span> file_paths:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f"å¤„ç†æ–‡ä»¶: <span class="subst">{file_path}</span>"</span>)</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(file_path, <span class="string">'r'</span>, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">            data = json.load(f)</span><br><span class="line">        </span><br><span class="line">        import_entity_nodes(neo4j, data.get(<span class="string">'entity_nodes'</span>, []), debug_n)</span><br><span class="line">        import_triples(neo4j, data, debug_n)</span><br><span class="line">    </span><br><span class="line">    neo4j.close()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"æ•°æ®å¯¼å…¥å®Œæˆï¼"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    DEBUG_N = -<span class="number">1</span>  <span class="comment"># è°ƒè¯•æ¨¡å¼ï¼Œè®¾ç½®å¯¼å…¥çš„æœ€å¤§æ•°é‡ï¼Œ-1 è¡¨ç¤ºä¸é™åˆ¶</span></span><br><span class="line">    </span><br><span class="line">    NEO4J_CONFIG = {</span><br><span class="line">        <span class="string">"uri"</span>: <span class="string">"bolt://localhost:7687"</span>,</span><br><span class="line">        <span class="string">"auth"</span>: (<span class="string">"neo4j"</span>, <span class="string">"neo4j-key"</span>)</span><br><span class="line">    }</span><br><span class="line">    FILE_PATHS = [</span><br><span class="line">        <span class="string">r'data.json'</span>,</span><br><span class="line">    ]</span><br><span class="line">    </span><br><span class="line">    neo4j = Neo4jClass(**NEO4J_CONFIG)</span><br><span class="line">    neo4j.del_all()</span><br><span class="line">    </span><br><span class="line">    import_data_to_neo4j(neo4j, FILE_PATHS, debug_n=DEBUG_N)</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>enjoy it! ğŸ‰</p>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> neo4j </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¡—æ‹åˆé›†</title>
      <link href="/2025/03/09/jie-pai-he-ji/"/>
      <url>/2025/03/09/jie-pai-he-ji/</url>
      
        <content type="html"><![CDATA[<p>æ•´ç†äº†ä¸€äº›ä»¥å‰çš„è¡—æ‹ç…§ç‰‡ï¼Œé™†é™†ç»­ç»­æ‹äº†å‡ ä¸‡å¼ ï¼Œåé¢ä¼šæŒç»­æ›´æ–° â€¦</p><div class="multiple-breaks" style="height: 30px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011045.png" alt="image-20250309011043469"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011143.png" alt="image-20250309011141761"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011206.png" alt="image-20250309011204621"></p><p><span class="image-caption  ">ã€Œå†¬æ—¥å›¾ä¹¦é¦†å‰çš„æ ‘ã€‚ã€</span></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011221.png" alt="image-20250309011218660"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011240.png" alt="image-20250309011238240"></p><p><span class="image-caption  ">ã€Œæ ¡å›­é‡Œé¢æ ‘ä¸Šçš„é¸Ÿå·¢ã€‚ã€</span></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011302.png" alt="image-20250309011300579"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011318.png" alt="image-20250309011316987"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011345.png" alt="image-20250309011344050"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011402.png" alt="image-20250309011400836"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011422.png" alt="image-20250309011420372"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011500.png" alt="image-20250309011459223"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011514.png" alt="image-20250309011512562"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012213.png" alt="image-20250309012212232"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012238.png" alt="image-20250309012237636"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012254.png" alt="image-20250309012253051"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012310.png" alt="image-20250309012308962"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012336.png" alt="image-20250309012335634"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012358.png" alt="image-20250309012357276"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012420.png" alt="image-20250309012419510"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012445.png" alt="image-20250309012443963"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012506.png" alt="image-20250309012504640"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012529.png" alt="image-20250309012528296"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012544.png" alt="image-20250309012542797"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012601.png" alt="image-20250309012559789"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012618.png" alt="image-20250309012617264"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012638.png" alt="image-20250309012637503"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011603.png" alt="image-20250309011601530"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011617.png" alt="image-20250309011615470"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011649.png" alt="image-20250309011648512"></p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011707.png" alt="image-20250309011706058"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011722.png" alt="image-20250309011720467"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011736.png" alt="image-20250309011735331"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011804.png" alt="image-20250309011802854"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011826.png" alt="image-20250309011825391"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011842.png" alt="image-20250309011840388"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011903.png" alt="image-20250309011902068"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011917.png" alt="image-20250309011916350"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309011934.png" alt="image-20250309011933590"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012001.png" alt="image-20250309012000387"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012029.png" alt="image-20250309012028556"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012046.png" alt="image-20250309012044991"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012117.png" alt="image-20250309012117"></p><div class="multiple-breaks" style="height: 360px;"></div><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309012133.png" alt="image-20250309012124306"></p><div class="multiple-breaks" style="height: 360px;"></div><style>.multiple-breaks {    display: block;    margin-top: 20px;}.image-caption {          font-family: 'Inter', 'Noto Sans SC', sans-serif; /* ç®€çº¦æ— è¡¬çº¿å­—ä½“ */    font-size: 15px; /* é€‚ä¸­çš„å­—ä½“å¤§å° */    color: #666; /* ä½å¯¹æ¯”åº¦ç°è‰²ï¼Œé¿å…å–§å®¾å¤ºä¸» */    text-align: center; /* æ–‡å­—å±…ä¸­ï¼Œæé«˜å¯¹ç§°æ„Ÿ */    font-weight: 400; /* é€‚ä¸­çš„å­—é‡ï¼Œä¿æŒç®€æ´ */    margin-top: 12px; /* ä¸å›¾ç‰‡ä¿æŒåˆé€‚ç•™ç™½ */    line-height: 1.8; /* å¢åŠ è¡Œé—´è·ï¼Œè®©æ–‡å­—æ›´é€šé€ */    letter-spacing: 0.5px; /* é€‚å½“å¢åŠ å­—é—´è·ï¼Œå¢å¼ºå‘¼å¸æ„Ÿ */} </style>]]></content>
      
      
      <categories>
          
          <category> æ‘„å½± </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¡—æ‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äººåƒæ‘„å½±åˆé›†</title>
      <link href="/2025/03/09/ren-xiang-she-ying-he-ji/"/>
      <url>/2025/03/09/ren-xiang-she-ying-he-ji/</url>
      
        <content type="html"><![CDATA[<p>åé¢ä¼šæŒç»­æ›´æ–° â€¦<br><br><br><br><br><br><br><br></p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309001405.png" alt="image-20250309000801077"></p><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309000843.png" alt="image-20250309000834470"></p><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309000903.png" alt="image-20250309000900685"></p><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309000927.png" alt="image-20250309000925088"></p><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309001529.png" alt="image-20250309001006265"></p><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309001548.png" alt="image-20250309001047780"></p><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309001716.png" alt="image-20250309001715109"></p><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309001122.png" alt="image-20250309001120875"></p><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250309001237.png" alt="image-20250309001156888"></p><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>]]></content>
      
      
      <categories>
          
          <category> æ‘„å½± </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‘„å½± </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonå¤šè¿›ç¨‹ç¤ºä¾‹</title>
      <link href="/2025/03/08/python-duo-jin-cheng-shi-li/"/>
      <url>/2025/03/08/python-duo-jin-cheng-shi-li/</url>
      
        <content type="html"><![CDATA[<ol><li>å¯¼å…¥ä¾èµ–çš„åŒ…</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> concurrent.futures <span class="keyword">import</span> ProcessPoolExecutor, as_completed</span><br></pre></td></tr></tbody></table></figure><ol start="2"><li>å®šä¹‰å¤„ç†å†…å®¹çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°è¦æ˜¯å…¨å±€å‡½æ•°ï¼Œä¸èƒ½æ”¾åœ¨å‡½æ•°æˆ–è€…ç±»é‡Œé¢<br>å‡½æ•°çš„å‚æ•°åªæœ‰ä¸€ä¸ªï¼Œå¯ä»¥ç”¨å…ƒç»„åŒ…è£…èµ·æ¥ï¼Œç„¶åå†è§£åŒ…</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">process_record</span>(<span class="params">args</span>):</span><br><span class="line">    text = args[<span class="number">0</span>][<span class="string">"text"</span>]</span><br><span class="line">    CONTENT = args[<span class="number">1</span>]</span><br><span class="line">    extract_info = inference(text, model=<span class="string">"deepseek-chat"</span>, CONTENT=CONTENT)</span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">        <span class="string">"text"</span>: text,</span><br><span class="line">        <span class="string">"extract_info"</span>: extract_info</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><ol start="3"><li>ä½¿ç”¨å¤šè¿›ç¨‹å¤„ç†æ•°æ®<br>åœ¨ with ä¸‹é¢ä¸€å…±æœ‰ä¸¤ä¸ªforï¼Œç¬¬ä¸€ä¸ªforè´Ÿè´£å°†æ•°æ®å’Œå¤„ç†å‡½æ•°æ”¾åœ¨ä¸€ä¸ª futures ä¸­ï¼Œ ç¬¬äºŒä¸ªforè´Ÿè´£å¤„ç†å’Œè¿”å›å¤„ç†ç»“æœã€‚</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> ProcessPoolExecutor(max_workers=max_workers) <span class="keyword">as</span> executor:</span><br><span class="line">       futures = []</span><br><span class="line">       <span class="keyword">for</span> d <span class="keyword">in</span> data:</span><br><span class="line">           args = (d, CONTENT)</span><br><span class="line">           futures.append(executor.submit(process_record, args))</span><br><span class="line"></span><br><span class="line">       <span class="comment"># ä½¿ç”¨ as_completed è¿­ä»£è¿”å›å·²ç»å®Œæˆçš„ä»»åŠ¡</span></span><br><span class="line">       <span class="comment"># tqdm ç”¨äºæ˜¾ç¤ºè¿›åº¦æ¡</span></span><br><span class="line">       <span class="keyword">for</span> idx, future <span class="keyword">in</span> <span class="built_in">enumerate</span>(tqdm.tqdm(as_completed(futures), total=<span class="built_in">len</span>(futures), desc=<span class="string">"Extracting info"</span>)):</span><br><span class="line">           result = future.result()</span><br><span class="line">           new_data.append(result)</span><br><span class="line"></span><br><span class="line">           <span class="comment"># æ¯å®Œæˆ 100 ä¸ªæ ·æœ¬ï¼Œä¿å­˜ä¸€æ¬¡ä¸´æ—¶æ–‡ä»¶</span></span><br><span class="line">           <span class="keyword">if</span> (idx + <span class="number">1</span>) % <span class="number">500</span> == <span class="number">0</span>:</span><br><span class="line">               <span class="keyword">with</span> <span class="built_in">open</span>(save_path, <span class="string">"w"</span>, encoding=<span class="string">"utf-8"</span>) <span class="keyword">as</span> f:</span><br><span class="line">                   json.dump(new_data, f, indent=<span class="number">4</span>, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line">                   <span class="built_in">print</span>(<span class="string">f"Extracted information from <span class="subst">{idx+<span class="number">1</span>}</span> medical records, and saved to <span class="subst">{save_path}</span>"</span>)</span><br></pre></td></tr></tbody></table></figure><p>enjoy ! </p>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹ç»éªŒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>matplotlib è®¾ç½®æ˜¾ç¤ºä¸­æ–‡</title>
      <link href="/2025/03/08/matplotlib-xian-shi-zhong-wen/"/>
      <url>/2025/03/08/matplotlib-xian-shi-zhong-wen/</url>
      
        <content type="html"><![CDATA[<p>å…ˆä»ç½‘ç»œä¸Šä¸‹è½½ <code>SimHei.ttf</code>  æ–‡ä»¶æ”¾åœ¨æŸä¸ªä½ç½®ï¼Œç„¶åç”¨ä¸‹é¢çš„ä»£ç ï¼Œè®¾ç½®å­—ä½“çš„ä½ç½®ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="comment"># ä» data/original/SylvanL/Exam/tcm_exam_1.csv è¯»å–æ•°æ®</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> font_manager</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> rcParams</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> matplotlib </span><br><span class="line"><span class="comment"># è®¾ç½®å½“å‰ç›®å½•</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.chdir(<span class="string">'/cpfs01/projects-SSD/cfff-bafab61057ac_SSD/zyt_09215/liyong/TCM-EMBEDDING'</span>)</span><br><span class="line"></span><br><span class="line">my_font = font_manager.FontProperties(fname=<span class="string">"fonts/SimHei.ttf"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¨å±€è®¾ç½®å­—ä½“</span></span><br><span class="line">matplotlib.rcParams[<span class="string">'font.sans-serif'</span>]=my_font.get_name()  <span class="comment"># ç”¨é»‘ä½“æ˜¾ç¤ºä¸­æ–‡</span></span><br><span class="line">matplotlib.rcParams[<span class="string">'axes.unicode_minus'</span>]=<span class="literal">False</span> </span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>ä½¿ç”¨</p><p>åœ¨éœ€è¦ä½¿ç”¨ä¸­æ–‡çš„åœ°æ–¹ï¼ŒæŒ‡å®šä¸Šé¢è®¾ç½®å¥½çš„å­—ä½“</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.title(<span class="string">"æè¿°é•¿åº¦åˆ†å¸ƒ"</span>, fontproperties=my_font)</span><br><span class="line">plt.xlabel(<span class="string">"é•¿åº¦"</span>, fontproperties=my_font)</span><br><span class="line">plt.ylabel(<span class="string">"æ•°é‡"</span>, fontproperties=my_font)</span><br></pre></td></tr></tbody></table></figure><p>enjoyï¼ </p>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹ç»éªŒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨BERTå¾—åˆ°çŸ­è¯­å‘é‡è¡¨ç¤ºå¹¶è¿›è¡Œå±‚æ¬¡èšç±»å®ç°ç›¸ä¼¼æ€§å»é‡</title>
      <link href="/2025/03/06/shi-yong-bert-de-dao-duan-yu-xiang-liang-biao-shi-bing-jin-xing-ceng-ci-ju-lei-shi-xian-xiang-si-xing-qu-chong/"/>
      <url>/2025/03/06/shi-yong-bert-de-dao-duan-yu-xiang-liang-biao-shi-bing-jin-xing-ceng-ci-ju-lei-shi-xian-xiang-si-xing-qu-chong/</url>
      
        <content type="html"><![CDATA[<p>åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰ä¸­ï¼ŒçŸ­è¯­çš„ç›¸ä¼¼æ€§åˆ†ææ˜¯ä¸€ä¸ªå¸¸è§ä¸”é‡è¦çš„ä»»åŠ¡ã€‚ä¼ ç»Ÿçš„æ–‡æœ¬ç›¸ä¼¼æ€§è®¡ç®—æ–¹æ³•å¾€å¾€ä¾èµ–äºæ‰‹å·¥è®¾è®¡çš„ç‰¹å¾ï¼Œä½†éšç€æ·±åº¦å­¦ä¹ å’Œé¢„è®­ç»ƒè¯­è¨€æ¨¡å‹çš„å‡ºç°ï¼ŒBERTï¼ˆBidirectional Encoder Representations from Transformersï¼‰åŠå…¶è¡ç”Ÿæ¨¡å‹ä¸ºæˆ‘ä»¬æä¾›äº†æ›´å¼ºå¤§çš„è¡¨è¾¾èƒ½åŠ›ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨BERTæ¨¡å‹å¯¹çŸ­è¯­è¿›è¡Œå‘é‡åŒ–ï¼Œå¹¶ç»“åˆå±‚æ¬¡èšç±»ç®—æ³•å¯¹ç›¸ä¼¼çŸ­è¯­è¿›è¡Œå»é‡ã€‚</p><h1 id="ä»»åŠ¡èƒŒæ™¯"><a href="#ä»»åŠ¡èƒŒæ™¯" class="headerlink" title="ä»»åŠ¡èƒŒæ™¯"></a>ä»»åŠ¡èƒŒæ™¯</h1><p>åœ¨å¾ˆå¤šåº”ç”¨åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦ä»å¤§é‡çš„çŸ­è¯­æ•°æ®ä¸­å»é™¤é‡å¤æˆ–è€…ç›¸ä¼¼çš„å†…å®¹ï¼Œä»¥ä¾¿äºè¿›ä¸€æ­¥åˆ†æã€‚ä¾‹å¦‚ï¼Œåœ¨ä¼ ç»Ÿä¸­åŒ»ï¼ˆTCMï¼‰æ•°æ®åˆ†æä¸­ï¼Œå¯èƒ½æœ‰å¤§é‡çš„ç±»ä¼¼ä»»åŠ¡ç›¸å…³æŸ¥è¯¢æˆ–åŒ»ç–—æœ¯è¯­éœ€è¦è¿›è¡Œèšç±»å¤„ç†ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬é€šè¿‡ä»¥ä¸‹æ­¥éª¤æ¥å®ç°ç›¸ä¼¼æ€§å»é‡ï¼š</p><ol><li><strong>ä½¿ç”¨BERTæ¨¡å‹è·å–çŸ­è¯­çš„å‘é‡è¡¨ç¤º</strong>ï¼šBERTåŠå…¶å˜ä½“èƒ½å¤Ÿé€šè¿‡ä¸Šä¸‹æ–‡ä¿¡æ¯å‡†ç¡®åœ°æ•æ‰çŸ­è¯­çš„è¯­ä¹‰ã€‚</li><li><strong>è®¡ç®—çŸ­è¯­ä¹‹é—´çš„ç›¸ä¼¼åº¦</strong>ï¼šé€šè¿‡è®¡ç®—çŸ­è¯­å‘é‡ä¹‹é—´çš„ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œå¾—åˆ°çŸ­è¯­ä¹‹é—´çš„ç›¸ä¼¼æ€§ã€‚</li><li><strong>è¿›è¡Œå±‚æ¬¡èšç±»</strong>ï¼šå±‚æ¬¡èšç±»å¯ä»¥æ ¹æ®ç›¸ä¼¼åº¦å°†ç›¸ä¼¼çŸ­è¯­åˆ†åˆ°åŒä¸€ä¸ªç±»åˆ«ï¼Œè¿›è€Œå®ç°å»é‡ã€‚</li></ol><h1 id="å…³é”®æ­¥éª¤"><a href="#å…³é”®æ­¥éª¤" class="headerlink" title="å…³é”®æ­¥éª¤"></a>å…³é”®æ­¥éª¤</h1><h2 id="åŠ è½½æ•°æ®"><a href="#åŠ è½½æ•°æ®" class="headerlink" title="åŠ è½½æ•°æ®"></a>åŠ è½½æ•°æ®</h2><p>åœ¨å¤„ç†çŸ­è¯­ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åŠ è½½åŒ…å«çŸ­è¯­çš„åŸå§‹æ•°æ®ã€‚å‡è®¾æ•°æ®å·²ç»ä¿å­˜åœ¨CSVæ–‡ä»¶ä¸­ï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªçŸ­è¯­ã€‚æˆ‘ä»¬é€šè¿‡Pandasåº“è¯»å–æ–‡ä»¶å¹¶æå–çŸ­è¯­åˆ—ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">load_data</span>(<span class="params">self, file_path</span>):</span><br><span class="line">    df = pd.read_csv(file_path)</span><br><span class="line">    <span class="keyword">if</span> <span class="string">"text"</span> <span class="keyword">not</span> <span class="keyword">in</span> df.columns:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">"CSV æ–‡ä»¶å¿…é¡»åŒ…å« 'text' åˆ—"</span>)</span><br><span class="line">    <span class="keyword">return</span> df[<span class="string">"text"</span>].dropna().tolist()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="ä½¿ç”¨BERTæ¨¡å‹è·å–çŸ­è¯­å‘é‡"><a href="#ä½¿ç”¨BERTæ¨¡å‹è·å–çŸ­è¯­å‘é‡" class="headerlink" title="ä½¿ç”¨BERTæ¨¡å‹è·å–çŸ­è¯­å‘é‡"></a>ä½¿ç”¨BERTæ¨¡å‹è·å–çŸ­è¯­å‘é‡</h2><p>é€šè¿‡åŠ è½½ä¸€ä¸ªé¢„è®­ç»ƒçš„BERTæ¨¡å‹ï¼ˆä¾‹å¦‚ thenlper/gte-base-zhï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¯ä¸ªçŸ­è¯­è½¬æ¢ä¸ºä¸€ä¸ªå›ºå®šç»´åº¦çš„å‘é‡ã€‚è¿™äº›å‘é‡èƒ½å¤Ÿæ•æ‰çŸ­è¯­çš„è¯­ä¹‰ä¿¡æ¯ï¼Œåç»­çš„ç›¸ä¼¼æ€§è®¡ç®—å°†ä¾èµ–è¿™äº›å‘é‡ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">encode_phrases</span>(<span class="params">self, phrases</span>):</span><br><span class="line">    embeddings = <span class="variable language_">self</span>.model.encode(phrases, convert_to_numpy=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> embeddings</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="è®¡ç®—çŸ­è¯­ä¹‹é—´çš„ç›¸ä¼¼åº¦å¹¶è¿›è¡Œèšç±»"><a href="#è®¡ç®—çŸ­è¯­ä¹‹é—´çš„ç›¸ä¼¼åº¦å¹¶è¿›è¡Œèšç±»" class="headerlink" title="è®¡ç®—çŸ­è¯­ä¹‹é—´çš„ç›¸ä¼¼åº¦å¹¶è¿›è¡Œèšç±»"></a>è®¡ç®—çŸ­è¯­ä¹‹é—´çš„ç›¸ä¼¼åº¦å¹¶è¿›è¡Œèšç±»</h2><p>çŸ­è¯­çš„ç›¸ä¼¼åº¦å¯ä»¥é€šè¿‡è®¡ç®—å®ƒä»¬çš„ä½™å¼¦ç›¸ä¼¼åº¦æ¥è¡¡é‡ã€‚ä¸ºäº†å¯¹çŸ­è¯­è¿›è¡Œèšç±»ï¼Œæˆ‘ä»¬å°†è®¡ç®—çŸ­è¯­å‘é‡ä¹‹é—´çš„è·ç¦»ï¼ˆä½¿ç”¨ä½™å¼¦è·ç¦»ï¼‰ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cluster_phrases</span>(<span class="params">self, embeddings</span>):</span><br><span class="line">    Z = linkage(<span class="number">1</span> - np.inner(embeddings, embeddings), method=<span class="string">'average'</span>)</span><br><span class="line">    labels = fcluster(Z, t=<span class="variable language_">self</span>.eps, criterion=<span class="string">'distance'</span>)</span><br><span class="line">    <span class="keyword">return</span> labels</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="å°†ç›¸ä¼¼çš„çŸ­è¯­åˆ†åˆ°åŒä¸€ç±»åˆ«"><a href="#å°†ç›¸ä¼¼çš„çŸ­è¯­åˆ†åˆ°åŒä¸€ç±»åˆ«" class="headerlink" title="å°†ç›¸ä¼¼çš„çŸ­è¯­åˆ†åˆ°åŒä¸€ç±»åˆ«"></a>å°†ç›¸ä¼¼çš„çŸ­è¯­åˆ†åˆ°åŒä¸€ç±»åˆ«</h2><p>ä¸‹é¢ï¼Œæˆ‘ä»¬å°†ç›¸ä¼¼çš„çŸ­è¯­åˆ†åˆ°åŒä¸€ç±»åˆ«ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">group_clusters</span>(<span class="params">self, phrases, labels</span>):</span><br><span class="line">    cluster_dict = defaultdict(<span class="built_in">list</span>)</span><br><span class="line">    <span class="keyword">for</span> phrase, label <span class="keyword">in</span> <span class="built_in">zip</span>(phrases, labels):</span><br><span class="line">        cluster_dict[label].append(phrase)</span><br><span class="line">    <span class="keyword">return</span> cluster_dict</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="ä¿å­˜èšç±»ç»“æœ"><a href="#ä¿å­˜èšç±»ç»“æœ" class="headerlink" title="ä¿å­˜èšç±»ç»“æœ"></a>ä¿å­˜èšç±»ç»“æœ</h2><p>æœ€åï¼Œå°†èšç±»ç»“æœä¿å­˜ä¸ºCSVæ–‡ä»¶ï¼Œæ¯ä¸€åˆ—å¯¹åº”ä¸€ä¸ªç±»åˆ«ï¼Œæ–¹ä¾¿åç»­çš„åˆ†æã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">save_clusters</span>(<span class="params">self, cluster_dict, output_path</span>):</span><br><span class="line">    filtered_clusters = {k: v <span class="keyword">for</span> k, v <span class="keyword">in</span> cluster_dict.items() <span class="keyword">if</span> k != -<span class="number">1</span>}</span><br><span class="line">    max_len = <span class="built_in">max</span>(<span class="built_in">len</span>(v) <span class="keyword">for</span> v <span class="keyword">in</span> filtered_clusters.values())</span><br><span class="line">    cluster_columns = [v + [<span class="string">""</span>] * (max_len - <span class="built_in">len</span>(v)) <span class="keyword">for</span> v <span class="keyword">in</span> filtered_clusters.values()]</span><br><span class="line">    df = pd.DataFrame(cluster_columns).T</span><br><span class="line">    df.to_csv(output_path, index=<span class="literal">False</span>, encoding=<span class="string">"utf-8-sig"</span>)</span><br></pre></td></tr></tbody></table></figure><br><br><h1 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h1><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sentence_transformers <span class="keyword">import</span> SentenceTransformer</span><br><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> DBSCAN</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"><span class="keyword">from</span> scipy.cluster.hierarchy <span class="keyword">import</span> linkage, fcluster</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PhraseClustering</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, model_name=<span class="string">"thenlper/gte-base-zh"</span>, eps=<span class="number">0.3</span>, min_samples=<span class="number">2</span></span>):</span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        åˆå§‹åŒ– BERT æ¨¡å‹å’Œ DBSCAN å‚æ•°</span></span><br><span class="line"><span class="string">        :param model_name: é¢„è®­ç»ƒ BERT æ¨¡å‹åç§°ï¼ˆé»˜è®¤ä½¿ç”¨è½»é‡çº§ SBERTï¼‰</span></span><br><span class="line"><span class="string">        :param eps: DBSCAN èšç±»çš„åŠå¾„å‚æ•°</span></span><br><span class="line"><span class="string">        :param min_samples: DBSCAN çš„æœ€å°æ ·æœ¬æ•°</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="variable language_">self</span>.model = SentenceTransformer(model_name)</span><br><span class="line">        <span class="variable language_">self</span>.eps = eps</span><br><span class="line">        <span class="variable language_">self</span>.min_samples = min_samples</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">load_data</span>(<span class="params">self, file_path</span>):</span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        è¯»å– CSV æ–‡ä»¶ä¸­çš„çŸ­è¯­</span></span><br><span class="line"><span class="string">        :param file_path: CSV æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="string">        :return: çŸ­è¯­åˆ—è¡¨</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        df = pd.read_csv(file_path)</span><br><span class="line">        <span class="keyword">if</span> <span class="string">"ç»†ç²’åº¦_ä»»åŠ¡ç›¸å…³æŸ¥è¯¢"</span> <span class="keyword">not</span> <span class="keyword">in</span> df.columns:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">"CSV æ–‡ä»¶å¿…é¡»åŒ…å« 'text' åˆ—"</span>)</span><br><span class="line">        <span class="keyword">return</span> df[<span class="string">"ç»†ç²’åº¦_ä»»åŠ¡ç›¸å…³æŸ¥è¯¢"</span>].dropna().tolist()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">encode_phrases</span>(<span class="params">self, phrases</span>):</span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        ä½¿ç”¨ BERT ç¼–ç çŸ­è¯­</span></span><br><span class="line"><span class="string">        :param phrases: çŸ­è¯­åˆ—è¡¨</span></span><br><span class="line"><span class="string">        :return: çŸ­è¯­çš„å‘é‡è¡¨ç¤ºï¼ˆNumPy æ•°ç»„ï¼‰</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        embeddings = <span class="variable language_">self</span>.model.encode(phrases, convert_to_numpy=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">return</span> embeddings</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">cluster_phrases</span>(<span class="params">self, embeddings</span>):</span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        ä½¿ç”¨å±‚æ¬¡èšç±»è¿›è¡Œèšç±»</span></span><br><span class="line"><span class="string">        :param embeddings: çŸ­è¯­çš„å‘é‡è¡¨ç¤º</span></span><br><span class="line"><span class="string">        :return: èšç±»æ ‡ç­¾</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># ä½¿ç”¨cosineè·ç¦»è®¡ç®—å±‚æ¬¡èšç±»</span></span><br><span class="line">        Z = linkage(<span class="number">1</span> - np.inner(embeddings, embeddings), method=<span class="string">'average'</span>)  <span class="comment"># 1 - cosine similarity = cosine distance</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># æ ¹æ®è·ç¦»é˜ˆå€¼æ¥å½¢æˆèšç±»</span></span><br><span class="line">        labels = fcluster(Z, t=<span class="variable language_">self</span>.eps, criterion=<span class="string">'distance'</span>)  <span class="comment"># tè¡¨ç¤ºèšç±»çš„è·ç¦»é˜ˆå€¼</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> labels</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">group_clusters</span>(<span class="params">self, phrases, labels</span>):</span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        æ ¹æ® DBSCAN ç»“æœå°†çŸ­è¯­åˆ†ç»„</span></span><br><span class="line"><span class="string">        :param phrases: åŸå§‹çŸ­è¯­åˆ—è¡¨</span></span><br><span class="line"><span class="string">        :param labels: èšç±»æ ‡ç­¾</span></span><br><span class="line"><span class="string">        :return: ä»¥å­—å…¸å½¢å¼å­˜å‚¨çš„èšç±»ç»“æœ {ç±»åˆ«ID: çŸ­è¯­åˆ—è¡¨}</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        cluster_dict = defaultdict(<span class="built_in">list</span>)</span><br><span class="line">        <span class="keyword">for</span> phrase, label <span class="keyword">in</span> <span class="built_in">zip</span>(phrases, labels):</span><br><span class="line">            cluster_dict[label].append(phrase)</span><br><span class="line">        <span class="keyword">return</span> cluster_dict</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">save_clusters</span>(<span class="params">self, cluster_dict, output_path</span>):</span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        å°†èšç±»ç»“æœä¿å­˜åˆ° CSV æ–‡ä»¶ï¼Œæ¯ä¸€åˆ—å¯¹åº”ä¸€ä¸ªç±»åˆ«</span></span><br><span class="line"><span class="string">        :param cluster_dict: èšç±»åçš„çŸ­è¯­å­—å…¸</span></span><br><span class="line"><span class="string">        :param output_path: è¾“å‡º CSV æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># è¿‡æ»¤æ‰å™ªå£°ç‚¹ï¼ˆDBSCAN ä¸­å™ªå£°ç‚¹çš„ label ä¸º -1ï¼‰</span></span><br><span class="line">        filtered_clusters = {k: v <span class="keyword">for</span> k, v <span class="keyword">in</span> cluster_dict.items() <span class="keyword">if</span> k != -<span class="number">1</span>}</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æŒ‰åˆ—å¯¹é½</span></span><br><span class="line">        max_len = <span class="built_in">max</span>(<span class="built_in">len</span>(v) <span class="keyword">for</span> v <span class="keyword">in</span> filtered_clusters.values())</span><br><span class="line">        cluster_columns = [v + [<span class="string">""</span>] * (max_len - <span class="built_in">len</span>(v)) <span class="keyword">for</span> v <span class="keyword">in</span> filtered_clusters.values()]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è½¬ç½®å­˜å…¥ DataFrame</span></span><br><span class="line">        df = pd.DataFrame(cluster_columns).T</span><br><span class="line">        df.to_csv(output_path, index=<span class="literal">False</span>, encoding=<span class="string">"utf-8-sig"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self, input_csv, output_csv</span>):</span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        å®Œæ•´æ‰§è¡Œæµç¨‹ï¼šåŠ è½½æ•°æ® -&gt; è®¡ç®—å‘é‡ -&gt; èšç±» -&gt; ä¿å­˜ç»“æœ</span></span><br><span class="line"><span class="string">        :param input_csv: è¾“å…¥ CSV æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="string">        :param output_csv: è¾“å‡º CSV æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"1. åŠ è½½æ•°æ®..."</span>)</span><br><span class="line">        phrases = <span class="variable language_">self</span>.load_data(input_csv)</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"2. è®¡ç®—çŸ­è¯­å‘é‡..."</span>)</span><br><span class="line">        embeddings = <span class="variable language_">self</span>.encode_phrases(phrases)</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"3. è¿›è¡Œ å±‚æ¬¡ èšç±»..."</span>)</span><br><span class="line">        labels = <span class="variable language_">self</span>.cluster_phrases(embeddings)</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"4. æ•´ç†èšç±»ç»“æœ..."</span>)</span><br><span class="line">        cluster_dict = <span class="variable language_">self</span>.group_clusters(phrases, labels)</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f"5. å‘ç° <span class="subst">{<span class="built_in">len</span>(cluster_dict)}</span> ä¸ªç±»åˆ«ï¼Œä¿å­˜åˆ° <span class="subst">{output_csv}</span> ..."</span>)</span><br><span class="line">        <span class="variable language_">self</span>.save_clusters(cluster_dict, output_csv)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"âœ… å¤„ç†å®Œæˆï¼"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="comment"># é…ç½®å‚æ•°</span></span><br><span class="line">    input_file = <span class="string">"taskPhraseClustering/second_fine_grained_tasks_new_sorted.csv"</span>  <span class="comment"># è¾“å…¥æ–‡ä»¶</span></span><br><span class="line">    output_file = <span class="string">"taskPhraseClustering/output_clusters.csv"</span>  <span class="comment"># è¾“å‡ºæ–‡ä»¶</span></span><br><span class="line">    clustering = PhraseClustering(eps=<span class="number">3</span>, min_samples=<span class="number">2</span>)  <span class="comment"># å¯è°ƒèŠ‚ eps å½±å“èšç±»æ•ˆæœ eps å€¼è¶Šå¤§ ç±»åˆ«æ•°è¶Šå°‘</span></span><br><span class="line">    clustering.run(input_file, output_file)</span><br></pre></td></tr></tbody></table></figure><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>é€šè¿‡æœ¬æ•™ç¨‹ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨BERTæ¨¡å‹å¯¹çŸ­è¯­è¿›è¡Œè¯­ä¹‰å‘é‡åŒ–ï¼Œå¹¶ç»“åˆå±‚æ¬¡èšç±»ç®—æ³•å®ç°çŸ­è¯­ç›¸ä¼¼æ€§å»é‡ã€‚æ­¤æ–¹æ³•å¯ä»¥æœ‰æ•ˆåœ°å°†ç›¸ä¼¼çš„çŸ­è¯­åˆ†ç»„ï¼Œå¸®åŠ©æˆ‘ä»¬åœ¨å¤§è§„æ¨¡æ–‡æœ¬æ•°æ®ä¸­æå–æœ‰ç”¨çš„ä¿¡æ¯ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´èšç±»çš„å‚æ•°ï¼Œä»¥é€‚åº”ä¸åŒçš„æ•°æ®é›†å’Œéœ€æ±‚ã€‚</p><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œåœ¨ä¸Šè¿°çš„ä»£ç ä¸­ï¼Œ <code>eps</code> å‚æ•°æ˜¯ä¸€ä¸ªå…³é”®å‚æ•°ï¼Œå®ƒçš„å€¼è¶Šå¤§åˆ™ç±»åˆ«æ•°è¶Šå°‘ï¼Œåä¹‹ï¼Œç±»åˆ«æ•°è¶Šå¤šã€‚</p><p>enjoy it!</p>]]></content>
      
      
      <categories>
          
          <category> è‡ªç„¶è¯­è¨€å¤„ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–‡æœ¬èšç±» bertå‘é‡è¡¨ç¤º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºç¼–è¾‘è·ç¦»çš„æ–‡æœ¬å±‚æ¬¡èšç±»</title>
      <link href="/2025/03/06/ji-yu-bian-ji-ju-chi-de-wen-ben-ceng-ci-ju-lei/"/>
      <url>/2025/03/06/ji-yu-bian-ji-ju-chi-de-wen-ben-ceng-ci-ju-lei/</url>
      
        <content type="html"><![CDATA[<p>åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰å’Œæ•°æ®æ¸…æ´—è¿‡ç¨‹ä¸­ï¼Œå¤„ç†ç›¸ä¼¼æ–‡æœ¬çš„èšç±»é—®é¢˜æ˜¯ä¸€ä¸ªå¸¸è§çš„æŒ‘æˆ˜ã€‚ä¾‹å¦‚ï¼Œåœ¨æœç´¢æ—¥å¿—ã€åŒ»å­¦æœ¯è¯­ã€å®¢æˆ·æŸ¥è¯¢ç­‰æ–‡æœ¬æ•°æ®ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°æ‹¼å†™ç›¸ä¼¼æˆ–è¿‘ä¼¼è¡¨è¾¾çš„è¯æ±‡ã€‚ä¸ºäº†æ›´å¥½åœ°å¯¹è¿™äº›æ•°æ®è¿›è¡Œåˆ†ç±»å’Œç®¡ç†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ç¼–è¾‘è·ç¦»ï¼ˆLevenshtein Distanceï¼‰ ç»“åˆ å±‚æ¬¡èšç±»ï¼ˆHierarchical Clusteringï¼‰ è¿›è¡Œæ–‡æœ¬èšç±»ã€‚</p><p>æœ¬æ–‡ä»‹ç»äº†ä¸€ç§åŸºäº Python çš„ ç¼–è¾‘è·ç¦»å±‚æ¬¡èšç±» æ–¹æ³•ï¼Œå¹¶æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„å®ç°ä»£ç ã€‚è¯¥æ–¹æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š</p><ul><li><p>è®¡ç®—ç¼–è¾‘è·ç¦»çŸ©é˜µï¼šé€šè¿‡ Levenshtein è·ç¦»è¡¡é‡æ–‡æœ¬ä¹‹é—´çš„ç›¸ä¼¼æ€§ã€‚</p></li><li><p>å±‚æ¬¡èšç±»ï¼šä½¿ç”¨å±‚æ¬¡èšç±»ï¼Œå°†ç›¸ä¼¼çš„æ–‡æœ¬å½’ç±»åˆ°ç›¸åŒçš„ç°‡ä¸­ã€‚</p></li><li><p>æ’åºå’Œè¾“å‡ºï¼šæŒ‰ç…§èšç±»ç»“æœå¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œå¹¶å°†ç»“æœä¿å­˜ä¸º CSV æ–‡ä»¶ï¼Œä¾¿äºåç»­åˆ†æã€‚</p></li></ul><br>ä¸‹é¢æ˜¯å®ç°ä»£ç :<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> scipy.cluster.hierarchy <span class="keyword">import</span> linkage, fcluster</span><br><span class="line"><span class="keyword">from</span> scipy.spatial.distance <span class="keyword">import</span> pdist, squareform</span><br><span class="line"><span class="keyword">import</span> Levenshtein  <span class="comment"># ç”¨äºè®¡ç®—ç¼–è¾‘è·ç¦»</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EditDistanceClustering</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, input_csv: <span class="built_in">str</span>, output_csv: <span class="built_in">str</span>, column_name: <span class="built_in">str</span>, threshold: <span class="built_in">int</span> = <span class="number">5</span></span>):</span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        åˆå§‹åŒ–ç±»</span></span><br><span class="line"><span class="string">        :param input_csv: è¾“å…¥CSVæ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="string">        :param output_csv: è¾“å‡ºCSVæ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="string">        :param column_name: éœ€è¦èšç±»çš„åˆ—å</span></span><br><span class="line"><span class="string">        :param threshold: è·ç¦»é˜ˆå€¼ï¼Œå†³å®šç°‡çš„åˆ’åˆ†</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="variable language_">self</span>.input_csv: <span class="built_in">str</span> = input_csv</span><br><span class="line">        <span class="variable language_">self</span>.output_csv: <span class="built_in">str</span> = output_csv</span><br><span class="line">        <span class="variable language_">self</span>.column_name: <span class="built_in">str</span> = column_name</span><br><span class="line">        <span class="variable language_">self</span>.threshold: <span class="built_in">int</span> = threshold</span><br><span class="line">        <span class="variable language_">self</span>.df: pd.DataFrame | <span class="literal">None</span> = <span class="literal">None</span>  <span class="comment"># åˆå§‹åŒ–DataFrameå˜é‡</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">read_csv</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="string">"""è¯»å–CSVæ–‡ä»¶åˆ°DataFrameä¸­"""</span></span><br><span class="line">        <span class="variable language_">self</span>.df = pd.read_csv(<span class="variable language_">self</span>.input_csv)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">lev_distance</span>(<span class="params">self, s1: <span class="built_in">str</span>, s2: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        è®¡ç®—ä¸¤ä¸ªå­—ç¬¦ä¸²ä¹‹é—´çš„Levenshteinç¼–è¾‘è·ç¦»</span></span><br><span class="line"><span class="string">        :param s1: ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">        :param s2: ç¬¬äºŒä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">        :return: ç¼–è¾‘è·ç¦»</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">return</span> Levenshtein.distance(s1, s2)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">compute_edit_distance_matrix</span>(<span class="params">self</span>) -&gt; np.ndarray:</span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        è®¡ç®—å­—ç¬¦ä¸²åˆ—è¡¨çš„ç¼–è¾‘è·ç¦»çŸ©é˜µ</span></span><br><span class="line"><span class="string">        :return: è®¡ç®—å¾—åˆ°çš„ç¼–è¾‘è·ç¦»çŸ©é˜µï¼ˆäºŒç»´æ•°ç»„ï¼‰</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># è·å–æŒ‡å®šåˆ—çš„æ‰€æœ‰å­—ç¬¦ä¸²å¹¶è½¬æ¢ä¸ºåˆ—è¡¨</span></span><br><span class="line">        strings: <span class="built_in">list</span>[<span class="built_in">str</span>] = <span class="variable language_">self</span>.df[<span class="variable language_">self</span>.column_name].astype(<span class="built_in">str</span>).tolist()</span><br><span class="line">        <span class="comment"># å°†å­—ç¬¦ä¸²åˆ—è¡¨è½¬æ¢ä¸ºNumPyæ•°ç»„ï¼Œå¹¶è°ƒæ•´ä¸ºäºŒç»´æ ¼å¼</span></span><br><span class="line">        strings_array: np.ndarray = np.array(strings).reshape(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">        <span class="comment"># è®¡ç®—ç¼–è¾‘è·ç¦»çŸ©é˜µ</span></span><br><span class="line">        <span class="keyword">return</span> squareform(pdist(strings_array, <span class="keyword">lambda</span> u, v: <span class="variable language_">self</span>.lev_distance(u[<span class="number">0</span>], v[<span class="number">0</span>])))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">cluster_and_sort</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        æ‰§è¡Œå±‚æ¬¡èšç±»ï¼Œå¹¶æ ¹æ®èšç±»ç»“æœæ’åº</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># è®¡ç®—ç¼–è¾‘è·ç¦»çŸ©é˜µ</span></span><br><span class="line">        distance_matrix: np.ndarray = <span class="variable language_">self</span>.compute_edit_distance_matrix()</span><br><span class="line">        <span class="comment"># ä½¿ç”¨å±‚æ¬¡èšç±»æ–¹æ³•ï¼ˆWardæ–¹æ³•ï¼‰è¿›è¡Œèšç±»</span></span><br><span class="line">        linkage_matrix: np.ndarray = linkage(distance_matrix, method=<span class="string">'ward'</span>)</span><br><span class="line">        <span class="comment"># æ ¹æ®è®¾å®šçš„é˜ˆå€¼è¿›è¡Œèšç±»åˆ’åˆ†</span></span><br><span class="line">        clusters: np.ndarray = fcluster(linkage_matrix, <span class="variable language_">self</span>.threshold, criterion=<span class="string">'distance'</span>)</span><br><span class="line">        <span class="comment"># å°†ç°‡ç¼–å·æ·»åŠ åˆ°DataFrameä¸­</span></span><br><span class="line">        <span class="variable language_">self</span>.df[<span class="string">'Cluster'</span>] = clusters</span><br><span class="line">        <span class="comment"># æŒ‰ç°‡ç¼–å·æ’åºï¼Œå¹¶å»æ‰Clusteråˆ—</span></span><br><span class="line">        <span class="variable language_">self</span>.df = <span class="variable language_">self</span>.df.sort_values(by=[<span class="string">'Cluster'</span>]).drop(columns=[<span class="string">'Cluster'</span>])</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">save_csv</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="string">"""å°†å¤„ç†åçš„DataFrameä¿å­˜å›CSVæ–‡ä»¶"""</span></span><br><span class="line">        <span class="variable language_">self</span>.df.to_csv(<span class="variable language_">self</span>.output_csv, index=<span class="literal">False</span>, encoding=<span class="string">'utf-8-sig'</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        è¿è¡Œå®Œæ•´çš„æ•°æ®å¤„ç†æµç¨‹ï¼ŒåŒ…æ‹¬è¯»å–CSVã€èšç±»æ’åºã€ä¿å­˜CSV</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="variable language_">self</span>.read_csv()</span><br><span class="line">        <span class="variable language_">self</span>.cluster_and_sort()</span><br><span class="line">        <span class="variable language_">self</span>.save_csv()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹ç”¨æ³•</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="comment"># æŒ‡å®šè¾“å…¥å’Œè¾“å‡ºCSVæ–‡ä»¶è·¯å¾„ä»¥åŠéœ€è¦èšç±»çš„åˆ—</span></span><br><span class="line">    clustering: EditDistanceClustering = EditDistanceClustering(</span><br><span class="line">        <span class="string">'data/second_fine_grained_tasks_new.csv'</span>, </span><br><span class="line">        <span class="string">'data/second_fine_grained_tasks_new_sorted1.csv'</span>, </span><br><span class="line">        <span class="string">'ç»†ç²’åº¦_ä»»åŠ¡ç›¸å…³æŸ¥è¯¢'</span></span><br><span class="line">    )</span><br><span class="line">    <span class="comment"># è¿è¡Œèšç±»æµç¨‹</span></span><br><span class="line">    clustering.run()</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><br><p>ä»¥ä¸Šä»£ç è¿è¡Œå®Œä¹‹åï¼Œä¼šå°† <code>data/second_fine_grained_tasks_new.csv</code> æ–‡ä»¶ä¸­çš„æ–‡æœ¬æ•°æ®æŒ‰ç…§ç¼–è¾‘è·ç¦»è¿›è¡Œå±‚æ¬¡èšç±»ï¼Œå¹¶æ ¹æ®èšç±»ç»“æœè¿›è¡Œæ’åºï¼Œ<br>æœ€åå°†ç»“æœä¿å­˜åˆ° <code>data/second_fine_grained_tasks_new_sorted1.csv</code> ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è‡ªç„¶è¯­è¨€å¤„ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–‡æœ¬èšç±» ç¼–è¾‘è·ç¦» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Aiç«èµ›å¹³å°</title>
      <link href="/2025/02/27/ai-jing-sai-ping-tai/"/>
      <url>/2025/02/27/ai-jing-sai-ping-tai/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘å¯¹å¸¸è§çš„Aiç«èµ›å¹³å°åšäº†æ•´ç†ï¼Œè®°å½•å¦‚ä¸‹ï¼š</p><ul><li>Kaggle:  <a href="https://www.kaggle.com/">https://www.kaggle.com/</a></li><li>AIcrowd: <a href="https://www.aicrowd.com/">https://www.aicrowd.com/</a></li><li>Codalab :  <a href="https://codalab.lisn.upsaclay.fr/">https://codalab.lisn.upsaclay.fr/</a></li><li>DrivenData: <a href="https://www.drivendata.org/">https://www.drivendata.org/</a></li><li>Grand Challenge: <a href="https://grand-challenge.org/">https://grand-challenge.org/</a></li><li>Topcoder:  <a href="https://www.topcoder.com/challenges">https://www.topcoder.com/challenges</a></li><li>Zindi: <a href="https://zindi.africa/">https://zindi.africa/</a></li><li>å¤©æ± :  <a href="https://tianchi.aliyun.com/">https://tianchi.aliyun.com/</a></li><li>DataCastle: <a href="http://www.dcjingsai.com/">http://www.dcjingsai.com/</a></li><li>AI Studio:  <a href="https://aistudio.baidu.com/">https://aistudio.baidu.com/</a></li></ul><p>å„èµ›äº‹å¹³å°çš„ç‰¹ç‚¹æ±‡æ€»å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250228094452.png" alt="image-20250228094442500"></p><p>æ³¨ï¼š ä¸Šé¢çš„ä¿¡æ¯æ¥è‡ªäºå¤§æ¨¡å‹ï¼Œä½†å¯¹ç»™å‡ºçš„é“¾æ¥åšäº†äººå·¥éªŒè¯ï¼Œå…¶ä¸­é™¤ Topcoder å¹³å°é¡µé¢æ˜¾ç¤ºä¸å…¨ä»¥å¤–ï¼Œå…¶ä»–å¹³å°ç»™å‡ºçš„é“¾æ¥åœ°å€å‡å¯ä»¥æ­£å¸¸è®¿é—®ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> aiç«èµ› </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonæ—¥å¸¸å¼€å‘æ‚è®°</title>
      <link href="/2025/02/19/python-ri-chang-kai-fa-za-ji/"/>
      <url>/2025/02/19/python-ri-chang-kai-fa-za-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="macç³»ç»Ÿ-pandaså­˜å‚¨ä¸ºcsv-åœ¨excelä¸­æ‰“å¼€ä¹±ç "><a href="#macç³»ç»Ÿ-pandaså­˜å‚¨ä¸ºcsv-åœ¨excelä¸­æ‰“å¼€ä¹±ç " class="headerlink" title="macç³»ç»Ÿ pandaså­˜å‚¨ä¸ºcsv åœ¨excelä¸­æ‰“å¼€ä¹±ç "></a>macç³»ç»Ÿ pandaså­˜å‚¨ä¸ºcsv åœ¨excelä¸­æ‰“å¼€ä¹±ç </h1><blockquote><p>åœ¨ä½¿ç”¨pandaså­˜å‚¨æ•°æ®ä¸ºcsvæ–‡ä»¶åï¼Œåœ¨excelä¸­æ‰“å¼€ä¼šå‡ºç°ä¹±ç é—®é¢˜ï¼Œè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š<br>æŒ‡å®šç¼–ç æ ¼å¼ä¸º<code>utf-8-sig</code>ï¼Œå³å¯è§£å†³é—®é¢˜ã€‚</p></blockquote><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.to_csv(<span class="string">'output.csv'</span>, index=<span class="literal">False</span>, encoding=<span class="string">'utf-8-sig'</span>)</span><br></pre></td></tr></tbody></table></figure><h1 id="api-è°ƒç”¨å¤§æ¨¡å‹æ—¶ï¼ŒæŒ‡å®šè¿”å›jsonæ ¼å¼æ•°æ®"><a href="#api-è°ƒç”¨å¤§æ¨¡å‹æ—¶ï¼ŒæŒ‡å®šè¿”å›jsonæ ¼å¼æ•°æ®" class="headerlink" title="api è°ƒç”¨å¤§æ¨¡å‹æ—¶ï¼ŒæŒ‡å®šè¿”å›jsonæ ¼å¼æ•°æ®"></a>api è°ƒç”¨å¤§æ¨¡å‹æ—¶ï¼ŒæŒ‡å®šè¿”å›jsonæ ¼å¼æ•°æ®</h1><blockquote><p>è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š æŒ‡å®š response_format ä¸º <code>{"type":"json_object"}</code>ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•åœ¨deepseekä¸­ä¸é€‚ç”¨ã€‚</p></blockquote><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">client = openai = OpenAI(api_key=gpt_api_key,</span><br><span class="line">        base_url=gpt_base_url</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">response = client.chat.completions.create(</span><br><span class="line">                model= model,</span><br><span class="line">                messages=[</span><br><span class="line">                    {<span class="string">"role"</span>: <span class="string">"system"</span>, <span class="string">"content"</span>: <span class="string">"ä½ æ˜¯ä¸€åä¸­åŒ»è¯ä¸“å®¶"</span>},</span><br><span class="line">                    {<span class="string">"role"</span>: <span class="string">"user"</span>, <span class="string">"content"</span>: prompt}</span><br><span class="line">                ],</span><br><span class="line">                max_tokens=<span class="number">2048</span>,</span><br><span class="line">                response_format={<span class="string">"type"</span>:<span class="string">"json_object"</span>}</span><br><span class="line">            )</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><blockquote><p> openAi å®˜æ–¹è§£é‡Šï¼š</p><p> <img src="https://raw.githubusercontent.com/Skylyong/i/main/20250219171031.png" alt="image-20250219171024040"></p><p> å‚è€ƒé“¾æ¥ï¼š<a href="https://beta.openai.com/docs/api-reference/completions/create">openaiå®˜æ–¹æ–‡æ¡£</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€šè¿‡dockeréƒ¨ç½²doccanoæ ‡æ³¨å·¥å…·</title>
      <link href="/2025/02/12/tong-guo-docker-bu-shu-doccano-biao-zhu-gong-ju/"/>
      <url>/2025/02/12/tong-guo-docker-bu-shu-doccano-biao-zhu-gong-ju/</url>
      
        <content type="html"><![CDATA[<p>ä¸ŠåŠå¹´ä½¿ç”¨äº† <code>doccano</code> æ ‡æ³¨å·¥å…·å¯¹å‘½åå®ä½“è¯†åˆ«ä»»åŠ¡åšäº†æ ‡æ³¨ï¼Œæ„Ÿè§‰å¾ˆå¥½ç”¨ã€‚<br>æœ€è¿‘å‡†å¤‡å°†å…¶éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼Œé€šè¿‡ <code>docker</code> å®¹å™¨çš„æ–¹å¼è¿›è¡Œï¼Œä»¥ä¾¿äºä»¥åå¯ä»¥å¿«é€Ÿéƒ¨ç½²ã€‚</p><p>è®¸ä¹…ä¸ç”¨ä¹Ÿæ˜¯é‡åˆ°äº†ä¸å°‘é—®é¢˜ï¼Œä¸»è¦æ˜¯éƒ¨ç½²å¥½ç³»ç»Ÿåï¼Œä¸Šä¼ æ•°æ®ä¸€ç›´è½¬åœˆï¼Œæ²¡æœ‰ååº”ï¼Œåé¢å‘ç°æ˜¯å› ä¸ºæ²¡æœ‰å¯åŠ¨ <code>doccano task</code>,<br>è€Œtaskéœ€è¦å’Œ <code>doccano webserver</code> ä¸€èµ·å¯åŠ¨ï¼Œ <code>openai</code> ç»™æˆ‘çš„å»ºè®®æ˜¯å¯åŠ¨ä¸¤ä¸ª <code>docker</code> æœåŠ¡ï¼Œæˆ‘è¿˜æ˜¯é€‰ç”¨äº†å¸¸è§„çš„ <code>screen</code> æ–¹å¼ã€‚</p><p>ä¸‹é¢æ˜¯è‡ªå·±ç¼–å†™çš„å¯ä»¥ä½¿ç”¨çš„ <code>docker-compose</code> æ–‡ä»¶ï¼Œè®°å½•åœ¨æ­¤ï¼Œæ–¹ä¾¿ä»¥åè°ƒç”¨ã€‚</p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'3.8'</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">doccano:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">docker-0.unsee.tech/python:3.9</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">doccano</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./doccano_data:/app/doccano_data</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"8000:8000"</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PIP_NO_CACHE_DIR=off</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">&gt;</span></span><br><span class="line"><span class="string">      sh -c "apt-get update &amp;&amp; apt-get install -y screen &amp;&amp;</span></span><br><span class="line"><span class="string">             pip install --no-cache-dir doccano &amp;&amp;</span></span><br><span class="line"><span class="string">             pip install numpy==1.24.0 pandas==1.5.3 &amp;&amp;</span></span><br><span class="line"><span class="string">             doccano init &amp;&amp;</span></span><br><span class="line"><span class="string">             doccano createuser --username admin --password admin &amp;&amp;</span></span><br><span class="line"><span class="string">             screen -dmS doccano_server doccano webserver --port 8000 &amp;&amp;</span></span><br><span class="line"><span class="string">             screen -dmS doccano_task doccano task &amp;&amp;</span></span><br><span class="line"><span class="string">             tail -f /dev/null"</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker, doccano </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨å‘ˆè´¡çš„æ—¥å­â€”â€”å¤ä¹ èµ„æ–™ä¸è§äº†</title>
      <link href="/2025/02/06/zai-cheng-gong-de-ri-zi-fu-xi-zi-liao-bu-jian-liao/"/>
      <url>/2025/02/06/zai-cheng-gong-de-ri-zi-fu-xi-zi-liao-bu-jian-liao/</url>
      
        <content type="html"><![CDATA[<p>åˆç¿»åˆ°äº†ä¸€ç¯‡å½“æ—¶çš„è®°å½•ï¼Œèµ·å› æ˜¯å¤ä¹ èµ„æ–™å¤ªå¤šï¼Œä¸æ–¹ä¾¿éšèº«æºå¸¦ï¼Œæˆ‘å°†ä¹¦è—åœ¨äº†å›¾ä¹¦é¦†çš„é¡¶æ¥¼æ¶ˆé˜²é€šé“ï¼ˆé˜…è§ˆå®¤åœ¨äºŒæ¥¼ï¼Œä¹¦è—åœ¨12æ¥¼é™„è¿‘ï¼‰ï¼Œç»“æœï¼Œè¢«ä¿å®‰æ”¶èµ°äº†ã€‚è¿˜ä¾ç¨€è®°å¾—ï¼Œåˆå¤œçš„ä¿å®‰ä»¬æ‰“ç€æ‰‹ç”µç­’ï¼Œåœ¨è¿‡é“ã€é—¨çª—æ—®æ—¯è§’ã€èŠ±ç“¶åé¢åˆ°å¤„ç¿»æ‰¾è€ƒç ”erä¹¦çš„æƒ…èŠ‚ï¼Œå¥½ä¸€æ³¢çŒ«é¼ æ¸¸æˆã€‚</p><p>ä¸‹é¢æ˜¯å½“æ—¶çš„è®°å½•ï¼š</p><blockquote><p>ä¸€æ—©ä¸Šæ¥å›¾ä¹¦é¦†ï¼Œå‘ç°ä¹¦ä¸è§äº†ã€‚ä»7ç‚¹å¤šæŠ˜è…¾åˆ°ç°åœ¨ï¼ˆ8:55ï¼‰æ‰ä»ç®¡ç†å‘˜å¤„æ‹¿åˆ°äº†æˆ‘çš„å¤ä¹ èµ„æ–™ã€‚æ•°äº†æ•°åº”è¯¥æ˜¯æ²¡æœ‰ä¸¢å¤±ï¼Œæ‚¬ç€çš„ä¸€é¢—å¿ƒæ€»ç®—æ”¾äº†ä¸‹æ¥ã€‚å·²ç»è¿‡äº†æ—©ç‚¹çš„æ—¶é—´ï¼Œæ—©ç‚¹æ˜¯åƒä¸æˆäº†ã€‚</p><p>å¯æ˜¯æ¥ä¸‹æ¥çš„æ™šä¸Šæˆ‘åº”è¯¥å¦‚ä½•å®‰ç½®æˆ‘çš„ä¹¦å‘¢ï¼Ÿä½çš„åœ°æ–¹ç¦»å›¾ä¹¦é¦†è¿‘5å…¬é‡Œï¼Œå°†å…¨éƒ¨çš„ä¹¦èƒŒè¿›èƒŒå‡ºæ˜¯æ–­ç„¶ä¸è¡Œçš„ã€‚</p><p>Plan 1:æŠŠä¹¦ç²¾å‡ä¸€ä¸‹ï¼Œæ¯å¤©åªå¸¦å½“å¤©è¦çœ‹çš„ä¹¦ï¼Œè¿™æ ·çš„é‡ç°é˜¶æ®µèƒŒè¿›èƒŒå‡ºåº”è¯¥æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚åªæ˜¯çœ‹åˆ°ä¸€ä¸ªçŸ¥è¯†ç‚¹æƒ³è¦æ‰¾å‚è€ƒçš„è¯ï¼Œå°±ä¸èƒ½äº†ã€‚ä¹Ÿè®¸æˆ‘å¯ä»¥æŠŠä¹¦éƒ½æ‰«æä¸€ä¸‹åšæˆç”µå­çš„ï¼Œä½†æ˜¯é˜…è¯»ä½“éªŒæ€ä¹ˆæ ·å‘¢ï¼Ÿä¼šä¸ä¼šå¾ˆå·®ï¼Ÿæ‰«æä¹Ÿéœ€è¦å¾ˆå¤šæ—¶é—´ã€‚</p><p>Plan2:ç»§ç»­å†’ç€é£é™©ï¼Œå†æƒ³åŠæ³•æ‰¾ä¸€ä¸ªæ›´éšè”½çš„åœ°æ–¹ï¼ŒæŠŠä¹¦è—åœ¨å›¾ä¹¦é¦†å†…ã€‚ä¼˜ç‚¹ï¼šè½»è£…å‡ºè¡Œï¼Œä¸ç´¯ï¼Œæ–¹ä¾¿éšæ—¶ç¿»é˜…å‚è€ƒï¼Œæœ‰ç´§è¿«æ„Ÿï¼Œæœ‰åˆ©äºä¿æŒä¸æ”¾æ¾çš„å¤ä¹ çŠ¶æ€ã€‚ç¼ºç‚¹ï¼šé£é™©å¤§ï¼Œå¦‚æœå†è¢«å‘ç°ï¼Œæœ‰å¯èƒ½æ‹¿ä¸äº†ä¹¦ï¼Œå› ä¸ºæœ‰å†å²ï¼Œåœ¨ä¿å®‰é‚£é‡Œä¸å¥½äº¤ä»£ã€‚</p><p>Plan3:å¯¹ä¿å®‰ã€ç‰©ä¸šäººå‘˜è¿›è¡Œå…¬å…³ï¼Œçœ‹èƒ½å¦å°†ä¹¦æ”¾åœ¨å…¶åŠå…¬å®¤æˆ–è€…å·¥å…·å®¤ã€‚ä¼˜ç‚¹ï¼šå…·æœ‰2çš„æ‰€æœ‰ä¼˜ç‚¹ï¼Œå¤–åŠ é›¶é£é™©ã€‚ç¼ºç‚¹ï¼šå…¬å…³ç²¾åŠ›è€—è´¹å¤§ï¼Œä¸ä¸€å®šèƒ½æˆåŠŸï¼Œä»æœ€è¿‘çš„æ¥è§¦ä¸‹æ¥ï¼Œæ„Ÿè§‰éš¾åº¦å¾ˆå¤§ã€‚ï¼ˆè¿™é‡Œçš„å·¥ä½œäººå‘˜æ‰§è¡Œæ”¶ä¹¦å¾ˆå½»åº•ï¼Œä½†ä¹Ÿå¹¶ä¸æ˜¯æ²¡æœ‰äººæƒ…å‘³ï¼Œè¿˜éœ€è¦ä¸€æ®µæ—¶é—´æ¥è§‚å¯Ÿã€‚ï¼‰</p><p>Plan4:è”åˆå­¦æ ¡çš„åŒå­¦ä¸€èµ·å‘å›¾ä¹¦é¦†é¢†å¯¼åæ˜ ï¼Œå¸Œæœ›èƒ½å¤Ÿæ”¾å®½æ”¶ä¹¦çš„æ¡ä»¶ã€‚è¿™ä¸ªéš¾åº¦æœªçŸ¥ï¼Œæ²¡æœ‰å°è¯•è¿‡ï¼Œè€—è´¹ç²¾åŠ›æœ€å¤§ã€‚</p><p>Plan5:åœ¨å°±è¿‘éå›¾ä¹¦é¦†çš„åœ°æ–¹æ‰¾ä¸€ä¸ªæ”¾ä¹¦ç‚¹ï¼Œä¼˜ç‚¹ï¼šä¸ç”¨æ¥å›æ¬å¾ˆå¤šä¹¦ï¼Œæœ‰ç´§è¿«æ„Ÿã€‚ç¼ºç‚¹ï¼šä¸å¤Ÿä¾¿æ·ï¼Œæœ‰ä¸¢å¤±æ‰¾ä¸åˆ°çš„å¯èƒ½ã€‚è¿™ä¸ªéœ€è¦å†è€ƒå¯Ÿè€ƒå¯Ÿï¼Œå†å…·ä½“é—®é¢˜å…·ä½“åˆ†æã€‚</p><p>æ€»è®°ï¼šç°é˜¶æ®µå…ˆæŒ‰Plan1æ‰§è¡Œï¼Œçœ‹çœ‹ä¸¤å‘¨å†…å¯¹å¤ä¹ çš„å½±å“æœ‰å¤šå¤§ã€‚åŒæ—¶åœ¨ä»Šå¤©ç¡®è®¤plan2æ˜¯å¦å¯è¡Œ(æ˜¯å¦æœ‰æ›´åŠ éšè”½çš„æ”¾ä¹¦ç‚¹ï¼Ÿï¼‰ï¼Ÿä¸€å‘¨å†…ç¡®è®¤plan5æ˜¯å¦å¯è¡Œ(æ˜¯å¦æœ‰ç¦»å›¾ä¹¦é¦†è¿‘çš„å®‰å…¨å¯é çš„æ”¾ä¹¦ç‚¹?ï¼‰ä¸¤å‘¨å†…ç¡®è®¤plan3æ˜¯å¦å¯è¡Œ(èƒ½å¦å…¬å…³ï¼‰ï¼Ÿå¯¹plan4ä¿æŒå…³æ³¨ã€‚</p></blockquote><p>åè®°ï¼šæƒ³èµ·æ¥ï¼Œå½“æ—¶æ˜¯æš‘å‡ï¼Œåº§ä½æœ‰å¾ˆå¤§ä½™é‡ï¼Œä¸å­˜åœ¨å ä½çš„é—®é¢˜ã€‚ä¸€å¼€å§‹ä¿å®‰æ˜¯å…è®¸å­¦ç”Ÿå°†ä¹¦æ”¾åœ¨åº§ä½ä¸Šè¿‡å¤œçš„ï¼Œåæ¥ä¼¼ä¹æ˜¯æŸäº›å­¦ç”Ÿå› ä¸ºâ€å¥½â€ä½ç½®ä¸€ç›´è¢«åˆ«äººå ç”¨ï¼Œå¾—ä¸åˆ°æ¢ä½ç½®çš„æœºä¼šï¼Œå°±æŠŠé—®é¢˜ååº”ç»™äº†æŸé¢†å¯¼ã€‚é¢†å¯¼å¤§ä¸ºå…‰ç«ï¼Œéšä¸‹ä»¤ç¦æ­¢ç•™ä¹¦è¿‡å¤œï¼Œæ‰€ä»¥å‡ºç°äº†å‰æ–‡ â€œä¸¥æ‰“â€çš„ç”»é¢ã€‚å…¶å®ï¼Œè¿™ä½é¢†å¯¼ï¼Œåªè¦æ˜¯ç¨å¾®åŠ¨ç‚¹è„‘å­ï¼Œåˆ’åˆ†å‡ºä¸€å°å—åŒºåŸŸï¼Œæ‹¿å‡ å¼ æ¡Œå­ä¸“é—¨æ”¾ä¹¦å°±æ˜¯çš†å¤§æ¬¢å–œçš„äº‹å„¿äº†ã€‚</p><p>ä¹Ÿæ˜¯æŒºæ€€å¿µï¼Œå½“æ—¶ä¸€ç‚¹ä¸å†…è€—ï¼Œç¢°åˆ°é—®é¢˜ç§¯æåˆ—è®¡åˆ’ï¼Œæƒ³åŠæ³•çš„è‡ªå·±ã€‚</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250206170912.png" alt="image-20250206170909967"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»æƒ…æ„Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‘ˆè´¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨å‘ˆè´¡çš„æ—¥å­â€”â€”æé±¼æ²³</title>
      <link href="/2025/02/06/zai-cheng-gong-de-ri-zi-lao-yu-he/"/>
      <url>/2025/02/06/zai-cheng-gong-de-ri-zi-lao-yu-he/</url>
      
        <content type="html"><![CDATA[<p>ä»Šæ—¥å†™è®ºæ–‡å†™ä¹äº†ï¼Œå°±å»ç¿»äº†ç¿»ä»¥å‰è®°çš„ç¬”è®°ï¼Œç¿»åˆ°äº†åœ¨å‘ˆè´¡å­¦ä¹ ç”Ÿæ´»æ—¶æœŸçš„è®°å½•ã€‚æƒ³å½“åˆï¼Œæˆ‘ä¸ºäº†é€ƒé¿å®¶äººäº²æˆšå¸¦æ¥çš„å‹åŠ›ã€ç‹¬è‡ªä¸€äººå»å‘ˆè´¡å¯»æ±‚ä¸€ç‰‡æ¸…å‡€ä¹‹åœ°å¤ä¹ å¤‡è€ƒï¼Œæ—¶å…‰åŒ†åŒ†ï¼Œä¸€æ™ƒå‡ å¹´è¿‡å»äº†ï¼Œä»¤äººæ„Ÿå¹ã€‚</p><p>è™½çœ‹ä»¥å‰è®°å½•çš„æ–‡å­—ç•¥æ˜¾å¹¼ç¨šï¼Œä½†ä¸ºäº†ä¿è¯è®°å½•çš„çœŸå®æ€§ï¼Œæˆ‘ä¸€å­—ä¸è½çš„ç…§æ¬äº†è¿‡æ¥ï¼Œä¸‹é¢æ˜¯å½“æ—¶çš„è®°å½•ï¼š</p><p>ä¸çŸ¥ä¸è§‰å°±åˆ°äº†æœˆæœ«ï¼Œåœ¨å‘ˆè´¡å·²ç»å¿«ä¸€ä¸ªæœˆäº†ã€‚æœ€è¿‘å¤©å¤©æ³¡å›¾ä¹¦é¦†ï¼Œæ„Ÿè§‰æ•ˆç‡æœ‰ç‚¹ä¸‹é™ï¼Œè€Œæˆ‘å¯¹é™¤æ ¡å›­ä¹‹å¤–çš„å‘¨è¾¹ç¯å¢ƒè¿˜ä¸€æ— æ‰€çŸ¥ï¼Œè¶ç€æ²¡ä¸‹é›¨çš„å‘¨å…­å°±å‡ºå»çœ‹äº†çœ‹ã€‚</p><p>ä¸Šåˆé…ç½®å¥½æ— çº¿APæ‰¾äº†ä¸ªå…±äº«è½¦å°±éª‘äº†å‡ºå»ï¼Œæ²¡å¤šä¹…ï¼ˆçº¦30åˆ†é’Ÿï¼‰å°±åˆ°äº†æ»‡æ± è¾¹ä¸Šçš„æé±¼æ²³å…¬å›­ã€‚è™½ç„¶æ˜¯å‘¨æœ«ç”±äºéšæ—¶ä¼šä¸‹é›¨çš„æ ·å­ï¼Œå…¬å›­é‡Œé¢äººä¸å¤šï¼Œå¾ˆæ˜¯æ¸…é™ã€‚</p><p>å…¬å›­ä¾æ»‡æ± ä¸œè¾¹çš„æ¹–å²¸çº¿è€Œå»ºï¼Œå› æœ‰ä¸€æ¡å°æ²³åœ¨æ­¤æ³¨å…¥æ»‡æ± ï¼Œå°æ²³é‡Œå¯ä»¥æåˆ°å°é±¼å°è™¾ï¼Œå› æ­¤å–åä¸ºæé±¼æ²³å…¬å›­ã€‚</p><p>è¿™é‡Œç§æ¤æœ€å¤šçš„è¦æ•°æ°´è¡«äº†ï¼Œå¤§ç‰‡å¤§ç‰‡çš„æ°´è¡«ï¼Œè¡Œèµ°å…¶ä¸­ï¼ŒçŠ¹å¦‚èº«åœ¨ç»¿æµ·ä¸€èˆ¬ï¼Œä»¤äººå¿ƒæ—·ç¥æ€¡ã€‚æ°´è¡«å¯¹æˆ‘è€Œè¨€å¹¶ä¸é™Œç”Ÿï¼Œåœ¨å¹³åŸåœ°åŒºçš„æ¹–è¾¹æ¹¿åœ°å¤§å¤šæœ‰ç§æ¤ï¼Œä½†æ˜¯å¦‚æ­¤å¯†é›†çš„æ°´è¡«æ—æˆ‘æ˜¯ç¬¬ä¸€æ¬¡è§åˆ°ï¼Œè§‰å¾—å¾ˆéœ‡æ’¼ï¼Œç”¨å¯†ä¸é€å…‰æ¥å½¢å®¹ä¹Ÿä¸€ç‚¹ä¸ä¸ºè¿‡ã€‚å›æ¥çš„è·¯ä¸Šä¸€ç›´åœ¨æƒ³ï¼Œåœ¨è¿™æ ·å¯†é›†çš„æ ‘æ—ä¸­ï¼Œæ ‘ä¸æ ‘ä¹‹é—´ä¸ºä½•ä¸ä¼šé®æŒ¡æ‰é˜³å…‰ï¼Œæˆ–è€…å› ç«äº‰å…»æ–™è€Œé€ æˆæŸäº›æ ‘è‹—æ­»äº¡å‘¢ï¼Ÿ</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250206142919.png" alt="image-20250206142908312"></p><p> çŠ¹å¦‚èº«å¤„ç»¿æµ·ä¹‹ä¸­ ä»¤äººå¿ƒæ—·ç¥æ€¡ï¼ˆåè®°ï¼šåœ¨åæ¥çš„æ—¥å­é‡Œï¼Œè¿™ç‰‡ç»¿è‰²ï¼Œæ—¶å¸¸å‡ºç°åœ¨æˆ‘çš„è„‘å­é‡Œï¼Œåœ¨æˆ‘å¿ƒä¸­ç§ä¸‹äº†ä¸€ç‰‡ç»¿è‰²ä¹‹æµ·ï¼‰</p><p>ç¢ç£¨æ¥ç¢ç£¨å»ï¼Œæˆ‘è§‰å¾—é¦–å…ˆå¾—ç›Šäºæ»‡æ± çš„å­˜åœ¨ï¼Œé€ å°±äº†å‘¨è¾¹çš„æ¹¿åœ°ç”Ÿæ€ï¼Œä½¿å¾—ç©ºæ°”èƒ½å¤Ÿä¸€ç›´ä¿æŒå¾ˆé«˜çš„æ¹¿åº¦ï¼Œæ°´è¡«å–œæ°´å–œæ¹¿ï¼Œè¿™æä¾›äº†å®ƒä»¬å¿…è¦çš„ç”Ÿé•¿æ¡ä»¶ï¼›å¦å¤–ï¼Œé«˜åŸåœ°åŒºä¸åŒå¹³åŸï¼Œè¿™é‡Œå…‰ç…§å……è¶³ï¼Œæ˜†æ˜æ›´æ˜¯å››å­£é˜³å…‰æ˜åªšï¼Œå•ä½é¢ç§¯ä¸Šæä¾›äº†æ¯”å¹³åŸåœ°åŒºæ›´å¤šçš„å…‰èƒ½é‡ï¼Œæ‰€ä»¥æ°´è¡«å¦‚æ­¤å¯†é›†çš„æƒ…å†µä¸‹è¿˜èƒ½ä¿æŒå¾ˆå¥½çš„é•¿åŠ¿ã€‚</p><p>æ¯”èµ·æ°´è¡«å¤§å†›ï¼Œå…¬å›­ä¸­ä¹Ÿç§æ¤äº†ä¸€äº›æŸ³æ ‘ï¼Œæ°´è¡«çš„æŒºæ‹”ä¿ä¸½ï¼ŒæŸ³æ¡å¯è°“åƒå§¿ç™¾æ€ã€å©€å¨œå¤šå§¿ï¼Œå¾ˆå¤šæŸ³æ ‘çš„æ ¹é¡»éƒ½æš´éœ²åœ¨å¤–ï¼Œçœ‹èµ·æ¥åƒè€äººçš„èƒ¡é¡»ï¼Œåªæ˜¯é¢œè‰²æ˜¯æœ±çº¢è‰²çš„ï¼Œè¿œè¿œçœ‹å»è¿˜æœ‰ç‚¹å“äººã€‚</p><p>åœ¨æ—é—´æ•£è½ç€é›¶æ˜Ÿçš„æ‚è‰ï¼ŒåŒ—è¾¹ä¸´è¿‘æ»‡æ± çš„åŒºåŸŸèŠ¦è‹‡ä¸›ç”Ÿã€‚å¦å¤–ï¼Œè‡ªè¡Œè½¦é“çš„ä¸¤è¾¹é›¶é›¶æ•£æ•£ç§æ¤äº†ä¸€äº›ç¾äººè•‰ã€‚</p><p>ä¸ºäº†ä¿æŠ¤æ¹¿åœ°ï¼Œå‡å°‘åƒåœ¾å‡è½»æ±¡æŸ“ï¼Œæ—åŒºå’ŒèŠ¦è‹‡è¡é‡Œç¦æ­¢è®¾æ‘Šå¼€åº—ï¼Œæ ˆé“æˆ–æ­¥é“ä¸Šæ¯ç›¸éš”ä¸è¿œçš„åœ°æ–¹å°±è®¾äº†ä¸€ä¸ªåƒåœ¾æ¡¶ã€‚è¿™æ ·çš„ç¯å¢ƒå¼•æ¥äº†ä¸å°‘é¸Ÿå„¿åœ¨æ­¤å®‰å®¶ã€‚æ°´è¡«æ—é‡Œé¢ï¼Œä¸æ—¶ä¼šä¼ å‡ºçŒ«å¤´é¹°çš„å«å£°ï¼Œä¼°è®¡é‡Œé¢ä½äº†ä¸å°‘ã€‚èŠ¦è‹‡å’Œæ‚è‰ä»ä¸­ï¼Œå¶å°”æœ‰é‡é¸Ÿé£å‡ºï¼Œè¿æ°”å¥½ç‚¹çš„è¯ï¼Œè¿˜èƒ½çœ‹åˆ°ç™½å¤©é¹…åœ¨æ°´é¢åˆ’æ°´ã€‚</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250206143043.png" alt="image-20250206143039109"></p><p>æœ€è¥¿ä¸´æ¹–çš„æ ˆé“ èƒ½å¤Ÿçœ‹åˆ°æ»‡æ± </p><p>å…¬å›­åŒ—çš„èŠ¦è‹‡è¡æœ‰æ ˆé“ç©¿æ’å…¶ä¸­ï¼Œåœ¨æœ€è¥¿ä¸´æ¹–çš„æ ˆé“ä¸Šèƒ½å¤Ÿæ¬£èµåˆ°æ»‡æ± çš„ç¾æ™¯ï¼Œå¾ˆé€‚åˆæƒ…ä¾£çº¦ä¼šé—²æ¸¸ã€‚å…¬å›­çš„æœ€å—ç«¯æ˜¯ä¸€å°å—äººé€ ç ‚çŸ³æ»©ï¼ˆå…¬å›­çš„åœ°å›¾ä¸Šå«æ²™æ»©ï¼Œä½†æ˜¯åœ°é¢ä¸Šé“ºçš„ç ‚çŸ³ç²’å¾„å·²ç»è¾¾åˆ°ç ¾çŸ³çš„çº§åˆ«äº†ï¼Œç£¨åœ†åº¦ä¹Ÿå¾ˆå·®ï¼Œæˆ‘è§‰å¾—å«ç ‚çŸ³æ»©æ›´ä¸ºå¦¥å½“ï¼‰ï¼Œè¿™é‡Œèšé›†äº†è®¸å¤šå®¶é•¿å’Œå°å­©ï¼Œå°å­©ä»¬æˆ–æ˜¯å¬‰æˆæ‰“é—¹ï¼Œæˆ–æ˜¯åŒå®¶é•¿ä¸€é“çœºæœ›è¿œæ–¹çš„æ¹–é¢ï¼›æœ‰å‡ ä¸ªå­¦ç”Ÿæ¨¡æ ·çš„å¥³å­©ï¼Œç‰¹æ„åŒ–äº†ç¾ç¾çš„å¦†ï¼Œç©¿ä¸Šæ¼‚äº®çš„è¡£æœæ¥è¿™é‡Œæ¸¸ç©æ‹ç…§ï¼Œæ€»ä¹‹å¥½ä¸æƒ¬æ„ã€‚</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250206150910.png" alt="image-20250206143208654"></p><p>çœºæœ›è¿œæ–¹ï¼ˆä¸€ï¼‰</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250206143304.png" alt="image-20250206143302496"></p><p> çœºæœ›è¿œæ–¹ï¼ˆäºŒï¼‰</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250206143405.png" alt="image-20250206143403672"></p><p> çœºæœ›è¿œæ–¹ï¼ˆä¸‰ï¼‰</p><p>ï¼ˆç”±äºå½“æ—¶çš„å¤©æ°”å¹¶ä¸å¥½ï¼Œä¸Šé¢ä¸‰å¼ ç…§ç‰‡æ‹å¾—å¹¶ä¸æ˜¯å¾ˆæ»¡æ„ï¼ŒåæœŸç‰¹æ•ˆä¹Ÿæ²¡æ³•æŒ½æ•‘ï¼Œç´¢æ€§è£å‰ªäº†ä¸€ä¸‹å°±è´´å‡ºäº†ï¼‰</p><p>æˆ‘è¿‡å»çš„æ—¶å€™ï¼Œæ¹–è¾¹æœ‰ä¸€ä¸ªå¤§å”æ­£è¹²ååœ¨è‡ªå·±çš„å°èˆ¹ä¸Šï¼Œèˆ¹å¤´æ•£è½ç€ä¸€äº›å°é±¼ï¼Œçœ‹ä»–ä¸€ä¸ªäººã€‚æˆ‘å¥½å¥‡ä»–çš„å°é±¼ï¼Œå°±è¿‡å»è·Ÿä»–èŠäº†èŠã€‚åŸæ¥å¤§å”çš„é±¼æ˜¯åˆšä»æ»‡æ± é‡Œé¢æèµ·æ¥çš„ï¼Œè¿™é±¼åå«ç®­é±¼ï¼Œè§é£å°±æ­»ï¼Œä¸èƒ½å…»ã€‚ä»–æ­£åœ¨ç­‰ç€æ¸¸å®¢æ¥ä¹°ä»–çš„é±¼ã€‚æˆ‘ä»¬èŠäº†ä¸ä¸€ä¼šå„¿ï¼Œå°±æ¥äº†ä¸€å¯¹å¸¦å°å­©çš„å®¶é•¿æ¥æ‰“å¬ä»–çš„é±¼æ€ä¹ˆå–ï¼Œåç»­åˆæœ‰ä¸å°‘æ¸¸å®¢å‡‘äº†è¿‡æ¥ï¼Œå¥½ä¸çƒ­é—¹ã€‚å¤§å”ä¹Ÿä¸ç”¨ç§¤ï¼ŒæŠ“èµ·å°é±¼é¢ äº†é¢ ã€‚â€œä¸€å…±35å—é’±â€ å­©å­æ¯äº²çŠ¹è±«äº†ä¸€ä¸‹ï¼Œæ²¡å¤šè¯´å°±ä¹°äº†ä¸‹æ¥ï¼Œå°±è¿™æ ·æˆ‘çœ‹ä»–å¾ˆè½»æ¾å°±å®Œæˆäº†ä¸€ç¬”äº¤æ˜“ã€‚</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250206143520.png" alt="image-20250206143517964"></p><p>è§é£å°±æ­»çš„ç®­é±¼</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250206143601.png" alt="image-20250206143559093"></p><p>å‡‘è¿‡æ¥çš„æ¸¸å®¢ å¥½ä¸çƒ­é—¹</p><p>ç„¶åä»–åˆæ»‘ç€å°èˆ¹å‘æ¹–é¢æ¼‚å»äº†ï¼Œåªè§ä»–åœ¨ç¦»å²¸è¾¹åå¤šç±³å¼€å¤–çš„åœ°æ–¹åœäº†ä¸‹æ¥ï¼Œç„¶åå¼€å§‹æ”¶ä¹‹å‰åŸ‹å¥½çš„ç½‘ã€‚è§ä»–ä¸€è¿æ”¶äº†å‡ ä¸ªç½‘éƒ½æ²¡å•¥æ”¶è·ï¼Œæˆ‘æœ‰çš„ä¸è€çƒ¦äº†ï¼Œå°±å¾€è¿œå¤„çš„äº­å­èµ°å»ï¼Œæ­‡äº†æ­‡ï¼Œä¹‹ååœ¨å²¸è¾¹æ‹èµ·äº†æ¹–æ°´ã€‚</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250206143701.png" alt="image-20250206143659749"></p><p>æ­£åœ¨æ•é±¼çš„å¤§å”</p><p>è™½ç„¶è¿‘å¹´æ¥åœ¨å„æ–¹çš„æ²»ç†ä¹‹ä¸‹ï¼Œæ»‡æ± çš„æ°´è´¨å·²ç»æœ‰äº†å¾ˆå¤§çš„æ”¹å–„ã€‚ä½†æ˜¯æ¯”èµ·æˆ‘ä¹‹å‰è§è¿‡çš„ä¸€äº›æ¹–æ³Šæ¥è¯´ï¼Œè¿˜æ˜¯å·®äº†å¾ˆå¤šï¼Œæ¸…æ¾ˆè§åº•æ›´æ˜¯ä¸èƒ½æã€‚ä¹Ÿè®¸æ˜¯å› ä¸ºè¿™é‡Œæ˜¯å…¬å›­ï¼Œäººçš„æ´»åŠ¨æ¯”è¾ƒé¢‘ç¹ï¼Œæ‰€ä»¥å¯¼è‡´é™„è¿‘åŒºåŸŸæ°´è´¨ä¸å¥½ï¼Œä½†æ„¿æ¹–ä¸­å¿ƒåŒºåŸŸæ°´è´¨æ›´å¥½ç‚¹ã€‚</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250206143901.png" alt="image-20250206143754522"></p><p>æ»‡æ± çš„æ°´ï¼ˆä¸ºäº†æ‹å‡ºæ³¢æ¶›æ±¹æ¶Œçš„æ„Ÿè§‰ï¼Œæˆ‘æŠŠé•œå¤´æ”¾å¾—å¾ˆä½ï¼‰</p><p>å°±åœ¨æˆ‘å¿™äºæ‹ç…§çš„æ—¶å€™ï¼Œå¤§å”çš„èˆ¹å·²ç»å†æ¬¡é å²¸äº†ã€‚æˆ‘èµ¶å¿™å¤§æ­¥èµ°è¿‡å»ï¼Œçœ‹çœ‹ä»–è¿™æ¬¡æ”¶è·æ€ä¹ˆæ ·ã€‚å¯æ˜¯è¿˜æ˜¯æ™šäº†ï¼Œç­‰æˆ‘èµ°åˆ°è·Ÿå‰ï¼Œä»–çš„é±¼å·²ç»è¢«ä¸€ä¸ªä¸­å¹´äººå…¨éƒ¨ä¹°äº†ï¼Œè¿™æ¬¡æ•ä¸Šæ¥çš„å…¨æ˜¯ç™½é²¦ï¼Œä¸åƒä¸Šæ¬¡çš„ç®­é±¼æ‹¿ä¸Šæ¥å°±æ­»äº†ï¼Œè¿™æ¬¡çš„ç™½é²¦ä¸ªä¸ªæ´»è¹¦ä¹±è·³ï¼Œæ¯”ä¸Šæ¬¡çš„è¿˜å¤šã€‚ä»¤æˆ‘æ„ŸåŠ¨æƒŠè®¶çš„æ˜¯è¿™æ¬¡ä»–ä¸€å…±æ‰ä¹°25å—é’±ã€‚æˆ‘è§‰å¾—å¥½äºï¼Œä¸€æ‰“å¬æ‰çŸ¥é“åŸæ¥ç™½é²¦æ²¡æœ‰ç®­é±¼å€¼é’±ã€‚</p><p>å¤§å”å¾ˆå¥è°ˆï¼Œåé¢è¶ä»–åœ¨ç­‰æ¸¸å®¢ä¹°é±¼çš„é—´éš™æˆ‘ä»¬åˆèŠäº†è®¸å¤šã€‚æ®ä»–è¯´ï¼Œæ»‡æ± é‡Œé¢é™¤äº†ä¸Šé¢çš„ç®­é±¼å’Œç™½é²¦å¤–ï¼Œè¿˜èƒ½æ•åˆ°é²¢é±¼ã€é²¤é±¼ã€é»„é¢¡é±¼ï¼Œå…¶ä¸­é»„é¢¡é±¼å–å¾—æœ€è´µã€‚æ•é±¼ä¹Ÿæ˜¯é å¤©æ°”åƒé¥­ï¼Œä¸‹é›¨å¤©é£å¤§çš„æ—¶å€™ï¼Œä¸€å¤©åˆ°æ™šä¹Ÿç½‘ä¸äº†å‡ æ¡é±¼ï¼›æ™´å¤©é£å¹³æµªé™çš„æ—¶å€™å°±æ¯”è¾ƒå¥½ç½‘åˆ°é±¼äº†ï¼Œåƒè¿™æ ·çš„å¤©æ°”å¤§æ¦‚1å°æ—¶å·¦å³å°±èƒ½æ”¶ä¸€æ¬¡ç½‘ã€‚æˆ‘è·Ÿä»–è¯´ä»–è¿™é±¼åˆšæèµ·æ¥çš„ï¼Œæ¯”å¸‚åœºä¸Šçš„æ–°é²œï¼Œæ¥ç©çš„æ¸¸å®¢ä¹Ÿä¸å¤ªä¼šåœ¨æ„ä»·é’±ï¼Œå¯ä»¥å–è´µç‚¹ã€‚å¤§å”å€’æ˜¯å¾ˆå®åœ¨ï¼Œä»–è¯´ä»–å‡ºå»æ”¶ä¸€æ³¢ç½‘æœ‰å¤šæœ‰å°‘ï¼Œçœ‹ç€å·®ä¸å¤šçš„é’±å°±å–äº†ï¼Œä»–å› ä¸ºå–å¾—ä¾¿å®œï¼Œæœ‰ä¸å°‘å›å¤´å®¢å˜ã€‚</p><p>åœ¨è¿™é‡Œæé±¼é™¤äº†çœ‹å¤©æ°”ï¼Œè¿˜å¾—éšæ—¶æ³¨æ„æœ‰å…³éƒ¨é—¨çš„ç®¡ç†äººå‘˜ï¼Œå¦‚æœä¸å¹¸è¢«é€®åˆ°ä¸€æ¬¡ï¼Œå…­ä¸ƒç™¾å—é’±å°±æ²¡äº†ï¼Œè¿™è¦å¥½å‡ å¤©æ‰æŒ£å¾—å›æ¥ã€‚æŒ‰ä»–çš„è¯´æ³•å°±æ˜¯è·Ÿç›¸å…³äººå‘˜â€œæ‰“æ¸¸å‡»â€ï¼Œæ‰“å¥½äº†å°±èƒ½æŒ£é’±ã€‚æˆ‘è·Ÿä»–ç²—ç•¥ç®—äº†ä¸€ä¸‹å½“å¤©çš„æ”¶å…¥ï¼Œå¤§æ¦‚æœ‰150å·¦å³ï¼Œå¦‚æœæ¯å¤©éƒ½è¿™æ ·ï¼Œä¸€ä¸ªæœˆçš„æ”¶å…¥å°±åœ¨4000ä¸Šä¸‹äº†ã€‚</p><p>é™¤äº†æ•é±¼ä¹‹å¤–ï¼Œæˆ‘å¯¹ä»–çš„ç”Ÿæ´»ä¹Ÿäº§ç”Ÿäº†å…´è¶£ã€‚è¿›ä¸€æ­¥äº¤è°ˆä¸­ï¼Œäº†è§£åˆ°ç”±äºå‘ˆè´¡æ–°åŸå»ºè®¾ï¼Œå¤§å”å®¶å·²ç»åŠç†äº†æ‹†è¿è¡¥å¿æ‰‹ç»­ã€‚æ”¿åºœç»™äº†ä»–ä»¬æ¯äºº100å¹³ç±³çš„å›è¿å®‰ç½®æˆ¿ï¼ˆå‰ææ˜¯åŸä½æˆ¿æœ‰100å¹³ç±³ï¼Œä¸è¶³çš„é¢å¤–èŠ±é’±è´­ä¹°ï¼Œä»·é’±å¤§æ¦‚æ˜¯ç›®å‰å¸‚åœºä»·çš„4æŠ˜ï¼‰ï¼›å¦å¤–ä¸ºäº†è®©ä»–ä»¬èƒ½å°½æ—©æ¬ç¦»åŸä½æˆ¿æ¯äººç»™10ä¸‡å…ƒçš„è¡¥åŠ©ï¼Œå›è¿è¿‡æ¸¡æœŸé—´æ¯äººæ¯å¹´æœ‰1ä¸‡å…ƒçš„ç”Ÿæ´»è¡¥åŠ©ï¼Œæˆ‘å¾ˆç¾¡æ…•å¹¶è¡¨ç¤ºä»–ä»¬ç¢°ä¸Šäº†å¥½æ”¿ç­–ã€‚å¯æ˜¯ä»–å¹¶ä¸ä»¥ä¸ºç„¶ï¼Œè§‰å¾—ä»¥åæ¬å»æ–°æˆ¿è¦äº¤ç‰©ä¸šè´¹ï¼Œæ°´ç”µä¹Ÿæ¯”ç°åœ¨é«˜ï¼Œå¢åŠ äº†ç”Ÿæ´»æˆæœ¬ï¼Œå› ä¸ºæ²¡æœ‰å›ºå®šå·¥ä½œï¼Œä»–è§‰å¾—10ä¸‡å—å¾ˆå¿«ä¹Ÿä¼šèŠ±å®Œï¼Œæ‰€ä»¥ä¸æ— æ‹…å¿ƒã€‚</p><p>ä»–æœ‰ä¸€ä¸ªå„¿å­ï¼Œä»Šå¹´å·²ç»é«˜äºŒäº†ï¼ŒæŒ‰ä»–çš„è¯´æ³•é©¬ä¸Šå°±è¦é«˜è€ƒäº†ï¼Œè¯´åˆ°å­©å­çš„æ•™è‚²é—®é¢˜ï¼Œä»–è¿˜æ˜¯ä¸€ç§æ”¾å…»çŠ¶æ€ï¼ŒæŒ‰ä»–çš„è¯´æ³•ï¼Œèƒ½è¯»çš„ä¸ç®¡ä»–ä¹Ÿè¯»å¾—è¿›å»ï¼Œä¸èƒ½è¯»çš„æ‰“ä¹Ÿæ²¡ç”¨ã€‚ä»–ä»¬è¿™é‡Œå°å­©ä¸Šå­¦ç”Ÿæ´»è´¹æ™®éç»™çš„æ¯”è¾ƒå……è£•ï¼Œä¸€ä¸ªå°å­©æ¯ä¸ªæœˆå…‰ç”Ÿæ´»è´¹å°±è¦ç»™åˆ°ä¸€åƒå¤šã€‚æˆ‘è¯´æˆ‘ç°åœ¨çš„ç”Ÿæ´»è´¹ä¹Ÿæ²¡æœ‰ä¸€åƒï¼Œä»–ç¬‘äº†ç¬‘è¡¨ç¤ºä¸ä¿¡ã€‚</p><p>æœ€åï¼Œçœ‹å¤©å·²ç»å¾ˆæ™šäº†ï¼Œè·Ÿå¤§å”é“åˆ«åï¼Œæˆ‘å°±åŒ†åŒ†éª‘è½¦å›èµ¶äº†ï¼Œå›åˆ°äº‘å¤§å·²ç»æ¥è¿‘21ç‚¹äº†ï¼Œä¸æ— æ”¶è·çš„ä¸€å¤©ã€‚</p><p>åè®°ï¼šè™½ç„¶æˆ‘ä»…åœ¨å‘ˆè´¡å‘†äº†åŠå¹´å¤šï¼Œåœ¨æ—¥å¸¸çš„ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬éƒ½ä¼šè§‰å¾—åŠå¹´å¾ˆå¿«å°±è¿‡å»äº†ã€‚ç›´åˆ°åé¢æˆ‘æ‰å‘ç°ï¼Œè¿™åŠå¹´çš„ç”Ÿæ´»ï¼Œç»™æˆ‘çš„ç²¾ç¥ä¸Šç•™ä¸‹äº†å¾ˆæ·±çš„çƒ™å°ï¼Œä¸€äº›ç»å†å†å†åœ¨ç›®ã€‚ç­‰æœ‰ç©ºçš„æ—¶å€™ï¼Œå†æ…¢æ…¢å†™å§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»æƒ…æ„Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‘ˆè´¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vscodeå¼€å‘æŠ€å·§è®°å½•</title>
      <link href="/2025/01/28/vscode-kai-fa-ji-qiao-ji-lu/"/>
      <url>/2025/01/28/vscode-kai-fa-ji-qiao-ji-lu/</url>
      
        <content type="html"><![CDATA[<p>æ—¥å¸¸ç¼–å†™ä»£ç ä¸­ï¼Œvscodeæ˜¯ç”¨çš„æœ€å¤šçš„ç¼–è¾‘å™¨ï¼Œç»å¸¸ä¼šé‡è§ä¸€äº›é—®é¢˜ï¼Œå®šæœŸæ€»ç»“ä¸€ä¸‹ï¼Œæ–¹ä¾¿ä»¥åæŸ¥é˜…ã€‚<br><br></p><h1 id="åœ¨ä¸èƒ½è¿æ¥å¤–ç½‘çš„è¿œç¨‹æœåŠ¡å™¨ä¸Šç”¨copilot"><a href="#åœ¨ä¸èƒ½è¿æ¥å¤–ç½‘çš„è¿œç¨‹æœåŠ¡å™¨ä¸Šç”¨copilot" class="headerlink" title="åœ¨ä¸èƒ½è¿æ¥å¤–ç½‘çš„è¿œç¨‹æœåŠ¡å™¨ä¸Šç”¨copilot"></a>åœ¨ä¸èƒ½è¿æ¥å¤–ç½‘çš„è¿œç¨‹æœåŠ¡å™¨ä¸Šç”¨copilot</h1><blockquote><p>æ‰“å¼€settings.jsonæ–‡ä»¶åœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"remote.extensionKind"</span>: {</span><br><span class="line">       <span class="string">"GitHub.copilot"</span>: [<span class="string">"ui"</span>],</span><br><span class="line">       <span class="string">"GitHub.copilot-chat"</span>: [<span class="string">"ui"</span>],</span><br><span class="line">   },</span><br></pre></td></tr></tbody></table></figure><br><h1 id="å¯ç”¨latexçš„pdfé¢„è§ˆ"><a href="#å¯ç”¨latexçš„pdfé¢„è§ˆ" class="headerlink" title="å¯ç”¨latexçš„pdfé¢„è§ˆ"></a>å¯ç”¨latexçš„pdfé¢„è§ˆ</h1><blockquote><p>æŒ‰ä¸‹ Ctrl+Alt+V å¿«æ·é”®ï¼Œå³å¯ã€‚</p><br></blockquote><h1 id="åˆ‡æ¢å±…ä¸­æ¨¡å¼ï¼Œä»¤æ˜¾ç¤ºå†…å®¹æ›´å¤š"><a href="#åˆ‡æ¢å±…ä¸­æ¨¡å¼ï¼Œä»¤æ˜¾ç¤ºå†…å®¹æ›´å¤š" class="headerlink" title="åˆ‡æ¢å±…ä¸­æ¨¡å¼ï¼Œä»¤æ˜¾ç¤ºå†…å®¹æ›´å¤š"></a>åˆ‡æ¢å±…ä¸­æ¨¡å¼ï¼Œä»¤æ˜¾ç¤ºå†…å®¹æ›´å¤š</h1><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Toggle Centered Layout</span><br></pre></td></tr></tbody></table></figure><br><h1 id="ä½¿ç”¨æ’ä»¶å¿«é€Ÿç”ŸæˆcypheræŸ¥è¯¢è¯­å¥"><a href="#ä½¿ç”¨æ’ä»¶å¿«é€Ÿç”ŸæˆcypheræŸ¥è¯¢è¯­å¥" class="headerlink" title="ä½¿ç”¨æ’ä»¶å¿«é€Ÿç”ŸæˆcypheræŸ¥è¯¢è¯­å¥"></a>ä½¿ç”¨æ’ä»¶å¿«é€Ÿç”ŸæˆcypheræŸ¥è¯¢è¯­å¥</h1><h2 id="å®‰è£…ç›¸å…³æ’ä»¶"><a href="#å®‰è£…ç›¸å…³æ’ä»¶" class="headerlink" title="å®‰è£…ç›¸å…³æ’ä»¶"></a>å®‰è£…ç›¸å…³æ’ä»¶</h2><blockquote><p>é¦–å…ˆå®‰è£…ä¸¤ä¸ªæ’ä»¶ï¼š</p><ul><li>Neo4j for VS Code</li><li>Cypher Query Language</li></ul></blockquote><h2 id="ä½¿ç”¨æ’ä»¶"><a href="#ä½¿ç”¨æ’ä»¶" class="headerlink" title="ä½¿ç”¨æ’ä»¶"></a>ä½¿ç”¨æ’ä»¶</h2><blockquote><p>å®‰è£…å¥½æ’ä»¶ä¹‹åï¼ŒæŒ‰ <code>crl+shift+p</code> å¼¹å‡ºè®¾ç½®ï¼š</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250128211729.png" alt="image-20250128211727292"></p><p>é€‰æ‹© <code>Manage Connection</code> è¿›è¡Œæ•°æ®åº“é…ç½®ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„é…ç½®ç¤ºä¾‹ï¼š</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250128211911.png" alt="image-20250128211909556"></p><p>é…ç½®å¥½åï¼Œæ–°å»ºä¸€ä¸ª*.cypheråç¼€çš„æ–‡ä»¶ </p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250128212040.png" alt="image-20250128212037885"></p><p>åœ¨å…¶ä¸­è¾“å…¥<code>cypher</code> å‘½ä»¤ï¼š</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250128212125.png" alt="image-20250128212122981"></p><p>æŒ‰<code>crl+shift+p</code>å¼¹å‡ºè®¾ç½®ï¼Œé€‰æ‹©<code>Run Cypher Statements</code> å³å¯è¿è¡Œå‘½ä»¤ï¼Œè¿è¡Œå®Œä¹‹åä¼šè¿”å›å­—å…¸å½¢å¼çš„ç»“æœã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vscode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢ç»´æŠ¤æ—¥å¿—</title>
      <link href="/2025/01/28/bo-ke-wei-hu-ri-zhi/"/>
      <url>/2025/01/28/bo-ke-wei-hu-ri-zhi/</url>
      
        <content type="html"><![CDATA[<ul><li><p>2025å¹´03æœˆ09æ—¥ æ–°å¢ç›¸å†ŒåŠŸèƒ½ï¼Œä½¿ç”¨ <a href="https://eggplant.wiki/photography/#photo-19">åœ°å€</a></p></li><li><p>2025å¹´03æœˆ08æ—¥ æ›´æ–° hexo è‡³ 7.3.0ã€‚  æ–°å¢æœç´¢åŠŸèƒ½ï¼Œä½¿ç”¨ <a href="https://dashboard.algolia.com/">algolia</a>ï¼Œ ä¸Šæ¬¡å¤±è´¥åŸå› ä¸ºæ²¡æœ‰åŒæ—¶å®‰è£… <code>hexo-algolia</code> å’Œ <code>hexo-algoliasearch</code>æ’ä»¶  ï¼Œ å‰è€…æ˜¯ä¸»é¢˜æ’ä»¶ï¼Œåè€…å®ç°å…¨æ–‡æœç´¢ã€‚ å‚è€ƒ<a href="https://blog.xiabee.cn/posts/archer-algolia/#/%E6%B3%A8%E5%86%8CAlgolia">æ•™ç¨‹1</a> </p></li><li><p>2025å¹´03æœˆ07æ—¥ å°è¯• å¢åŠ æœç´¢åŠŸèƒ½ <strong>å¤±è´¥</strong>ï¼Œ ä½¿ç”¨ <a href="https://dashboard.algolia.com/">algolia</a> , æ’ä»¶ä¸º <a href="https://github.com/LouisBarranqueiro/hexo-algoliasearch"><code>Hexo-Algoliasearch</code></a> , å‚è€ƒ<a href="https://github.com/theme-next/hexo-theme-next/blob/master/docs/zh-CN/ALGOLIA-SEARCH.md">æ•™ç¨‹1</a> <a href="https://www.linkinstars.com/post/fddf9055.html">æ•™ç¨‹2</a></p></li><li><p>2025å¹´02æœˆ10æ—¥ æ–°å¢ â€œNEWSâ€ æ¨¡å—ï¼Œ è®°å½•æˆé•¿å†ç¨‹</p></li><li><p>2025å¹´02æœˆ04æ—¥ æ”¯æŒè¯„è®ºåŠŸèƒ½, æ·»åŠ <a href="https://hugenye.github.io/2020/07/21/hexo-deploy/">utteranceè¯„è®ºç³»ç»Ÿ</a> </p></li><li><p>2025å¹´02æœˆ02æ—¥ æ›´æ–°åŸŸåä¸º <a href="https://ailyong.cn/">ailyong.cn</a></p></li><li><p>2025å¹´02æœˆ01æ—¥ æ›´æ–°åŸŸåä¸º <a href="https://eggplant.wiki/">eggplant.wiki</a></p></li><li><p>2025å¹´01æœˆ28æ—¥ æ›´æ–°ä¸»é¢˜ä¸º <a href="https://github.com/fi3ework/hexo-theme-archer">Archer</a></p><ul><li>æ”¯æŒæ–‡ç« å­—æ•°ç»Ÿè®¡</li><li>æ”¯æŒæ–‡ç« ç½®é¡¶åŠŸèƒ½</li><li>æ”¯æŒLatexå…¬å¼å’ŒMermaidå›¾è¡¨</li><li>æ›´åä¸º â€èŒ„å­çš„ä¸ªäººç©ºé—´â€œ</li></ul></li><li><p>2025å¹´01æœˆ é‡å¯åšå®¢  æ›´æ–°åŸŸåä¸º <a href="https://ailyong.cn/">ailyong.cn</a> </p></li><li><p>2024å¹´03æœˆ åŸåŸŸååˆ°æœŸï¼Œæš‚åœç»´æŠ¤</p></li><li><p>2022å¹´04æœˆ09æ—¥ æ›´æ–°ä¸»é¢˜ä¸º Matery</p><ul><li>æ”¯æŒæ–‡ç« å­—æ•°ç»Ÿè®¡</li><li>å¼€é€šdonateé¡µé¢</li><li>æ”¯æŒè¯„è®º</li></ul></li><li><p>2021å¹´02æœˆ01æ—¥ é¦–æ¬¡å¼€é€šåšå®¢</p><ul><li>ä½¿ç”¨ <a href="https://hexo.io/">hexo</a> æ­å»º</li><li>ä½¿ç”¨ next ä¸»é¢˜</li></ul></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> æ—¥å¿— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2024å¹´åº•æ€»ç»“</title>
      <link href="/2025/01/27/2024-nian-di-zong-jie/"/>
      <url>/2025/01/27/2024-nian-di-zong-jie/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘ä¸€å¹´ä»¥æ¥ï¼Œå¾ˆå°‘åœ¨æŠ€æœ¯åšå®¢ä¸Šé¢æ›´æ–°æ–‡ç« äº†ï¼Œä¸€æ–¹é¢æ˜¯å¾ˆé•¿ä¸€æ®µæ—¶é—´ä»¥æ¥ï¼Œå› ä¸ºæ„Ÿæƒ…çš„äº‹æƒ…ï¼Œä¸€ç›´<br>å¤„åœ¨ä½è°·æœŸï¼Œå¦ä¸€æ–¹é¢æ˜¯å› ä¸ºåšå®¢æ–‡ç« çš„æ›´æ–°æ˜¯ä¸€ä¸ªæ¯”è¾ƒè€—è´¹æ—¶é—´å’Œç²¾åŠ›çš„äº‹æƒ…ï¼Œå¹¶ä¸”æ²¡æœ‰æ¯”è¾ƒå¥½çš„è¯»è€…åé¦ˆï¼Œè€Œæˆ‘å¼€é€šäº†å¾®ä¿¡å…¬ä¼—å·ï¼Œå¹¶ä¸”åœ¨ä¸Šé¢æ›´æ–°ä¸€äº›å…³äºæˆ·å¤–çˆ¬å±±çš„æ–‡ç« ï¼Œæ‰€ä»¥åœ¨æŠ€æœ¯åšå®¢ä¸Šé¢çš„æ›´æ–°å°±æ¯”è¾ƒå°‘äº†ã€‚</p><p>åšå®¢æ–‡ç« çš„åŸŸååˆ°æœŸäº†ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰ç»­è´¹ç»´æŠ¤ï¼Œä¸€æ®µæ—¶é—´é‡Œé¢éƒ½å¤„äºæ— æ³•è®¿é—®çš„çŠ¶æ€ã€‚ç›´åˆ°æœ€è¿‘ï¼Œæˆ‘ç”³è¯·<br>äº‘æœåŠ¡å™¨çš„æ—¶å€™ï¼Œé¡ºå¸¦è´­ä¹°äº†åŸŸåï¼Œæ‰æŠŠåšå®¢æ¢å¤äº†ã€‚</p><p>å½“æˆ‘å›çœ‹ä»¥å‰å†™åœ¨æŠ€æœ¯åšå®¢ä¸Šçš„æ–‡ç« çš„æ—¶å€™ï¼Œå‘ç°æˆ‘ç°åœ¨æŒæ¡çš„æ¯”è¾ƒæ‰å®çš„æŠ€æœ¯ï¼Œéƒ½æ˜¯åœ¨åšå®¢ä¸Šé¢æ•´ç†<br>è®°å½•çš„å†…å®¹ï¼Œè¿™è®©æˆ‘æ„è¯†åˆ°äº†æ•´ç†è®°å½•åšå®¢çš„é‡è¦æ€§ï¼Œæ‰€ä»¥åœ¨æ¥ä¸‹æ¥çš„æ—¶é—´é‡Œé¢ï¼Œæˆ‘ä¼šç»§ç»­åœ¨æŠ€æœ¯åšå®¢ä¸ŠæŠ•å…¥æ—¶é—´å’Œç²¾åŠ›ï¼Œè®°å½•è‡ªå·±åœ¨æŠ€æœ¯ä¸Šçš„æˆé•¿ã€‚åŒæ—¶ä¹Ÿè®°å½•ä¸‹è‡ªå·±åœ¨ç”Ÿæ´»ä¸­çš„ä¸€äº›æ„Ÿæ‚Ÿå’Œæ€»ç»“ã€‚</p><p>2024å¹´å¯¹æˆ‘æ¥è¯´ï¼Œæ˜¯ä¸€ä¸ªè½¬æŠ˜ç‚¹ã€‚é¦–å…ˆï¼Œæˆ‘è®¤è¯†äº†ç°åœ¨çš„å¥³æœ‹å‹ï¼Œå¥¹ç»™äº†æˆ‘å¾ˆå¤šé¼“åŠ±ã€æ”¯æŒå’Œæ¸©æš–ï¼Œ<br>è®©æˆ‘åœ¨æƒ…æ„Ÿä¸Šé¢æœ‰äº†æ”¯æŒï¼Œæ‰¾åˆ°äº†ç”Ÿæ´»çš„åŠ¨åŠ›å’Œå¸Œæœ›ï¼Œæˆ‘æ—¶å¸¸åœ¨æƒ³ï¼Œå¥¹ä¸€å®šæ˜¯ä¸Šå¸æ´¾åˆ°æˆ‘èº«è¾¹çš„å¤©ä½¿ï¼Œæ¯æƒ³è‡³æ­¤ï¼Œå¹¸ç¦æ„Ÿæ²¹ç„¶è€Œç”Ÿï¼Œå…¨èº«è¢«ä¸€ç§è«åçš„æš–æ„æ‰€åŒ…å›´ã€‚å…¶æ¬¡ï¼Œåœ¨ç”Ÿæ´»å’Œä¸ªäººå…´è¶£æ–¹é¢ï¼Œæˆ‘ä¹Ÿæ‰¾åˆ°äº†ä¸€äº›<br>ä»Šåå‡†å¤‡æŒç»­æŠ•å…¥çš„æ–¹å‘ï¼Œæ¯”å¦‚æˆ·å¤–çˆ¬å±±ã€æ‘„å½±ç­‰ã€‚è¿™äº›å…´è¶£ä¸ä»…è®©æˆ‘è®¤è¯†åˆ°äº†ä¸€äº›æ–°çš„å¹´è½»çš„æœ‹å‹ï¼ŒåŒæ—¶ä¹Ÿè®©æˆ‘ä»å¯¹è‡ªå·±çš„å†…æ ¸æœ‰äº†æ›´æ·±çš„è®¤è¯†ã€‚æœ€åï¼Œåœ¨æŠ€æœ¯ç§¯ç´¯ä¸Šé¢ï¼Œæˆ‘èƒ½å¤Ÿæ˜æ˜¾çš„æ„Ÿè§‰åˆ°å‰äº›å¹´çš„ç‚¹æ»´ç§¯ç´¯ï¼Œå¼€å§‹å‘é…µï¼Œè®©æˆ‘åœ¨æŠ€æœ¯ä¸Šé¢æœ‰äº†æ›´å¤šçš„è‡ªä¿¡å’Œåº•æ°”ã€‚</p><p>åœ¨2025å¹´ï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿå°†æœ€è¿‘ä¸€å¹´ï¼Œç§¯ç´¯çš„æŠ€æœ¯å’Œç»éªŒï¼Œæ•´ç†æˆåšå®¢æ–‡ç« ï¼Œå¯¹è‡ªå·±å…ˆå‰çš„ç»å†æœ‰ä¸€ä¸ªæ€»ç»“å’Œå›é¡¾ï¼Œä¿æŒå¯¹æŠ€æœ¯çš„çƒ­æƒ…å’ŒæŒç»­å­¦ä¹ ã€‚ç†æƒ³æ˜¯æ„å»ºä¸€ä¸ªæŠ€æœ¯å­¦ä¹ å°ç»„ï¼Œå­¦ä¹ å·©å›ºAiçš„ç†è®ºåŸºç¡€å’Œå®æˆ˜ç»éªŒï¼Œä¸€èµ·äº¤æµå­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚å¹¶å°†ä¹‹å‰çš„å·¥ä½œï¼Œå†™æˆæ–‡ç« æŠ•ç¨¿å‘è¡¨ï¼Œè¦ä»¥ç»“æœä¸ºå¯¼å‘ã€‚</p><p>åœ¨ç”Ÿæ´»ä¸Šé¢ï¼ŒåšæŒè¿åŠ¨ï¼Œç»§ç»­çˆ¬å±±å’Œæ‘„å½±ï¼Œä¿æŒå¯¹ç”Ÿæ´»çš„çƒ­çˆ±å’Œæ¿€æƒ…ã€‚ä½†æ˜¯æŠ•å…¥çš„æ—¶é—´åº”è¯¥ä¸ä¼šåƒä»¥å¾€é‚£ä¹ˆå¤šäº†ã€‚</p><p>æœ€è¿‘çš„æ„Ÿå—å°±æ˜¯ï¼Œæ·±æ„Ÿæ—¶é—´å’Œç²¾åŠ›çš„å®è´µï¼ŒåŠªåŠ›åšå‡æ³•ï¼Œå¸Œæœ›å°†æ—¶é—´å’Œç²¾åŠ›æŠ•å…¥åˆ°å¯¹æœªæ¥5-10å¹´æœ‰å¸®åŠ©çš„äº‹æƒ…ä¸Šé¢ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»æƒ…æ„Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ€»ç»“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­å»ºWebdavæœåŠ¡å™¨å®ç°Obsidianå’ŒZoteroå¤šç«¯åŒæ­¥</title>
      <link href="/2025/01/26/da-jian-webdav-fu-wu-qi-shi-xian-obsidian-he-zotero-duo-duan-tong-bu/"/>
      <url>/2025/01/26/da-jian-webdav-fu-wu-qi-shi-xian-obsidian-he-zotero-duo-duan-tong-bu/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰-è¨€"><a href="#å‰-è¨€" class="headerlink" title="å‰ è¨€"></a>å‰ è¨€</h1><p>å¾ˆé•¿ä¸€æ®µæ—¶é—´ä»¥æ¥ï¼Œéƒ½æ¯”è¾ƒè‹¦æ¼è‡ªå·±çš„obsidianå’Œzoteroåœ¨å¤šç«¯åŒæ­¥çš„æ—¶å€™ç»å¸¸ç¢°åˆ°é—®é¢˜ï¼Œæœ‰æ—¶å€™æƒ³åœ¨æ‰‹æœºä¸Šé¢æŸ¥çœ‹æŸç¯‡paperçš„æ—¶å€™ï¼Œæ­£å¥½å‘ç°pdfé™„ä»¶æ²¡è¢«åŒæ­¥ï¼Œå¯¼è‡´ä¸èƒ½æŸ¥çœ‹ã€‚åŠ ä¹‹ï¼Œæœ€è¿‘ç»™å¥³æœ‹å‹æ¨èäº†obsidianï¼Œå¥¹è§‰å¾—éå¸¸å¥½ç”¨ï¼Œä½†ç”±äºè®¾å¤‡åŸå› ä¸èƒ½å®ç°å¤šç«¯åŒæ­¥ã€‚å¥¹é‡‡ç”¨å¹•å¸ƒè®°å½•ç¬”è®°ï¼Œå†å¯¼å…¥obsidiançš„æ–¹æ³•ï¼Œä»¥å®ç°å¤šç«¯åŒæ­¥å’Œç¬”è®°æœ¬åœ°ä¿å­˜ï¼Œæˆ‘è®¤ä¸ºè¯¥ç§æ–¹å¼è¾ƒä¸ºç¹çï¼Œä¸ç¬¦åˆæŠ€æœ¯äººçš„æ°”è´¨ã€‚</p><p>æ€è€ƒå†ä¸‰ï¼Œæˆ‘å†³å®šå¥½å¥½è§£å†³å¤šç«¯é…ç½®çš„é—®é¢˜ï¼Œç½‘ç»œä¸Šæœç´¢äº†ä¸€åœˆèµ„æ–™ä¸‹æ¥ï¼Œå‘ç°å¾ˆå¤šæ‰‹æœºç«¯è½¯ä»¶å‡æ”¯æŒä»¥Webdavåè®®è¿›è¡Œæ–‡ä»¶å…±äº«ï¼Œé‚å†³å®šæ­å»ºWebdavåè®®æœåŠ¡å™¨å®ç°å¤šç«¯å…±äº«ã€‚</p><p>è™½æœ‰åšæœäº‘ç­‰æ”¯æŒWebdavåè®®çš„ç°æˆäº‘ç›˜ï¼Œä½†åšæœäº‘é™åˆ¶ä¸å°‘ï¼Œæ—¢ç„¶è¦å½»åº•è§£å†³è¯¥é—®é¢˜ï¼Œè‡ªç„¶ä¸èƒ½å¿å—ã€‚æ‰€ä»¥å†³å®šæ­å»ºä¸€ä¸ªå±äºè‡ªå·±çš„Webdavåè®®æœåŠ¡å™¨ï¼Œä»¥å®ç°å¤šç«¯ä¸æ»‘å…±äº«åŒæ­¥ã€‚</p><p>ç”±äºè¦å’Œå¥³å‹ä¸€èµ·ä½¿ç”¨å…±äº«æœåŠ¡å™¨ï¼Œé‚£ä¹ˆç½‘ä¸Šå¸¸è§çš„å•ä¸€è´¦å·çš„WebdavæœåŠ¡æ•™ç¨‹ï¼Œè‡ªç„¶ä¸èƒ½æ»¡è¶³è¦æ±‚ã€‚æœŸæœ›çš„æ˜¯ï¼Œåˆ†åˆ«è®¾ç½®user1å’Œuser2ï¼Œä»¥è¾¾åˆ°å„è‡ªæœ‰ä¸åŒçš„æ–‡ä»¶å­˜å‚¨ç©ºé—´ï¼Œå¹¶è®¾ç½®ä¸€ä¸ªsharedå­˜å‚¨ç©ºé—´ï¼Œæ–¹ä¾¿å…±äº«æ–‡ä»¶ï¼Œå…±äº«æ–‡ä»¶åªæœ‰user1å’Œuser2èƒ½å¤Ÿè¿›è¡Œç¼–è¾‘ï¼Œä½†å¯ä»¥è¢«guestç”¨æˆ·æŸ¥çœ‹ï¼Œæ–¹ä¾¿æˆ‘ä»¬å…±äº«èµ„æ–™ç»™æœ‹å‹ã€‚</p><p>ç½‘ç»œä¸Šé¢æœå¯»äº†ä¸€åœˆï¼Œå‘ç°Apache2èƒ½å¤Ÿå¾ˆå¥½çš„æ»¡è¶³ä¸Šè¿°éœ€æ±‚ï¼Œå¹¶ä¸”å…·æœ‰æƒ³å¯¹æˆç†Ÿçš„æ•™ç¨‹èµ„æºï¼Œé‚é‡‡ç”¨Apache2è¿›è¡ŒæœåŠ¡æ­å»ºã€‚æœåŠ¡æ­å»ºçš„è¯¦ç»†æ­¥éª¤è®°å½•å¦‚ä¸‹ï¼š</p><h1 id="ç¯å¢ƒåŠè½¯ä»¶ç‰ˆæœ¬-ï¼š"><a href="#ç¯å¢ƒåŠè½¯ä»¶ç‰ˆæœ¬-ï¼š" class="headerlink" title="ç¯å¢ƒåŠè½¯ä»¶ç‰ˆæœ¬ ï¼š"></a>ç¯å¢ƒåŠè½¯ä»¶ç‰ˆæœ¬ ï¼š</h1><ul><li>æœåŠ¡å™¨æ“ä½œç³»ç»Ÿï¼š Ubuntu 22.04.4 LTS</li><li>zoteroç‰ˆæœ¬ï¼š7.0.9</li><li>obsidianç‰ˆæœ¬ï¼šVersion 1.5.8</li></ul><h1 id="å®‰è£…Apache2å¹¶é…ç½®webdavåè®®"><a href="#å®‰è£…Apache2å¹¶é…ç½®webdavåè®®" class="headerlink" title="å®‰è£…Apache2å¹¶é…ç½®webdavåè®®"></a><a href="https://reintech.io/blog/installing-configuring-webdav-server-ubuntu-22">å®‰è£…Apache2å¹¶é…ç½®webdavåè®®</a></h1><p>è¿™é‡Œï¼Œæˆ‘ä»¬å¯¹ä¸€èˆ¬çš„WebDavé…ç½®è¿›è¡Œäº†æ‰©å±•ï¼Œä»¥è¾¾åˆ°å¤šç”¨æˆ·çš„è¦æ±‚ï¼Œè¯¦ç»†å†…å®¹ä½“ç°åœ¨é…ç½®æ–‡ä»¶é‡Œé¢ã€‚</p><ol><li>å®‰è£… Apache2 HTTP æœåŠ¡å¹¶å¼€é€šwebdavåè®®</li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="built_in">sudo</span> apt install apache2</span><br><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> apache2</span><br><span class="line"><span class="built_in">sudo</span> systemctl start apache2</span><br><span class="line"><span class="built_in">sudo</span> a2enmod dav dav_fs auth_digest</span><br><span class="line"><span class="built_in">sudo</span> systemctl restart apache2</span><br></pre></td></tr></tbody></table></figure><ol start="2"><li>åˆ›å»ºWebDavæ–‡ä»¶å¤¹ï¼Œè®¾ç½®æƒé™</li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> -p /var/www/webdav/user1</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> -p /var/www/webdav/user2</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> -p /var/www/webdav/shared</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">chown</span> -R www-data:www-data /var/www/webdav</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">chmod</span> -R 775 /var/www/webdav</span><br></pre></td></tr></tbody></table></figure><p>é€šè¿‡ä¸Šé¢çš„è®¾ç½®ï¼ŒwebdavæœåŠ¡åœ¨æœåŠ¡å™¨ä¸Šé¢çš„è·¯å¾„ä¸º: /var/www/webdav<br>, å¯ä»¥æ”¹ä¸ºè‡ªå·±çš„ã€‚</p><ol start="3"><li>åˆ›å»ºç”¨æˆ·è®¤è¯æ–‡ä»¶<br>æ ¹æ®æç¤ºè¾“å…¥å¯†ç å¹¶ç¡®è®¤</li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> htdigest -c /etc/apache2/webdav.passwd <span class="string">"WebDAV Realm"</span> user1</span><br><span class="line"><span class="built_in">sudo</span> htdigest /etc/apache2/webdav.passwd <span class="string">"WebDAV Realm"</span> user2</span><br></pre></td></tr></tbody></table></figure><ol start="4"><li><p>è·å–SSLè¯ä¹¦<br>ç”±äºisoè¦æ±‚åªèƒ½ä»¥httpsåè®®æ–¹å¼è¿›è¡Œæ–‡ä»¶ä¼ è¾“ï¼Œæ‰€ä»¥è¦ä½¿å¾—æ­å»ºçš„webdavæœåŠ¡èƒ½å¤Ÿç”¨äºç”µè„‘ç«¯å’ŒiPhoneã€ipadåŒæ­¥ï¼Œå¿…é¡»é…ç½®SSLè¯ä¹¦ï¼Œä»¥å¯ç”¨httpsåè®®ã€‚<br>SSLè¯ä¹¦æœ‰ä¸¤ç§è·å–æ–¹å¼ï¼Œä¸€ç§æ˜¯è‡ªç­¾åè¯ä¹¦ï¼Œè¯¥ç§è¯ä¹¦åªé€‚åˆæµ‹è¯•ç¯å¢ƒï¼Œä¸é€‚åˆç”Ÿäº§ç¯å¢ƒï¼Œå› ä¸ºç®€å•ç¬”è€…ä¸€å¼€å§‹é‡‡ç”¨çš„æ˜¯è¯¥ç§æ–¹å¼ï¼Œä½†ç»è¿‡äº†å¤§é‡å°è¯•ï¼Œæœ€ç»ˆå¾—åˆ°çš„è‡ªç­¾åè¯ä¹¦ï¼Œå¹¶ä¸èƒ½ç”¨äºisoç«¯ã€‚å› æ­¤ï¼Œä¸æ¨èè‡ªç­¾åè¯ä¹¦ã€‚<br>ç½‘ç»œä¸Šçš„SSLè¯ä¹¦é¢å‘æœºæ„ï¼Œä¸€èˆ¬ä»…é’ˆå¯¹äºåŸŸåè¿›è¡Œè¯ä¹¦é¢å‘ï¼Œä½†æ˜¯å›½å†…åŸŸåå¤‡æ¡ˆæµç¨‹ç¹çã€‚ç¬”è€…ç»è¿‡å¤§é‡çš„æŸ¥è¯¢ï¼Œæœ€ç»ˆæ‰¾åˆ°äº†ä¸€å®¶å¯ä»¥ä¸ºipåœ°å€é¢å‘å…è´¹è¯ä¹¦çš„æœºæ„ <a href="https://app.zerossl.com/dashboard">ZeroSSL</a>ï¼Œè™½ç„¶ä¸€æ¬¡ç”³è¯·ä½¿ç”¨æœŸä»…ä¸ºä¸‰ä¸ªæœˆï¼Œä½†æ˜¯è¶³ä»¥è§£å†³ç‡ƒç…¤ä¹‹æ€¥ã€‚<br>ZeroSSLçš„ç½‘ç«™ä¸Šæœ‰è¾ƒä¸ºè¯¦ç»†çš„è¯ä¹¦ç”³è¯·åŠä½¿ç”¨æ–¹æ³•ï¼Œè¿™é‡Œä¸åšèµ˜è¿°ã€‚</p></li><li><p>é…ç½®WebDav<br>å®Œæˆä¸Šè¿°æ“ä½œä¹‹åï¼Œæˆ‘ä»¬å¼€å§‹å¯¹WebDavæœåŠ¡è¿›è¡Œé…ç½®ï¼Œæ‰“å¼€é…ç½®æ–‡ä»¶</p></li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> vim /etc/apache2/sites-available/000-default.conf</span><br></pre></td></tr></tbody></table></figure><p>   å¾€é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å®Œæ•´é…ç½®å†…å®¹</p><pre><code><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost *:443&gt;</span><br><span class="line">ServerAdmin webmaster@localhost</span><br><span class="line">DocumentRoot /var/www/webdav</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®sslè¯ä¹¦ï¼Œè·¯å¾„è¡¨ç¤ºè¯ä¹¦çš„å­˜æ”¾ä½ç½®</span></span><br><span class="line"><span class="comment"># ServerName webdav.local</span></span><br><span class="line">SSLEngine on</span><br><span class="line">SSLCertificateFile /etc/ssl/certs/certificate.crt</span><br><span class="line">SSLCertificateKeyFile /etc/ssl/private/private.key</span><br><span class="line">SSLCertificateChainFile /etc/ssl/certs/ca_bundle.crt</span><br><span class="line"></span><br><span class="line">Alias /webdav /var/www/webdav</span><br><span class="line">&lt;Directory /home/webdav&gt;</span><br><span class="line">Options Indexes FollowSymLinks</span><br><span class="line">AllowOverride None</span><br><span class="line"><span class="comment"># Require all granted</span></span><br><span class="line"><span class="comment"># Dav On</span></span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;Location /webdav/user1&gt;</span><br><span class="line">AuthType Digest</span><br><span class="line">AuthName <span class="string">"WebDAV Realm"</span></span><br><span class="line">AuthDigestProvider file</span><br><span class="line">AuthUserFile /etc/apache2/webdav.passwd</span><br><span class="line">Require user user1</span><br><span class="line">Dav On</span><br><span class="line">&lt;/Location&gt;</span><br><span class="line"></span><br><span class="line">&lt;Location /webdav/user2&gt;</span><br><span class="line">AuthType Digest</span><br><span class="line">AuthName <span class="string">"WebDAV Realm"</span></span><br><span class="line">AuthDigestProvider file</span><br><span class="line">AuthUserFile /etc/apache2/webdav.passwd</span><br><span class="line">Require user user2</span><br><span class="line">Dav On</span><br><span class="line">&lt;/Location&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å…±äº«è·¯å¾„çš„æƒé™</span></span><br><span class="line">&lt;Location /webdav/shared&gt;</span><br><span class="line">Dav On</span><br><span class="line">Allow from all</span><br><span class="line">&lt;LimitExcept OPTIONS GET&gt;</span><br><span class="line">AuthType Digest</span><br><span class="line">AuthName <span class="string">"WebDAV Realm"</span></span><br><span class="line">AuthDigestProvider file</span><br><span class="line">AuthUserFile /etc/apache2/webdav.passwd</span><br><span class="line">Require valid-user</span><br><span class="line">&lt;/LimitExcept&gt;</span><br><span class="line">&lt;LimitExcept PUT POST DELETE MOVE&gt;</span><br><span class="line">Require all granted</span><br><span class="line">&lt;/LimitExcept&gt;</span><br><span class="line">&lt;/Location&gt;</span><br><span class="line"></span><br><span class="line">ErrorLog <span class="variable">${APACHE_LOG_DIR}</span>/error.log</span><br><span class="line">CustomLog <span class="variable">${APACHE_LOG_DIR}</span>/access.log combined</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line"><span class="comment"># vim: syntax=apache ts=4 sw=4 sts=4 sr noet</span></span><br></pre></td></tr></tbody></table></figure></code></pre><ol start="6"><li>é‡å¯Apache2å¹¶æµ‹è¯•</li></ol><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart apache2</span><br></pre></td></tr></tbody></table></figure><p>å¦‚æœä½¿ç”¨äº‘æœåŠ¡å™¨ï¼Œéœ€è¦åœ¨å®‰å…¨ç»„ä¸­å¼€é€š443ç«¯å£ï¼Œæ‰èƒ½å¤Ÿæ­£å¸¸è®¿é—®æœåŠ¡ã€‚</p><ul><li>è®¿é—®æ–¹å¼<br>  åœ°å€ä¸º <code>http://your-server-ip/webdav</code></li><li>é¢„æœŸæ•ˆæœ<ul><li>ç”¨æˆ· <code>user1</code> åªèƒ½è®¿é—® <code>/webdav/user1</code>ã€‚</li><li>ç”¨æˆ· <code>user2</code> åªèƒ½è®¿é—® <code>/webdav/user2</code>ã€‚</li><li>æ‰€æœ‰äººå‡å¯è®¿é—® <code>/webdav/shared</code>ï¼Œæ— éœ€å¯†ç ï¼Œä½†åªæœ‰æŸ¥çœ‹æƒé™ï¼Œuser1å’Œuser2é€šè¿‡ç™»å½•éªŒè¯ï¼Œæœ‰æŸ¥çœ‹ã€ç¼–è¾‘å’Œåˆ é™¤æƒé™ã€‚</li></ul></li></ul><h1 id="Zotero-é…ç½®"><a href="#Zotero-é…ç½®" class="headerlink" title="Zotero é…ç½®"></a>Zotero é…ç½®</h1><p>zotero ä¸­çš„é…ç½®å¾ˆç®€å•ï¼Œåªè¦æ‰“å¼€è®¾ç½®-&gt;åŒæ­¥ï¼Œé™„ä»¶åŒæ­¥æ–¹å¼é€‰æ‹©â€WebDAVâ€å¡«å…¥åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®çš„ç½‘å€ã€ç”¨æˆ·åã€å¯†ç å³å¯ï¼Œå¡«å†™å¥½ä¹‹åé€šè¿‡ç‚¹å‡»â€éªŒè¯æœåŠ¡å™¨â€æŒ‰é’®ï¼Œå¯¹æœåŠ¡è¿›è¡ŒéªŒè¯ï¼ŒéªŒè¯é€šè¿‡å³è¡¨ç¤ºzoteroå·²ç»ä¸æœåŠ¡å™¨å»ºç«‹äº†è¿æ¥ã€‚ç„¶åå…³é—­è®¾ç½®ç•Œé¢ï¼Œç‚¹å‡»å³ä¸Šè§’çš„åŒæ­¥å›¾æ ‡å³å¯å°†æ–‡ä»¶é™„ä»¶åŒæ­¥åˆ°è¿œç¨‹æœåŠ¡å™¨ã€‚æ‰‹æœºç«¯å’Œipadç«¯çš„è®¾ç½®ç±»ä¼¼ï¼Œæ­¤å¤„ç•¥ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæœåŠ¡å™¨ipæ²¡æœ‰è·å¾—sslè¯ä¹¦ï¼Œæˆ–è€…ä½¿ç”¨è‡ªç­¾åè¯ä¹¦ï¼Œæ­¤å¤„å°†ä¼šæŠ¥é”™ï¼Œåœ¨ç”µè„‘ç«¯çš„è§£å†³æ–¹æ³•åœ¨<a href="https://www.zotero.org/support/kb/cert_override">è¿™é‡Œ</a>, æ‰‹æœºç«¯å’Œipadç«¯ç¬”è€…æš‚æœªæ‰¾åˆ°åˆé€‚çš„è§£å†³æ–¹æ³•ï¼Œç¬”è€…åœ¨é…ç½®çš„æ—¶å€™ï¼Œåœ¨è¿™é‡Œè€—è´¹äº†å¤§é‡å¿ƒåŠ›ï¼Œæœ€ç»ˆæ‰æ‰¾åˆ°äº† <a href="https://app.zerossl.com/dashboard">ZeroSSL</a> è¿™ä¸ªå…è´¹ä¸ºipåœ°å€é¢å‘sslè¯ä¹¦çš„æœºæ„ï¼Œå¹¶è·å¾—äº†sslè¯ä¹¦ã€‚</p><h1 id="Obsidian-é…ç½®"><a href="#Obsidian-é…ç½®" class="headerlink" title="Obsidian é…ç½®"></a>Obsidian é…ç½®</h1><p>obsidian é…ç½®è¿œç¨‹åŒæ­¥ï¼Œä¸»è¦ä½¿ç”¨äº†remotely-saveè¿™ä¸ªæ’ä»¶ï¼Œè¯¥æ’ä»¶çš„é…ç½®ä½¿ç”¨å¯ä»¥å‚è€ƒ<a href="https://forum-zh.obsidian.md/t/topic/5291">è¿™é‡Œ</a> å’Œ <a href="https://forum-zh.obsidian.md/t/topic/16390">è¿™é‡Œ</a>, ç»†èŠ‚è¿™é‡Œä¸èµ˜è¿°ã€‚</p><p>ç”±äºæˆ‘ä»¬åœ¨ä¸Šè¿°é…ç½®ä¸­ï¼Œä½¿ç”¨äº†htdigestç”Ÿæˆç”¨æˆ·å¯†ç ï¼Œå› æ­¤ï¼Œé‰´æƒç±»å‹è¦é€‰æ‹©digestï¼Œå¦åˆ™è¿æ¥å¤±è´¥ã€‚</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250126211142.png" alt="image-20250126211130501"></p><p>æ­¤å¤–ï¼Œåœ¨obsidianä¸­ä¸‹è½½æ’ä»¶éœ€è¦ç§‘å­¦ä¸Šç½‘ï¼Œç”±äºæ‰‹æœºæˆ–ipadä¸å…·å¤‡ç§‘å­¦ä¸Šç½‘çš„æ¡ä»¶ï¼Œè¿™ä½¿å¾—æ— æ³•åœ¨æ‰‹æœºæˆ–ipadä¸Šçš„obsidianä¸­å®‰è£…remotely-saveã€‚ä¸€ç§ç®€å•çš„è§£å†³æ–¹æ³•æ˜¯ï¼Œå°†æ‰‹æœºæˆ–ipadç«¯obsidianæ ¹ç›®å½•ä¸‹çš„.obsidianæ›¿æ¢æˆç”µè„‘ç«¯obsidianæ ¹ç›®å½•ä¸‹çš„.obsidianï¼Œé‡å¯ä¹‹åå°±ä¼šå‘ç°æ‰‹æœºç«¯çš„é…ç½®å’Œç”µè„‘ä¸Šä¸€æ¨¡ä¸€æ ·äº†ã€‚</p><h1 id="å…¶-ä»–"><a href="#å…¶-ä»–" class="headerlink" title="å…¶ ä»–"></a>å…¶ ä»–</h1><p>åªè¦èƒ½å¤Ÿæ”¯æŒWebDAVåè®®å¤‡ä»½æ–‡ä»¶çš„Appå‡å¯é€šè¿‡ç±»ä¼¼ä¸Šè¿°çš„è®¾ç½®ï¼Œå°†èµ„æ–™å¤‡ä»½åˆ°äº‘ç«¯æœåŠ¡å™¨ï¼Œå¹¶å®ç°å¤šç«¯å…±äº«è®¿é—®ã€‚</p><h1 id="æ€»-ç»“"><a href="#æ€»-ç»“" class="headerlink" title="æ€» ç»“"></a>æ€» ç»“</h1><p>æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†ï¼Œåœ¨ä¸€å°Ubuntu 22.04æœåŠ¡å™¨ä¸Šé€šè¿‡Apache2é…ç½®å¤šç”¨æˆ·çš„webdavæœåŠ¡ï¼Œç»™å‡ºäº†ç»è¿‡ç¬”è€…å®è·µè¿‡çš„è¯¦ç»†é…ç½®æ–‡ä»¶ï¼Œå¹¶æä¾›äº†è·å–å…è´¹ipåœ°å€sslè¯ä¹¦çš„æ–¹æ³•ã€‚åŒæ—¶ï¼Œç»™å‡ºäº†ç®€å•çš„zoteroå’Œobsidiané…ç½®æŒ‡å¯¼ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹²è´§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sentence-transformers sampler bug ä¹‹ set ä¸ä¸€å®šæ˜¯æ— åºçš„</title>
      <link href="/2025/01/07/sentence-transformers-sampler-bug-zhi-set-bu-yi-ding-shi-wu-xu-de/"/>
      <url>/2025/01/07/sentence-transformers-sampler-bug-zhi-set-bu-yi-ding-shi-wu-xu-de/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>é—®  é¢˜ï¼š æœ€è¿‘å‡†å¤‡è®­ç»ƒä¸€ä¸ªåŸºäºå¯¹æ¯”å­¦ä¹ çš„æ¨¡å‹ï¼Œ ç”¨ huggface çš„ trainer è®­ç»ƒå™¨ï¼Œåœ¨å®˜æ–¹ç»™çš„æºä»£ç ä¸­ï¼Œæœ‰ä¸€ä¸ªç°æˆçš„ sampler ç”¨äºæ•°æ®é‡‡æ ·ï¼Œæˆ‘éœ€è¦æ”¹å†™è¿™ä¸ª sampler ä»¥ä¿è¯èƒ½å¤Ÿç”¨äºè‡ªå·±çš„æ•°æ®ä¸Šã€‚</p><h1 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><p>æ”¹å®Œä¹‹åï¼Œå‘ç°é‡‡æ ·å‡ºæ¥çš„ indices ç«Ÿç„¶æ˜¯æœ‰åºçš„ï¼Œå®é™…åœ¨ä¸€ä¸ªæ‰¹æ¬¡ä¸­éœ€è¦æ‰“ä¹±æ ·æœ¬çš„é¡ºåºï¼Œä»”ç»†é˜…è¯»äº†å®˜æ–¹ç»™çš„æºç ï¼Œå‘ç°é—®é¢˜å‡ºåœ¨å¦‚ä¸‹å›¾æ‰€ç¤ºçš„ ç¬¬187è¡Œã€‚è¿™é‡Œå…ˆç”¨ torch.randpermç”Ÿæˆäº†ä¸€ä¸ªä¹±åºçš„ä¸‹æ ‡ï¼Œç„¶åè½¬æ¢ä¸ºsetã€‚æŒ‰ç†è¯´setæ˜¯æ— åºçš„ï¼Œè½¬æ¢ä¹‹åä¹Ÿæ˜¯æ— åºçš„ï¼Œçœ‹èµ·æ¥å¾ˆæ­£ç¡®ã€‚</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250107163459.png"></p><p>å½“æˆ‘åšäº†å°æµ‹è¯•åï¼Œå‘ç°å¹¶ä¸æ˜¯ï¼š</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250107163527.png"><br>ä»ä¸Šé¢çš„ç»“æœï¼Œå¯ä»¥çœ‹åˆ°ï¼štorch.randperm() ç”Ÿæˆçš„åºåˆ—æ˜¯ä¹±åºçš„ï¼Œä½†ç»è¿‡ set() å¤„ç†ä¹‹åä¼¼ä¹å˜æˆäº†æœ‰åºã€‚</p><p>æˆ‘ä»¬åˆåšäº†ä¸€ç»„æµ‹è¯•ï¼š<br><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250107163635.png"><br>å¯ä»¥çœ‹åˆ°ï¼šå½“listä¸­çš„å…ƒç´ å…¨éƒ¨æ˜¯æ•°å­—ï¼Œä¸”æ²¡æœ‰é‡å¤å€¼çš„æ—¶å€™ï¼Œset()å‡ºæ¥åçš„åºåˆ—å˜æˆäº†æœ‰åºï¼Œè€Œä¸­é—´çš„é‚£ä¸ªè¯•éªŒï¼Œåºåˆ—æ˜¯æ— åºçš„ã€‚</p><p>æ‰€ä»¥å¾ˆå¤špythonçš„æ•™ç¨‹è¯´setçš„æ— åºçš„ï¼Œè¿™ç‚¹å¹¶ä¸å…·ä½“ã€‚æ›´åŠ å…·ä½“çš„è¯´æ³•åº”è¯¥æ˜¯ï¼šsetæ˜¯ä¸€ä¸ªé›†åˆï¼Œå®ƒæ²¡æœ‰åºæƒ¯æ€§è´¨ï¼Œå¦‚æœä»»åŠ¡è¦æ±‚çš„æ•°æ®ç»“æ„éœ€è¦åŒ…å«å…ƒç´ çš„åºåˆ—ï¼Œåˆ™ä¸èƒ½é‡‡ç”¨setä½œä¸ºæ•°æ®ç»“æ„ã€‚ä¸Šé¢çš„bugå°±æ˜¯ä¸€ä¸ªé”™è¯¯ä¾‹å­ã€‚</p><h1 id="åç»­"><a href="#åç»­" class="headerlink" title="åç»­"></a>åç»­</h1><p>æˆ‘æ£€æŸ¥äº†ä¸€ä¸‹æ‰€ä½¿ç”¨çš„åº“æ˜¯æœ€æ–°ç‰ˆï¼Œæ‰¾åˆ°äº†å®˜æ–¹çš„githubåœ°å€ï¼Œå‡†å¤‡æäº¤issueã€‚æ‰å‘ç°å®˜æ–¹2ä¸ªæœˆå‰å°±å·²ç»åœ¨githubæºç ä¸­ä¿®æ”¹è¿™ä¸ª <a href="https://github.com/UKPLab/sentence-transformers/pull/3073">bug</a>ï¼Œä½†æ˜¯ç”±äºä¾èµ–åŸå› ï¼Œå¹¶æ²¡æœ‰æäº¤åˆ°ä»£ç ä»“åº“ã€‚ä¸‹é¢æ˜¯ä¿®æ”¹åçš„ç‰ˆæœ¬çš„å…³é”®ä»£ç (å…³é”®ä»£ç åœ¨190è¡Œ)ï¼š</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20250107164427.png"></p><p>å°ç»“ä¸€ä¸‹ï¼š è¿™æ˜¯ä¸€ä¸ªéå¸¸éšè”½çš„bugï¼Œå¦‚æœä¸æ˜¯å› ä¸ºæˆ‘è¦å®ç°è‡ªå·±çš„samplerï¼Œä¸€å®šä¸ä¼šå‘ç°ä¸åŒepochä¸­ç›¸åŒçš„batchçš„ä¸‹æ ‡æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥è¯´å½“æ¨¡å‹æ€§èƒ½ä¸å¤Ÿå¥½çš„æ—¶å€™ï¼Œå¯ä»¥å»æº¯æºä¸€ä¸‹ä»£ç ï¼Œçœ‹çœ‹å…·ä½“çš„ä»£ç å®ç°æ˜¯å¦å’Œè‡ªå·±æ‰€è®¾æƒ³çš„ä¸€è‡´ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ubuntuä¸Šå®‰è£…NIVIDIAé©±åŠ¨å’ŒCUDA_Tookit</title>
      <link href="/2023/09/12/ubuntu-shang-an-zhuang-nividia-qu-dong-he-cuda-tookit/"/>
      <url>/2023/09/12/ubuntu-shang-an-zhuang-nividia-qu-dong-he-cuda-tookit/</url>
      
        <content type="html"><![CDATA[<p>æ¯ä¸€æ¬¡å®‰è£…NIVIDIAé©±åŠ¨æˆ–CUDA Tookitæ—¶ï¼Œéƒ½è¦ç»è¿‡ä¸€ç•ªæŠ˜è…¾ï¼Œæ‰èƒ½å¤Ÿå®‰è£…æˆåŠŸï¼Œè¿™é‡ŒæŠŠè¿‡ç¨‹è®°å½•ä¸€ä¸‹ï¼Œä»¥ä¾¿ä»¥åå¯ä»¥å‚è€ƒã€‚</p><p>æœ¬æ¬¡å®‰è£…é‡åˆ°çš„æœ€å¤§é—®é¢˜æ˜¯ï¼špytorchæ‰€èƒ½æ”¯æŒçš„æœ€é«˜cudaç‰ˆæœ¬ä¸º11.8ï¼Œè€Œå®‰è£…åçš„cudaä¸ºæœ€æ–°12.2ç‰ˆæœ¬ï¼Œpytorchæ²¡æ³•è¯†åˆ«cudaã€‚<br>å¯¼è‡´è¿™ä¸€é—®é¢˜çš„ä¸»è¦åŸå› åœ¨äºä¸¤ç‚¹ï¼š</p><ol><li>å®‰è£…çš„NIVIDIAé©±åŠ¨ç‰ˆæœ¬è¿‡é«˜ï¼Œå¯¼è‡´CUDA Tookitç‰ˆæœ¬ä¹Ÿè¿‡é«˜ï¼Œæ— æ³•é™çº§</li><li>ä½¿ç”¨ç½‘ç»œæ–¹å¼å®‰è£…CUDA Tookitï¼Œå®‰è£…ä¹‹åå¾—åˆ°çš„æ˜¯æœ€æ–°ç‰ˆçš„CUDA Tookitï¼Œä¸æ˜¯æˆ‘æƒ³è¦çš„11.8ç‰ˆæœ¬</li></ol><p>æ¥ä¸‹æ¥æ˜¯å®‰è£…è¿‡ç¨‹ï¼š</p><ul><li><p>åˆ é™¤å·²å®‰è£…çš„NIVIDIAé©±åŠ¨æˆ–CUDA Tookit</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> /etc/apt/sources.list.d/cuda*</span><br><span class="line"><span class="built_in">sudo</span> apt-get --purge remove <span class="string">"*cublas*"</span> <span class="string">"cuda*"</span> <span class="string">"nsight*"</span> </span><br><span class="line"><span class="built_in">sudo</span> apt-get --purge remove <span class="string">"*nvidia*"</span></span><br><span class="line"><span class="built_in">sudo</span> apt-get autoremove</span><br><span class="line"><span class="built_in">sudo</span> apt-get autoclean</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> -rf /usr/local/cuda*</span><br></pre></td></tr></tbody></table></figure></li><li><p>æŸ¥çœ‹ubuntuç³»ç»Ÿç‰ˆæœ¬å’Œé©±åŠ¨å™¨å‹å·ï¼Œå¹¶ä¸‹è½½å¯¹åº”é©±åŠ¨å®‰è£…</p>  <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/os-release <span class="comment"># æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬</span></span><br><span class="line"></span><br><span class="line">lspci | grep VGA    <span class="comment"># æŸ¥çœ‹æ˜¾å¡å‹å·</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>  æŸ¥çœ‹å¥½ç‰ˆæœ¬ä¹‹åï¼Œåœ¨<a href="https://www.nvidia.com/Download/Find.aspx?lang=en-us">è¿™é‡Œ</a>ä¸‹è½½å¯¹åº”çš„é©±åŠ¨ç¨‹åºå¹¶å®‰è£…ã€‚</p><p>  æœ¬æ¬¡å®‰è£…ï¼ŒæœåŠ¡å™¨çš„ç‰ˆæœ¬ä¸ºUbuntu 22.04.2 LTSï¼Œæ˜¾å¡å‹å·ä¸ºGeForce RTX 3090.</p></li><li><p>æŸ¥çœ‹é©±åŠ¨å®‰è£…ç»“æœ</p><p>  é©±åŠ¨ç¨‹åºå®‰è£…å¥½ä¹‹åï¼Œä½¿ç”¨â€nividia smiâ€å‘½ä»¤æŸ¥çœ‹å®‰è£…ç»“æœï¼Œè¿™é‡Œå¦‚æœæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œé‡å¯ç³»ç»Ÿå°±å¥½äº†ã€‚</p><p>  éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œå‡ºæ¥çš„cudaçš„ç‰ˆæœ¬å·ä¸èƒ½å¤§äºpytorchæ‰€èƒ½æ”¯æŒçš„æœ€å¤§cudaç‰ˆæœ¬å·ã€‚</p><p>  æ¯”å¦‚è¿™æ¬¡å®‰è£…çš„æ—¶å€™ï¼Œpytorchæ‰€èƒ½æ”¯æŒçš„æœ€å¤§cudaç‰ˆæœ¬å·ä¸º11.8ï¼Œè€Œæˆ‘å®‰è£…åï¼Œè¿™é‡Œæ˜¾ç¤ºçš„ç‰ˆæœ¬å·æ˜¯12.2ï¼Œæœ€ç»ˆå¯¼è‡´æ— è®ºå¦‚ä½•pytorchéƒ½ä¸èƒ½è¯†åˆ«cudaã€‚åŸå› å°±æ˜¯å› ä¸ºè¿™é‡Œå®‰è£…çš„é©±åŠ¨å¤ªæ–°ï¼Œnividiaè®¾ç½®æˆäº†æœ€æ–°çš„cuda toolkit,åé¢å®‰è£…cuda toolkitè½¯ä»¶åŒ…çš„æ—¶å€™ä¸èƒ½é™çº§ï¼Œå¯¼è‡´pytorchæ²¡æ³•è¯†åˆ«ã€‚</p><p>  åœ¨æœ¬æ¬¡å®‰è£…è¿‡ç¨‹ä¸­ï¼Œæœ€ç»ˆæˆåŠŸå®‰è£…çš„é©±åŠ¨å™¨ç‰ˆæœ¬ä¸º<a href="https://www.nvidia.com/download/driverResults.aspx/194569/en-us/">510</a>ï¼Œå®‰è£…æˆåŠŸä¹‹åæŸ¥è¯¢åˆ°çš„cudaç‰ˆæœ¬ä¸º11.04ï¼Œ ç”±äºæœ€æ–°çš„pytorchæ”¯æŒçš„cudaç‰ˆæœ¬ä¸º11.8ï¼Œæ‰€ä»¥åé¢æˆ‘ä»¬è¿˜éœ€è¦å®‰è£…11.8ç‰ˆæœ¬çš„cuda toolkitï¼Œæ‰èƒ½è®©pytorchä½¿ç”¨cudaã€‚</p></li><li><p>å®‰è£…cuda toolkit</p><p>  åœ¨<a href="https://developer.nvidia.com/cuda-toolkit-archive">è¿™é‡Œ</a>æ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬çš„cuda toolkitï¼Œç‚¹è¿›å»ä¹‹åï¼Œé€‰æ‹©æ“ä½œç³»ç»Ÿã€æ“ä½œç³»ç»Ÿç‰ˆæœ¬ç­‰ä¿¡æ¯ï¼Œä¸‹è½½ç±»å‹é€‰æ‹©ç¬¬ä¸‰ä¸ªï¼Œå®‰è£…åŒ…ä¸‹è½½å¥½ä¹‹åï¼Œæ ¹æ®æç¤ºå®‰è£…å°±å¥½äº†ã€‚</p><p>  å®Œæˆä¹‹åï¼Œå†ç”¨â€nividia smiâ€æŸ¥è¯¢cudaä¿¡æ¯ï¼Œè¿™æ¬¡ç‰ˆæœ¬åº”è¯¥å°±æ˜¯pytorchæ”¯æŒçš„äº†ã€‚</p><p>  è¿™é‡Œæœ‰ä¸ªç–‘é—®ï¼Œè²Œä¼¼ä»¥æœ¬æ¬¡åŒ…æ–¹å¼ï¼Œå®‰è£…cuda toolkitçš„æ—¶å€™å¯ä»¥å‹¾é€‰å®‰è£…nividiaé©±åŠ¨ç¨‹åºï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥çœå»å‰é¢å®‰è£…é©±åŠ¨è¿™ä¸€æ­¥ã€‚</p><p>  è¿™é‡Œé‡åˆ°çš„<strong>å¤§å‘</strong>æ˜¯ï¼Œä¸‹è½½ç±»å‹ä¸€å®šè¦é€‰æ‹©ç¬¬ä¸‰ä¸ªâ€runfile(local)â€,ä¹‹å‰å¥½å‡ æ¬¡é€‰æ‹©ç¬¬äºŒä¸ªâ€deb(network)â€ï¼Œå®‰è£…å®Œï¼Œä¸€æŸ¥è¯¢cudaä¿¡æ¯ï¼Œå¾—åˆ°çš„éƒ½æ˜¯12.2çš„ç‰ˆæœ¬ï¼Œ ä½†æ˜¯pytorchä¸æ”¯æŒ12.2çš„cudaï¼Œæ‰€ä»¥æ²¡æ³•ç”¨ã€‚</p><p>  æœ¬æ¬¡å®‰è£…è¿‡ç¨‹ä¸­ï¼Œä¸‹è½½çš„æ˜¯11.8ç‰ˆæœ¬çš„cuda toolkit,ä¸‹è½½å’Œå®‰è£…è„šæœ¬å¦‚ä¸‹</p>  <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">wget https://developer.download.nvidia.com/compute/cuda/11.8.0/local_installers/cuda_11.8.0_520.61.05_linux.run</span><br><span class="line"><span class="built_in">sudo</span> sh cuda_11.8.0_520.61.05_linux.run</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></li><li><p>å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„pytorch</p><p>  åœ¨<a href="https://pytorch.org/get-started/locally/">è¿™é‡Œ</a>æ‰¾åˆ°å¯¹åº”çš„pytorchç‰ˆæœ¬ï¼Œç„¶åå®‰è£…å°±å¥½äº†ã€‚</p></li><li><p>æœ€åï¼ŒæŸ¥çœ‹cudaæ˜¯å¦èƒ½å¤Ÿè¢«pytorchè¯†åˆ«</p>  <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import torch</span><br><span class="line"><span class="built_in">print</span>(torch.cuda.is_available())</span><br></pre></td></tr></tbody></table></figure><p>  å¦‚æœæ˜¾ç¤ºä¸ºtureï¼Œåˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> çˆ¬å‘æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NIVIDIAé©±åŠ¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨macä¸Šä½¿ç”¨pybind11å®ç°c++ä¸pythonäº’é€šçš„demo</title>
      <link href="/2023/07/23/zai-mac-shang-shi-yong-pybind11-shi-xian-c-yu-python-hu-tong-de-demo/"/>
      <url>/2023/07/23/zai-mac-shang-shi-yong-pybind11-shi-xian-c-yu-python-hu-tong-de-demo/</url>
      
        <content type="html"><![CDATA[<h4 id="åœ¨macä¸Šä½¿ç”¨pybind11å®ç°c-ä¸pythonäº’é€šçš„demo"><a href="#åœ¨macä¸Šä½¿ç”¨pybind11å®ç°c-ä¸pythonäº’é€šçš„demo" class="headerlink" title="åœ¨macä¸Šä½¿ç”¨pybind11å®ç°c++ä¸pythonäº’é€šçš„demo"></a>åœ¨macä¸Šä½¿ç”¨pybind11å®ç°c++ä¸pythonäº’é€šçš„demo</h4><h5 id="0-é—®é¢˜æè¿°"><a href="#0-é—®é¢˜æè¿°" class="headerlink" title="0. é—®é¢˜æè¿°"></a>0. é—®é¢˜æè¿°</h5><p>ä¸‹é¢çš„pythonä»£ç å®šä¹‰äº†ä¸€ä¸ªç±»ï¼Œç±»ä¸­æœ‰ä¸€ä¸ªåä¸ºanalyze_dataçš„å‡½æ•°ï¼Œå…¶é‡‡ç”¨é€’å½’çš„æ–¹æ³•è§£æjsonæ ¼å¼çš„dataæ•°æ®ï¼Œç”±äºå¤„ç†é€Ÿåº¦è¾¾ä¸åˆ°è¦æ±‚ï¼Œæˆ‘ä»¬å¸Œæœ›ç”¨c++æ”¹å†™è¯¥ç±»ï¼Œå¹¶å°è£…æˆå¯ä¾›pythonä»£ç è°ƒç”¨çš„åº“ï¼Œä»¥è¾¾åˆ°åŠ é€Ÿçš„æ•ˆæœã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&nbsp;<span class="comment"># å¾…è§£æçš„æ•°æ®deom</span></span><br><span class="line">&nbsp;data_demo = {<span class="string">"resbody"</span>: {<span class="string">"data"</span>: {<span class="string">"name"</span>: <span class="string">"John"</span>, <span class="string">"age"</span>: <span class="number">30</span>, <span class="string">"address"</span>: {<span class="string">"city"</span>: <span class="string">"New York"</span>, <span class="string">"zipcode"</span>: <span class="number">10001</span>}}}}</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;<span class="comment"># éœ€è¦è½¬æ¢ä¸ºc++ä»£ç çš„ç±»</span></span><br><span class="line">&nbsp;<span class="keyword">class</span> <span class="title class_">AnalyzeDataUtil</span>:</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp; &nbsp; &nbsp;<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, datas</span>):</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="variable language_">self</span>.datas = datas</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp; &nbsp; &nbsp;<span class="keyword">def</span> <span class="title function_">analyze_data</span>(<span class="params">self, data, result=<span class="string">"resbody"</span>, depth=<span class="number">0</span></span>):</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">if</span> depth == <span class="number">5</span>:</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">return</span></span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">if</span> <span class="built_in">isinstance</span>(data, <span class="built_in">dict</span>):</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">for</span> k, v <span class="keyword">in</span> data.items():</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="variable language_">self</span>.analyze_data(v, result + <span class="string">"$%s"</span> % <span class="built_in">str</span>(k), depth+<span class="number">1</span>)</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">if</span> <span class="built_in">isinstance</span>(data, (<span class="built_in">list</span>, <span class="built_in">tuple</span>)):</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(data)):</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="variable language_">self</span>.analyze_data(data[i], result, depth+<span class="number">1</span>)</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">else</span>:</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="variable language_">self</span>.datas[result] = <span class="built_in">str</span>(data)</span><br></pre></td></tr></tbody></table></figure><p><strong>é—®é¢˜åˆ†æ</strong>ï¼š</p><p>æ ¹æ®é—®é¢˜æè¿°ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬è¦ç”¨c++å¯¹pythonå®šä¹‰çš„ç±»è¿›è¡Œæ”¹å†™ï¼Œç”±äºä¼ å…¥çš„å˜é‡dataç±»å‹ä¸å›ºå®šï¼Œä¸”æ¶‰åŠåˆ°ç±»å‹åˆ¤æ–­ï¼Œä¸€ç§æ¯”è¾ƒç®€å•çš„æ–¹å¼æ˜¯é‡‡ç”¨pybind11ï¼Œå®ƒé’ˆå¯¹pythonçš„å¸¸è§æ•°æ®ç±»å‹ï¼Œéƒ½æœ‰å¯¹åº”çš„c++å®ç°ç‰ˆæœ¬ï¼Œä»£ç æ”¹å†™å·¥ä½œå¤§å¤§å‡å°‘ã€‚å…¶æ¬¡ï¼Œç±»æ”¹å†™å¥½ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦æ‰“é€šc++ä¸pythonä¹‹é—´çš„éš”é˜‚ï¼Œä½¿ç”¨pybind11å®ç°èµ·æ¥ä¹Ÿéå¸¸æ–¹ä¾¿ï¼Œåªéœ€è¦åœ¨c++æºç ä¸­æ·»åŠ å°‘é‡ä»£ç å³å¯ã€‚æœ€åï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°†c++æºç ç¼–è¯‘æˆå…±äº«åº“ï¼Œä¾›ä¸‹æ¸¸ä»£ç è°ƒç”¨ã€‚</p><h5 id="1-å®‰è£…å¿…è¦çš„å·¥å…·å’ŒåŒ…"><a href="#1-å®‰è£…å¿…è¦çš„å·¥å…·å’ŒåŒ…" class="headerlink" title="1. å®‰è£…å¿…è¦çš„å·¥å…·å’ŒåŒ…"></a>1. å®‰è£…å¿…è¦çš„å·¥å…·å’ŒåŒ…</h5><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&nbsp;brew install cmake</span><br><span class="line">&nbsp;conda install pybind11</span><br></pre></td></tr></tbody></table></figure><p>æ³¨æ„ï¼šå®‰è£…pybind11çš„æ—¶å€™è¦ç”¨condaæ¥å®‰è£…ï¼Œç”¨pipæ–¹å¼å®‰è£…ï¼Œç¼–è¯‘çš„æ—¶å€™ä¼šæŠ¥è·¯å¾„é”™è¯¯ã€‚</p><h5 id="2-åˆ›å»ºc-æºæ–‡ä»¶"><a href="#2-åˆ›å»ºc-æºæ–‡ä»¶" class="headerlink" title="2. åˆ›å»ºc++æºæ–‡ä»¶"></a>2. åˆ›å»ºc++æºæ–‡ä»¶</h5><p>ä¸‹é¢çš„ä»£ç å®ç°äº†AnalyzeDataUtilç±»çš„c++ç‰ˆæœ¬ï¼Œç¬¬54è¡Œåˆ°ç¬¬60è¡Œçš„ä½œç”¨æ˜¯æ‰“é€šc++ä¸pythonä¹‹é—´çš„éš”é˜‚ã€‚</p><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&nbsp;<span class="comment">//path: analyze_data_util/analyze_data_util.cpp</span></span><br><span class="line">&nbsp;<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;pybind11/pybind11.h&gt;</span></span></span><br><span class="line">&nbsp;<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;pybind11/stl.h&gt;</span></span></span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;<span class="keyword">namespace</span> py = pybind11;</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;<span class="keyword">struct</span> <span class="title class_">AnalyzeDataUtil</span></span><br><span class="line">&nbsp;{</span><br><span class="line">&nbsp;<span class="keyword">public</span>:</span><br><span class="line">&nbsp; &nbsp; &nbsp;<span class="built_in">AnalyzeDataUtil</span>(py::dict datas) : <span class="built_in">datas</span>(datas) {}</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp; &nbsp; &nbsp;<span class="function"><span class="type">void</span> <span class="title">analyze_data</span><span class="params">(<span class="type">const</span> py::object &amp;data, std::string result = <span class="string">""</span>, <span class="type">int</span> depth = <span class="number">0</span>)</span></span></span><br><span class="line"><span class="function">&nbsp; &nbsp;  </span>{</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">if</span> (depth == <span class="number">5</span>)</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">return</span>;</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">if</span> (py::<span class="built_in">isinstance</span>&lt;py::dict&gt;(data))</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp;  {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;py::dict dict_data = py::<span class="built_in">cast</span>&lt;py::dict&gt;(data);</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span> &amp;item : dict_data)</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">auto</span> key = py::<span class="built_in">reinterpret_borrow</span>&lt;py::object&gt;(item.first);</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">auto</span> value = py::<span class="built_in">reinterpret_borrow</span>&lt;py::object&gt;(item.second);</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="built_in">analyze_data</span>(value, result + <span class="string">"$"</span> + py::<span class="built_in">str</span>(key).<span class="built_in">cast</span>&lt;std::string&gt;(), depth + <span class="number">1</span>);</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp;  }</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">if</span> (py::<span class="built_in">isinstance</span>&lt;py::list&gt;(data) || py::<span class="built_in">isinstance</span>&lt;py::tuple&gt;(data))</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp;  {</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;py::list list_data = py::<span class="built_in">cast</span>&lt;py::list&gt;(data);</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span> &amp;item : list_data)</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="built_in">analyze_data</span>(py::<span class="built_in">cast</span>&lt;py::object&gt;(item), result, depth + <span class="number">1</span>);</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp;  }</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">else</span></span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp;  {</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;datas[py::<span class="built_in">str</span>(result)] = py::<span class="built_in">str</span>(data).<span class="built_in">cast</span>&lt;std::string&gt;();</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp;  }</span><br><span class="line">&nbsp; &nbsp;  }</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp; &nbsp; &nbsp;<span class="function">py::dict <span class="title">get_datas</span><span class="params">()</span></span></span><br><span class="line"><span class="function">&nbsp; &nbsp;  </span>{</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">return</span> datas;</span><br><span class="line">&nbsp; &nbsp;  }</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;<span class="keyword">private</span>:</span><br><span class="line">&nbsp; &nbsp; &nbsp;py::dict datas;</span><br><span class="line">&nbsp;};</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;<span class="built_in">PYBIND11_MODULE</span>(analyze_data_util, m)</span><br><span class="line">&nbsp;{</span><br><span class="line">&nbsp; &nbsp; &nbsp;py::<span class="built_in">class_</span>&lt;AnalyzeDataUtil&gt;(m, <span class="string">"AnalyzeDataUtil"</span>)</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp;  .<span class="built_in">def</span>(py::<span class="built_in">init</span>&lt;py::dict&gt;())</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp;  .<span class="built_in">def</span>(<span class="string">"analyze_data"</span>, &amp;AnalyzeDataUtil::analyze_data)</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp;  .<span class="built_in">def</span>(<span class="string">"get_datas"</span>, &amp;AnalyzeDataUtil::get_datas);</span><br><span class="line">&nbsp;}</span><br><span class="line">&nbsp;</span><br></pre></td></tr></tbody></table></figure><h5 id="4-åˆ›å»ºCMakeLists-txtæ–‡ä»¶ç¼–è¯‘C-æ¨¡å—"><a href="#4-åˆ›å»ºCMakeLists-txtæ–‡ä»¶ç¼–è¯‘C-æ¨¡å—" class="headerlink" title="4. åˆ›å»ºCMakeLists.txtæ–‡ä»¶ç¼–è¯‘C++æ¨¡å—"></a>4. åˆ›å»ºCMakeLists.txtæ–‡ä»¶ç¼–è¯‘C++æ¨¡å—</h5><p>åˆ›å»ºæ–‡ä»¶analyze_data_util/CMakeLists.txtï¼Œ ç„¶åå°†ä¸‹é¢çš„è„šæœ¬æ‹·è´åˆ°æ–‡ä»¶ä¸­ã€‚</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&nbsp;cmake_minimum_required(VERSION 3.12)</span><br><span class="line"></span><br><span class="line">&nbsp;project(analyze_data_util LANGUAGES CXX)</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;<span class="built_in">set</span>(CMAKE_CXX_STANDARD 14)</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;find_package(pybind11 REQUIRED)</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;pybind11_add_module(analyze_data_util analyze_data_util.cpp)</span><br></pre></td></tr></tbody></table></figure><h5 id="5-ç¼–è¯‘C-æ¨¡å—"><a href="#5-ç¼–è¯‘C-æ¨¡å—" class="headerlink" title="5. ç¼–è¯‘C++æ¨¡å—"></a>5. ç¼–è¯‘C++æ¨¡å—</h5><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&nbsp;<span class="built_in">mkdir</span> build</span><br><span class="line">&nbsp;<span class="built_in">cd</span> build</span><br><span class="line">&nbsp;cmake ..</span><br><span class="line">&nbsp;cmake --build .</span><br></pre></td></tr></tbody></table></figure><p>å°†å·¥ä½œç›®å½•åˆ‡æ¢åˆ°analyze_data_utilä¸­ï¼Œåˆ†åˆ«æ‰§è¡Œä¸Šé¢çš„ä»£ç ã€‚å°†ä¼šåˆ›å»ºå…±äº«åº“æ–‡ä»¶ï¼Œåœ¨Macæˆ–Linuxä¸­åä¸ºï¼šanalyze_data_util.soï¼Œåœ¨Windowsä¸­ä¸ºanalyze_data_util.pyd</p><h5 id="6-æ„é€ æ¥å£"><a href="#6-æ„é€ æ¥å£" class="headerlink" title="6. æ„é€ æ¥å£"></a>6. æ„é€ æ¥å£</h5><p>å› ä¸ºåœ¨c++ä¸­ä¸å…è®¸ç›´æ¥è®¿é—®ç§æœ‰æˆå‘˜ï¼Œå› æ­¤æˆ‘ä»¬å®ç°äº†get_datas()æ–¹æ³•æ¥é—´æ¥è®¿é—®æˆå‘˜ï¼Œä½†æ˜¯è¿™ä¸ç¬¦åˆpythonçš„ä½¿ç”¨ä¹ æƒ¯ï¼Œå› æ­¤æˆ‘ä»¬æ„é€ ä¸€ä¸ªåŒåçš„AnalyzeDataUtilç±»å°†è¿™ä¸€ç»†èŠ‚éšè—èµ·æ¥ã€‚ä¹Ÿå¯ä»¥çœå»è¯¥æ­¥å¥ï¼Œä½†å¿…é¡»é€šè¿‡get_datas()å‡½æ•°è®¿é—®è§£æåçš„æ•°æ®ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&nbsp;<span class="comment"># path: demo/analyze_data_tool.py</span></span><br><span class="line">&nbsp;<span class="keyword">import</span> analyze_data_util</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;<span class="comment"># Wrapper for AnalyzeDataUtil class</span></span><br><span class="line">&nbsp;<span class="keyword">class</span> <span class="title class_">AnalyzeDataUtil</span>:</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp; &nbsp; &nbsp;<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, datas</span>):</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="variable language_">self</span>.analyzer = analyze_data_util.AnalyzeDataUtil(datas)</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="variable language_">self</span>.datas = datas</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp; &nbsp; &nbsp;<span class="keyword">def</span> <span class="title function_">analyze_data</span>(<span class="params">self, data, result=<span class="string">"resbody"</span>, depth=<span class="number">0</span></span>): &nbsp; </span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="variable language_">self</span>.analyzer.analyze_data(data, result, depth)</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="variable language_">self</span>.datas = <span class="variable language_">self</span>.analyzer.get_datas()</span><br></pre></td></tr></tbody></table></figure><h5 id="7-åœ¨pythonä¸­ä½¿ç”¨C-æ¨¡å—"><a href="#7-åœ¨pythonä¸­ä½¿ç”¨C-æ¨¡å—" class="headerlink" title="7. åœ¨pythonä¸­ä½¿ç”¨C++æ¨¡å—"></a>7. åœ¨pythonä¸­ä½¿ç”¨C++æ¨¡å—</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&nbsp;<span class="comment"># path: demo/test.py</span></span><br><span class="line">&nbsp;<span class="keyword">from</span> analyze_data_tool <span class="keyword">import</span> AnalyzeDataUtil</span><br><span class="line">&nbsp;<span class="keyword">import</span> json</span><br><span class="line">&nbsp;<span class="keyword">import</span> time</span><br><span class="line">&nbsp;<span class="keyword">import</span> pprint</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;<span class="built_in">print</span>(<span class="string">'ç¤ºä¾‹ç”¨æ³•,c++ç‰ˆæœ¬:'</span>)</span><br><span class="line">&nbsp;json_data = <span class="string">'{"resbody": {"data": {"name": "John", "age": 30, "address": {"city": "New York", "zipcode": 10001}}}}'</span></span><br><span class="line">&nbsp;data_dict = json.loads(json_data)</span><br><span class="line">&nbsp;time1 = time.time()</span><br><span class="line">&nbsp;analyzer2 = AnalyzeDataUtil({})</span><br><span class="line">&nbsp;analyzer2.analyze_data(data_dict, <span class="string">"resbody"</span>, <span class="number">0</span>)</span><br><span class="line">&nbsp;time2 = time.time()</span><br><span class="line">&nbsp;all_keys1 = analyzer2.datas.keys()</span><br><span class="line">&nbsp;keys_list1 = <span class="string">' '</span>.join(<span class="built_in">list</span>(all_keys1))</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;result = time2 - time1</span><br><span class="line">&nbsp;formatted_result = <span class="string">f"<span class="subst">{result:<span class="number">.10</span>f}</span>"</span></span><br><span class="line">&nbsp;pp.pprint(all_keys1)</span><br><span class="line">&nbsp;<span class="built_in">print</span>(formatted_result)</span><br></pre></td></tr></tbody></table></figure><p>åˆ›å»ºä»¥ä¸Šä»£ç ï¼Œç„¶åå°†ç”Ÿæˆçš„.so or .pydæ–‡ä»¶æ‹·è´åˆ°demo/ç›®å½•ä¸‹ï¼Œè¿è¡Œpython test.pyã€‚</p><h5 id="8-åè®°"><a href="#8-åè®°" class="headerlink" title="8. åè®°"></a>8. åè®°</h5><p>è™½ç„¶ä¸Šé¢çš„è§£å†³æ–¹æ¡ˆå®ç°äº†c++ä¸pythonçš„äº’é€šï¼Œä½†æˆ‘åœ¨å¯¹å•ä¸ªæ–‡ä»¶è¿›è¡Œæµ‹è¯•æ¯”è¾ƒçš„æ—¶å€™ï¼Œå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20230723015325.png" alt="image-20230723015325241"></p><p>ä»ç»“æœä¸­æˆ‘ä»¬å‘ç°ï¼Œå¯¹äºç›¸åŒçš„jsonæ–‡ä»¶ï¼Œc++ç‰ˆæœ¬ä¸pythonç‰ˆæœ¬å¤„ç†ç»“æœæ˜¯ä¸€è‡´çš„ï¼Œä½†å¯¹äºé€Ÿåº¦çš„æå‡å¹¶ä¸ç†æƒ³ï¼Œå¯¹äºå•ä¸ªæ–‡ä»¶çš„å¤„ç†c++çš„ç‰ˆæœ¬ç”šè‡³æ¯”pythonçš„ä½ï¼Œå¯èƒ½æ˜¯å› ä¸ºpythonè°ƒç”¨c++åŒ…çš„æ—¶å€™å ç”¨äº†æ›´å¤šçš„æ—¶é—´ï¼Œå› æ­¤ï¼Œå¤„ç†é€Ÿåº¦çš„æå‡ä½“ç°ä¸å‡ºæ¥ã€‚é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬è‡³å°‘å¯ä»¥ä»ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢è¿›è¡Œè€ƒè™‘ï¼šé¦–å…ˆï¼Œä»ç®—æ³•å±‚é¢ä¸Šæ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥å°†é€’å½’æ”¹ä¸ºåŠ¨æ€è§„åˆ’ï¼Œæˆ–è€…å¯¹é€’å½’è¿‡ç¨‹è¿›è¡Œå‰ªæå¤„ç†ï¼Œå› ä¸ºé€’å½’è™½ç„¶å¥½ç”¨ï¼Œä½†æ˜¯æ•ˆç‡å¾€å¾€ä¸é«˜ï¼Œå®ƒé‡å¤çš„è¿‡ç¨‹å®æ¯”è¾ƒå¤šã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°è¯•ä½¿ç”¨ä¸€äº›èƒ½å¤Ÿå¿«é€Ÿè§£æjsonæ ¼å¼çš„ä¼˜ç§€åº“(æ¯”å¦‚<a href="https://rapidjson.org/zh-cn/">RapidJSON</a>)ï¼Œè¿™æˆ–è®¸ä¼šæ¯”ä½¿ç”¨æˆ‘ä»¬è‡ªå·±å†™çš„ç²—ç³™ä»£ç æ•ˆç‡æ¥çš„æ›´å¿«ã€‚</p><p>æœ€åï¼Œè™½ç„¶ä¸Šé¢è®²è§£ä¸­æ¶‰åŠåˆ°çš„æ¯ä¸ªè„šæœ¬ï¼Œæˆ‘éƒ½ç»™å‡ºäº†å®ƒæ‰€åœ¨çš„æ–‡ä»¶åå’Œä½ç½®ï¼Œä½†æ˜¯å¹¶ä¸ç›´è§‚ï¼Œä¸ºäº†æ–¹ä¾¿å¤§å®¶æ›´ç›´è§‚çš„ç†è§£(æˆ‘è·‘åˆ«äººåšå®¢ä»£ç çš„æ—¶å€™ï¼Œç»å¸¸å› ä¸ºä½ç½®æ”¾é”™ï¼Œæµªè´¹æ—¶é—´å»è°ƒè¯•)ï¼Œæˆ‘æŠŠå·¥ç¨‹ç›®å½•ç²˜è´´å‡ºæ¥ï¼š</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20230723022224.png" alt="image-20230723022223900"></p><p>ä»¥ä¸Šå°±æ˜¯ä½¿ç”¨pybind11å®ç°c++ä¸pythonäº’é€šçš„demoå•¦ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åˆ°ä½ ï¼Œæƒ³è¦äº†è§£æ›´å¤šï¼Œå¯ä»¥å»çœ‹ä¸‹é¢çš„å®˜æ–¹æ–‡æ¡£å–”ã€‚</p><ul><li><strong>å‚è€ƒèµ„æ–™</strong><ul><li><strong>pybind11æ–‡æ¡£ï¼š</strong><a href="https://pybind11.readthedocs.io/en/stable/">https://pybind11.readthedocs.io/en/stable/</a></li><li><strong>pybind11ä¸­æ–‡æ–‡æ¡£ï¼š</strong><a href="https://github.com/charlotteLive/pybind11-Chinese-docs">https://github.com/charlotteLive/pybind11-Chinese-docs</a></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python_c++_äº’é€š </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Macç³»ç»Ÿåˆ¶ä½œwin10å¯åŠ¨Uç›˜</title>
      <link href="/2022/09/07/mac-xi-tong-zhi-zuo-win10-qi-dong-u-pan/"/>
      <url>/2022/09/07/mac-xi-tong-zhi-zuo-win10-qi-dong-u-pan/</url>
      
        <content type="html"><![CDATA[<h5 id="Macç³»ç»Ÿä¸‹åˆ¶ä½œwin10å®‰è£…ç›˜"><a href="#Macç³»ç»Ÿä¸‹åˆ¶ä½œwin10å®‰è£…ç›˜" class="headerlink" title="Macç³»ç»Ÿä¸‹åˆ¶ä½œwin10å®‰è£…ç›˜"></a>Macç³»ç»Ÿä¸‹åˆ¶ä½œwin10å®‰è£…ç›˜</h5><h6 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h6><ul><li><p>ä¸€å°macç”µè„‘</p></li><li><p>ä¸€ä¸ªå¤§äº8Gçš„Uç›˜</p></li><li><p>win10é•œåƒæ–‡ä»¶</p></li><li><p>Boot Camp ISO Converterè½¯ä»¶ï¼ˆè¿™ä¸ªè½¯ä»¶å¯ä»¥è§£å†³FAT32æ ¼å¼çš„uç›˜å•ä¸ªæ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡4GBçš„é—®é¢˜ï¼‰ï¼Œä¸‹è½½<a href="https://macdownload.informer.com/boot-camp-iso-converter/download/">é“¾æ¥</a></p></li></ul><h6 id="åˆ¶ä½œæ­¥éª¤"><a href="#åˆ¶ä½œæ­¥éª¤" class="headerlink" title="åˆ¶ä½œæ­¥éª¤"></a>åˆ¶ä½œæ­¥éª¤</h6><ul><li><p>æ‰“å¼€Boot Camp ISO Converterè½¯ä»¶å¯¹ä¸‹è½½å¥½çš„isoé•œåƒæ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œç›®çš„æ˜¯å°†é•œåƒæ–‡ä»¶insta.winåˆ†é…ä¸ºå¤§å°å°äº4GBçš„æ–‡ä»¶</p></li><li><p>åœ¨æ’å…¥Uç›˜çš„çŠ¶æ€ä¸‹ï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼š</p>  <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diskutil list</span><br></pre></td></tr></tbody></table></figure><p>  æ‰¾åˆ°Uç›˜å¯¹åº”çš„ç›˜ç¬¦ï¼Œæœ¬ä¾‹ä¸­Uç›˜å¯¹åº”çš„ç›˜ç¬¦ä¸ºï¼šdisk2</p></li><li><p>å°†Uç›˜(disk2)æ ¼å¼åŒ–ä¸ºFAT32æ ¼å¼</p>  <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diskutil eraseDisk FAT32 <span class="string">"WINDOWS10"</span> MBR disk2</span><br></pre></td></tr></tbody></table></figure></li><li><p>æ‰¾åˆ°ç»è¿‡Boot Camp ISO Converterå¤„ç†åçš„é•œåƒæ–‡ä»¶ï¼Œç„¶ååŒå‡»æŒ‚è½½é•œåƒæ–‡ä»¶</p></li><li><p>è¾“å…¥å‘½ä»¤ï¼Œå°†æŒ‚è½½çš„é•œåƒç›˜æ‹·è´è‡³Uç›˜ä¸­(disk2)</p>  <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> -rp /Volumes/CPBA_X64FRE_ZH-CN_DV9/* /Volumes/WINDOWS10/</span><br></pre></td></tr></tbody></table></figure></li></ul><p> è¿™é‡Œçš„CPBA_X64FRE_ZHæ˜¯åˆšåˆšæŒ‚è½½çš„é•œåƒçš„åç§°,å¤§çº¦ç­‰å¾…10åˆ†é’Ÿï¼Œå‘½ä»¤è¿è¡Œç»“æŸä¹‹åï¼Œå¯åŠ¨ç›˜å°±åšå¥½äº†ã€‚</p><h6 id="win10ç³»ç»Ÿå®‰è£…è¿‡ç¨‹ä¸­æŠ¥é”™è§£å†³æ–¹æ³•"><a href="#win10ç³»ç»Ÿå®‰è£…è¿‡ç¨‹ä¸­æŠ¥é”™è§£å†³æ–¹æ³•" class="headerlink" title="win10ç³»ç»Ÿå®‰è£…è¿‡ç¨‹ä¸­æŠ¥é”™è§£å†³æ–¹æ³•"></a>win10ç³»ç»Ÿå®‰è£…è¿‡ç¨‹ä¸­æŠ¥é”™è§£å†³æ–¹æ³•</h6><p>åœ¨ç£ç›˜æ ¼å¼æ­¥éª¤å¯èƒ½ä¼šæŠ¥â€œwindowsæ— æ³•å®‰è£…åˆ°è¿™ä¸ªç£ç›˜ï¼Œé€‰ä¸­çš„ç£ç›˜é‡‡ç”¨çš„GPT/MBRåˆ†åŒºå½¢å¼â€é”™è¯¯ï¼Œè§£å†³æ–¹æ³•æœ‰2ç§ï¼Œè¿™é‡Œåªåˆ—ä¸¾å…¶ä¸­ä¸€ç§æ–¹æ³•ï¼š</p><ul><li><p>è½¬æ¢ç£ç›˜æ ¼å¼ä¸ºMBRï¼Œä½†æ˜¯ä¼šæ¸…é™¤æ‰€æœ‰ç£ç›˜åˆ†åŒº</p><p>  åœ¨é”™è¯¯æç¤ºçš„æ—¶å€™ï¼Œä¸è¦é‡å¯ç”µè„‘ï¼Œç›´æ¥æŒ‰â€Shift+F10â€ç»„åˆé”®ï¼Œè¿™ä¸ªæ—¶å€™ä¼šå¼¹å‡ºCMDæç¤ºæ¡†ï¼Œç„¶åä¾æ¬¡è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p>  <figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">list disk <span class="comment"># å›è½¦é”®ç¡®å®šï¼›ï¼ˆä¼šåˆ—å‡ºæ‰€æœ‰çš„ç£ç›˜ï¼Œè®°ä½è‡ªå·±ç¡¬ç›˜çš„ç£ç›˜å·ï¼Œé€šè¿‡å®¹é‡å¤§å°å°±å¯ä»¥åˆ†è¾¨äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç£ç›˜0å°±æ˜¯æˆ‘ä»¬çš„ç¡¬ç›˜ï¼Œç£ç›˜1å°±æ˜¯Uç›˜ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> disk 0 <span class="comment"># å›è½¦é”®ç¡®å®šï¼›ï¼ˆé€‰æ‹©ç£ç›˜0ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„ç¡¬ç›˜ï¼Œå°±æ˜¯å‡†å¤‡åšç³»ç»Ÿçš„ç¡¬ç›˜ï¼‰</span></span><br><span class="line"></span><br><span class="line">clean <span class="comment"># å›è½¦é”®ç¡®å®šï¼›ï¼ˆæ¸…ç©ºç£ç›˜ï¼Œç›¸å½“äºæ ¼å¼åŒ–å…¨ç›˜ï¼‰</span></span><br><span class="line"></span><br><span class="line">convert mbr <span class="comment"># å›è½¦é”®ç¡®å®šï¼›ï¼ˆå°†è¯¥ç¡¬ç›˜è½¬æ¢ä¸ºmbræ ¼å¼ï¼Œå¦‚æœæƒ³è¦å°†ç¡¬ç›˜è½¬åŒ–ä¸ºgptï¼Œé‚£å°±æ˜¯è¾“å…¥â€œconvert gptâ€ï¼‰</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h6 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a><a href="https://blog.csdn.net/h21396577548/article/details/125572053">å‚è€ƒé“¾æ¥</a></h6>]]></content>
      
      
      <categories>
          
          <category> çˆ¬å‘æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¯åŠ¨Uç›˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”µç£æ¯”èµ›æ€»ç»“</title>
      <link href="/2022/09/05/dian-ci-bi-sai-zong-jie/"/>
      <url>/2022/09/05/dian-ci-bi-sai-zong-jie/</url>
      
        <content type="html"><![CDATA[<p>ç”µç£æ¯”èµ›æ€»ç»“</p><p>ä»£ç æ€»ç»“</p><ol><li>è¦ä¼šé™æ€åˆ†æèµ„æºå æœ‰ç‡ï¼Œç‰¹åˆ«æ˜¯å½“æœåŠ¡å™¨å†…å­˜èµ„æºä¸è¶³çš„æ—¶å€™ï¼Œæå‰åšå¥½é™æ€åˆ†æï¼Œè®¾ç½®åˆç†çš„è¿è¡Œå‚æ•°ï¼Œæ‰èƒ½æå‡æ•ˆç‡ã€‚æ¯”å¦‚æœ¬æ¬¡å®éªŒè¿‡ç¨‹ä¸­ï¼Œåšæ•°æ®å¢å¼ºé¢„å¤„ç†æ•°æ®æ—¶éœ€è¦å ç”¨å¤§é‡å†…å­˜èµ„æºï¼Œå‚æ•°è®¾ç½®è¿‡å¤§ï¼Œä¼šå¯¼è‡´è¿è¡Œä¸€åŠåå› ä¸ºå†…å­˜ä¸è¶³ï¼Œè¿›ç¨‹è¢«killedæ‰ï¼Œå‚æ•°è®¾ç½®è¿‡å°æ•ˆç‡åˆå˜å¾—å¾ˆä½ã€‚</li><li>å½“æ•°æ®å¾ˆå¤šï¼Œéœ€è¦å ç”¨å¤§é‡å†…å­˜æ—¶ï¼Œä¸è¦å°†æ•°æ®è½¬æ¢ä¸ºpandasçš„DataFrameå¯¹è±¡ï¼Œå› ä¸ºå®ƒä¼šåƒæ‰æ›´å¤šçš„å†…å­˜ï¼Œæ­¤å¤–ä½¿ç”¨applyæ–¹æ³•å¯¹æ•°æ®è¿›è¡Œé€è¡Œå¤„ç†çš„æ—¶å€™ï¼Œå³ä½¿ä½¿ç”¨äº†åŠ é€Ÿæ–¹æ³•ï¼Œä¹Ÿæ²¡æœ‰å°†æ•°æ®å­˜å‚¨ä¸ºlistç„¶åä½¿ç”¨å¤šè¿›ç¨‹æ–¹æ³•å¤„ç†é«˜æ•ˆã€‚åœ¨æœ¬æ¬¡å®éªŒä¸­ï¼Œåè€…çš„é€Ÿåº¦è‡³å°‘æ˜¯å‰è€…çš„5å€ã€‚</li><li>å°½é‡ä½¿ç”¨classå¯¹ä»£ç è¿›è¡Œå°è£…ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä¸€ä¸ªä¸ªå•ç‹¬çš„å‡½æ•°</li><li>å°½é‡ä¿è¯å‡½æ•°çš„åŠŸèƒ½å•ä¸€ï¼Œè¿™æ ·çš„å‡½æ•°æ›´å®¹æ˜“è¢«å¤ç”¨ï¼Œå¤šå†™å‡ ä¸ªå‡½æ•°æ²¡æœ‰å…³ç³»</li><li>å‡ ç§å¸¸ç”¨çš„ä¿å­˜/è¯»å–æ•°æ®æ–¹å¼ï¼š</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&nbsp; <span class="keyword">import</span> pickle</span><br><span class="line">&nbsp; <span class="keyword">import</span> json</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;<span class="comment"># ä½¿ç”¨pickle </span></span><br><span class="line">&nbsp;pickle.dump(data, file=<span class="built_in">open</span>(file_name,<span class="string">"wb"</span>))</span><br><span class="line">&nbsp;data = pickle.load(file=<span class="built_in">open</span>(file_name, <span class="string">"rb"</span>))</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;<span class="comment"># ä½¿ç”¨json</span></span><br><span class="line">&nbsp;json.dump(data, file=<span class="built_in">open</span>(file_name,<span class="string">"w"</span>))</span><br><span class="line">&nbsp;data = json.load(file=<span class="built_in">open</span>(file_name, <span class="string">"r"</span>))</span><br></pre></td></tr></tbody></table></figure><ol start="6"><li>ä½¿ç”¨comentæ¥å¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&nbsp; <span class="keyword">from</span> comet_ml <span class="keyword">import</span> Experiment</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;experiment = Experiment(project_name=args.project_name,</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;api_key=args.api_key)</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;experiment.log_parameters(<span class="built_in">vars</span>(args))</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;<span class="keyword">with</span> experiment.train():</span><br><span class="line">&nbsp; &nbsp; &nbsp;experiment.log_metric(<span class="string">'epoch_loss'</span>, train_loss, step=epoch)</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;<span class="keyword">with</span> experiment.validate():</span><br><span class="line">&nbsp; &nbsp; &nbsp;experiment.log_metric(<span class="string">'epoch_loss'</span>, val_loss, step=epoch)</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;experiment.end()</span><br></pre></td></tr></tbody></table></figure><ol start="7"><li>ä½¿ç”¨argparseæ¥æ„å»ºè¶…å‚æ•°ç®¡ç†å…¥å£</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&nbsp; <span class="keyword">import</span> argparse</span><br><span class="line">&nbsp; parser = argparse.ArgumentParser()</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp; &nbsp;parser.add_argument(<span class="string">"--drop_data_rate"</span>, default=<span class="number">0.9</span>, <span class="built_in">type</span>=<span class="built_in">float</span>,required=<span class="literal">False</span>)</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp; &nbsp;args = parser.parse_args() <span class="comment">#å°†å‚æ•°å˜æˆå¯è°ƒç”¨å¯¹è±¡</span></span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp; &nbsp;pp.pprint(<span class="built_in">vars</span>(args)) <span class="comment"># æ‰“å°å‚æ•°</span></span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp; &nbsp;<span class="keyword">def</span> <span class="title function_">str2bool</span>(<span class="params">v</span>):</span><br><span class="line">&nbsp; &nbsp; &nbsp;<span class="keyword">if</span> v.lower() <span class="keyword">in</span> (<span class="string">'yes'</span>, <span class="string">'true'</span>, <span class="string">'t'</span>, <span class="string">'y'</span>, <span class="string">'1'</span>):</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">&nbsp; &nbsp; &nbsp;<span class="keyword">elif</span> v.lower() <span class="keyword">in</span> (<span class="string">'no'</span>, <span class="string">'false'</span>, <span class="string">'f'</span>, <span class="string">'n'</span>, <span class="string">'0'</span>):</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">&nbsp; &nbsp; &nbsp;<span class="keyword">else</span>:</span><br><span class="line">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="keyword">raise</span> argparse.ArgumentTypeError(<span class="string">'Unsupported value encountered.'</span>)</span><br></pre></td></tr></tbody></table></figure><p>æ³¨ï¼š ä½¿ç”¨add_argument()æ·»åŠ å‚æ•°çš„æ—¶å€™æœ‰ä¸€ä¸ªå¤§å‘ï¼Œ=å½“æ·»åŠ å‚æ•°çš„typeä¸ºboolçš„æ—¶å€™ï¼Œä¸èƒ½è®¾ç½®type=boolï¼Œéœ€è¦è‡ªå®šä¹‰str2boolå‡½æ•°ï¼Œç„¶åè®¾ç½®type=str2boolã€‚</p><ol start="8"><li>ä½¿ç”¨multiprocessingæé«˜å¤„ç†é€Ÿåº¦ï¼šå‡¡æ˜¯èƒ½å¤Ÿå¹¶è¡Œå¤„ç†ä¸”æ•°æ®é‡å·¨å¤§çš„ä»»åŠ¡ï¼Œåº”å°½é‡ä½¿ç”¨å¤šè¿›ç¨‹ç¼–ç¨‹</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&nbsp;<span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Pool</span><br><span class="line">&nbsp;<span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp; <span class="keyword">with</span> Pool(n_workers) <span class="keyword">as</span> p: <span class="comment"># n_workersè¡¨ç¤ºè¿›ç¨‹æ•°</span></span><br><span class="line">&nbsp; &nbsp; &nbsp;result = <span class="built_in">list</span>(tqdm(p.imap(function, data), total=<span class="built_in">len</span>(data))) <span class="comment"># è¿™é‡Œä½¿ç”¨tqdmæ˜¾ç¤ºè¿›åº¦æ¡ï¼Œéœ€è¦è°ƒç”¨imapï¼Œå¦‚æœä¸ç”¨æ˜¾ç¤ºè¿›åº¦æ¡è°ƒç”¨mapå‡½æ•°</span></span><br></pre></td></tr></tbody></table></figure><ol start="9"><li>ä½¿ç”¨pltå°†å›¾ç‰‡ä¿å­˜åˆ°å†…å­˜ä¸­ï¼Œæé«˜å¤„ç†æ•ˆç‡</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&nbsp;<span class="keyword">from</span> io <span class="keyword">import</span> BytesIO</span><br><span class="line">&nbsp;<span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;p_bytes = BytesIO() <span class="comment">#ç”³è¯·å†…å­˜</span></span><br><span class="line">&nbsp;plt.savefig(p_bytes, <span class="built_in">format</span>=<span class="string">'png'</span>)</span><br></pre></td></tr></tbody></table></figure><ol start="10"><li>å…³äºé‡‡æ ·çš„å‡½æ•°</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&nbsp;<span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">&nbsp;<span class="keyword">import</span> random</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;indents = np.random.choice(<span class="number">2</span>, n,replace=<span class="literal">True</span>,p=[pro1, pro2]) <span class="comment"># æœ‰æ”¾å›çš„ä»[0,1]ä¸­å–nä¸ªå€¼ï¼Œå–0çš„æ¦‚ç‡ä¸ºpro1ï¼Œå–1çš„æ¦‚ç‡ä¸ºpro2</span></span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;random.shuffle(data)</span><br><span class="line">&nbsp;sample_resulut = random.sample(data, n)</span><br></pre></td></tr></tbody></table></figure><p>11.PILåº“è¯»å–å›¾ç‰‡</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&nbsp;<span class="keyword">import</span> PIL</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;img = PIL.Image.<span class="built_in">open</span>(image_byte)</span><br><span class="line">&nbsp;img = img.convert(<span class="string">'RGB'</span>)</span><br></pre></td></tr></tbody></table></figure><ol start="12"><li>plt ç”»æ•£ç‚¹å›¾å’Œå›¾ç‰‡ç”»å¸ƒè®¾ç½®</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&nbsp;<span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;plt.rcParams[<span class="string">'figure.figsize'</span>] = (<span class="number">4</span>, <span class="number">4</span>) <span class="comment"># è®¾ç½®å›¾ç‰‡å¤§å°</span></span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;plt.rcParams[<span class="string">'savefig.dpi'</span>] = <span class="number">56</span> <span class="comment">#è®¾ç½®åƒç´ </span></span><br><span class="line">&nbsp;plt.rcParams[<span class="string">'figure.dpi'</span>] = <span class="number">56</span> <span class="comment">#è®¾ç½®åƒç´ </span></span><br><span class="line">&nbsp;plt.axis(<span class="string">'off'</span>) <span class="comment">#å…³é—­åæ ‡</span></span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;<span class="comment"># å¤šå¼ å­å›¾</span></span><br><span class="line">&nbsp;fig, axs = plt.subplots(n, <span class="number">1</span>)</span><br><span class="line">&nbsp;<span class="keyword">for</span> idx, dim <span class="keyword">in</span> <span class="built_in">enumerate</span>(<span class="built_in">range</span>(n)):</span><br><span class="line">&nbsp; &nbsp; &nbsp;axs[idx].axis(<span class="string">'off'</span>)</span><br><span class="line">&nbsp; &nbsp; &nbsp;axs[idx].scatter(x, y, s=<span class="number">0.1</span>)</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;<span class="comment"># å•å¼ å­å›¾</span></span><br><span class="line">&nbsp;fig, axs = plt.subplots(<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">&nbsp;axs.axis(<span class="string">'off'</span>)</span><br><span class="line">&nbsp;axs.scatter(x, y, s=<span class="number">0.1</span>)</span><br><span class="line">&nbsp;</span><br><span class="line">&nbsp;plt.savefig(file_name) <span class="comment"># ä¿å­˜åˆ°ç£ç›˜</span></span><br><span class="line">&nbsp;p_bytes = BytesIO()</span><br><span class="line">&nbsp;plt.savefig(p_bytes, <span class="built_in">format</span>=<span class="string">'png'</span>) <span class="comment"># ä¿å­˜åˆ°å†…å­˜</span></span><br><span class="line">&nbsp;plt.cla()</span><br><span class="line">&nbsp;plt.close(<span class="string">'all'</span>) <span class="comment"># æ¸…ç©ºç¼“å­˜</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> çˆ¬å‘æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç«èµ› </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¿œç¨‹è®¿é—®æœåŠ¡å™¨Jupyter-Notebook</title>
      <link href="/2022/04/29/yuan-cheng-fang-wen-fu-wu-qi-jupyter-notebook/"/>
      <url>/2022/04/29/yuan-cheng-fang-wen-fu-wu-qi-jupyter-notebook/</url>
      
        <content type="html"><![CDATA[<h4 id="æ–¹æ³•ï¼š-sshè¿œç¨‹ä½¿ç”¨jupyter-notebook"><a href="#æ–¹æ³•ï¼š-sshè¿œç¨‹ä½¿ç”¨jupyter-notebook" class="headerlink" title="æ–¹æ³•ï¼š sshè¿œç¨‹ä½¿ç”¨jupyter notebook"></a>æ–¹æ³•ï¼š sshè¿œç¨‹ä½¿ç”¨jupyter notebook</h4><p>åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šï¼Œå¯åŠ¨jupyter notebooksæœåŠ¡ï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook --no-browser --port=8889</span><br></pre></td></tr></tbody></table></figure><p>åœ¨æœ¬åœ°ç»ˆç«¯ä¸­å¯åŠ¨SSHï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -N -f -L localhost:8888:localhost:8889 username@serverIP</span><br></pre></td></tr></tbody></table></figure><p>å…¶ä¸­ï¼š -N å‘Šè¯‰SSHæ²¡æœ‰å‘½ä»¤è¦è¢«è¿œç¨‹æ‰§è¡Œï¼› -f å‘Šè¯‰SSHåœ¨åå°æ‰§è¡Œï¼› -L æ˜¯æŒ‡å®šport forwardingçš„é…ç½®ï¼Œè¿œç«¯ç«¯å£æ˜¯8889ï¼Œæœ¬åœ°çš„ç«¯å£å·çš„8888ã€‚</p><p>æ³¨æ„ï¼šusername@serverIPæ›¿æ¢æˆæœåŠ¡å™¨çš„å¯¹åº”è´¦å·ã€‚</p><p>æœ€åæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼š<a href="http://localhost:8888/">http://localhost:8888/</a></p>]]></content>
      
      
      <categories>
          
          <category> çˆ¬å‘æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jupyter notebook </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++å¤šçº¿ç¨‹ç¼–ç¨‹</title>
      <link href="/2021/12/10/c-duo-xian-cheng-bian-cheng/"/>
      <url>/2021/12/10/c-duo-xian-cheng-bian-cheng/</url>
      
        <content type="html"><![CDATA[<h4 id="å¸¸ç”¨çº¿ç¨‹å‡½æ•°"><a href="#å¸¸ç”¨çº¿ç¨‹å‡½æ•°" class="headerlink" title="å¸¸ç”¨çº¿ç¨‹å‡½æ•°"></a>å¸¸ç”¨çº¿ç¨‹å‡½æ•°</h4><ul><li><p>join() :</p><blockquote><p>é˜»å¡ä¸»çº¿ç¨‹ï¼Œè®©ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œå®Œï¼Œå½“å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œè¿™ä¸ªjoinï¼ˆï¼‰å°±æ‰§è¡Œå®Œæ¯•ï¼Œä¸»çº¿ç¨‹ç»§ç»­æ‰§è¡Œ</p></blockquote></li><li><p>detach() :</p><blockquote><p>ä»ä¸»çº¿ç¨‹ä¸­å°†å­çº¿ç¨‹åˆ†ç¦»ï¼Œä¸»çº¿ç¨‹ä¸å¿…ç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œå®Œï¼Œä¸€æ—¦detach()ä¹‹åå­çº¿ç¨‹å°†å¤±å»ä¸ä¸»çº¿ç¨‹çš„å…³è”ï¼Œ<br>æ­¤æ—¶è¿™ä¸ªå­çº¿ç¨‹å°±ä¼šé©»ç•™åœ¨åå°è¿è¡Œï¼Œè¢«c++è¿è¡Œæ—¶æ¥ç®¡ï¼Œå½“è¿™ä¸ªå­çº¿ç¨‹æ‰§è¡Œå®Œæˆåï¼Œç”±è¿è¡Œæ—¶åº“è´Ÿè´£æ¸…ç†çº¿ç¨‹ç›¸å…³çš„èµ„æºã€‚</p></blockquote></li></ul><h4 id="çº¿ç¨‹åˆ›å»ºæ–¹æ³•"><a href="#çº¿ç¨‹åˆ›å»ºæ–¹æ³•" class="headerlink" title="çº¿ç¨‹åˆ›å»ºæ–¹æ³•"></a>çº¿ç¨‹åˆ›å»ºæ–¹æ³•</h4><ul><li><p>é€šè¿‡å‡½æ•°åˆ›å»ºçº¿ç¨‹</p><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>  <span class="keyword">namespace</span>  std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">do_something</span><span class="params">()</span></span>{</span><br><span class="line">    cout &lt;&lt; <span class="string">"çº¿ç¨‹å¼€å§‹"</span>&lt;&lt; endl;</span><br><span class="line">    <span class="comment">//do something</span></span><br><span class="line">    cout &lt;&lt; <span class="string">"çº¿ç¨‹ç»“æŸ"</span> &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="function">thread <span class="title">myjob</span> <span class="params">(do_something)</span></span>; </span><br><span class="line">    myjob.<span class="built_in">join</span>(); <span class="comment">//é˜»å¡ä¸»çº¿ç¨‹ï¼Œç­‰å¾…å­çº¿ç¨‹ç»“æŸ</span></span><br><span class="line">    cout &lt;&lt; <span class="string">"The End"</span> &lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li><p>é€šè¿‡ç±»åˆ›å»ºçº¿ç¨‹</p><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>  <span class="keyword">namespace</span>  std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span>  <span class="title class_">myClass</span>{</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">myClass</span>(<span class="type">int</span> d):<span class="built_in">data</span>(d){</span><br><span class="line">        cout &lt;&lt; <span class="string">"æ„é€ å‡½æ•°"</span> &lt;&lt;endl;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">myClass</span>(<span class="type">const</span> myClass&amp;myClass1):<span class="built_in">data</span>(myClass<span class="number">1.</span>data){</span><br><span class="line">        cout &lt;&lt; <span class="string">"æ‹·è´æ„é€ å‡½æ•°"</span> &lt;&lt;endl;</span><br><span class="line">    }</span><br><span class="line">    ~<span class="built_in">myClass</span>(){</span><br><span class="line">        cout &lt;&lt; <span class="string">"ææ„å‡½æ•°"</span> &lt;&lt;endl;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="comment">//çº¿ç¨‹çš„å…¥å£</span></span><br><span class="line">        cout &lt;&lt; <span class="string">"çº¿ç¨‹å¼€å§‹"</span> &lt;&lt;endl;</span><br><span class="line"><span class="comment">//        do something</span></span><br><span class="line">        cout &lt;&lt; <span class="string">"çº¿ç¨‹ç»“æŸ"</span> &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="function">myClass <span class="title">myclass</span><span class="params">(a)</span></span>;</span><br><span class="line">    <span class="function">thread <span class="title">myjob</span> <span class="params">(myclass)</span></span>; <span class="comment">// å¤åˆ¶ä¸€æ¬¡myclass</span></span><br><span class="line">    myjob.<span class="built_in">join</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">"The End"</span> &lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li><p>é€šè¿‡lambdaè¡¨è¾¾å¼åˆ›å»ºçº¿ç¨‹</p><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>  <span class="keyword">namespace</span>  std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">auto</span> myLambdaThread = []{</span><br><span class="line">        cout &lt;&lt; <span class="string">"çº¿ç¨‹å¼€å§‹"</span> &lt;&lt; endl;</span><br><span class="line"><span class="comment">//        do something</span></span><br><span class="line">        cout &lt;&lt; <span class="string">"çº¿ç¨‹ç»“æŸ"</span> &lt;&lt; endl;</span><br><span class="line">    };</span><br><span class="line">    <span class="function">thread <span class="title">myjob</span> <span class="params">(myLambdaThread)</span></span>;</span><br><span class="line">    myjob.<span class="built_in">join</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">"The End"</span> &lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ul><h4 id="ä¼ é€’ä¸´æ—¶å¯¹è±¡ä½œä¸ºçº¿ç¨‹å‚æ•°"><a href="#ä¼ é€’ä¸´æ—¶å¯¹è±¡ä½œä¸ºçº¿ç¨‹å‚æ•°" class="headerlink" title="ä¼ é€’ä¸´æ—¶å¯¹è±¡ä½œä¸ºçº¿ç¨‹å‚æ•°"></a>ä¼ é€’ä¸´æ—¶å¯¹è±¡ä½œä¸ºçº¿ç¨‹å‚æ•°</h4><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="keyword">using</span>  <span class="keyword">namespace</span>  std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">do_something_with_parameters</span><span class="params">(<span class="type">const</span> <span class="type">int</span>&amp; a, <span class="type">char</span> *buff)</span></span>{</span><br><span class="line">    cout &lt;&lt; a &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; buff &lt;&lt; endl;<span class="comment">//ä¼ æŒ‡é’ˆå±é™©</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="type">int</span> val = <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> buff[] = <span class="string">"this is a test!"</span>;</span><br><span class="line">    <span class="function">thread <span class="title">myjob</span> <span class="params">(do_something_with_parameters, val, buff)</span></span>;</span><br><span class="line">    myjob.<span class="built_in">join</span>(); <span class="comment">//é˜»å¡ä¸»çº¿ç¨‹ï¼Œç­‰å¾…å­çº¿ç¨‹ç»“æŸ</span></span><br><span class="line">    cout &lt;&lt; <span class="string">"The End"</span> &lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="çº¿ç¨‹id"><a href="#çº¿ç¨‹id" class="headerlink" title="çº¿ç¨‹id"></a>çº¿ç¨‹id</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è·å–çº¿ç¨‹<span class="built_in">id</span>ï¼šget_idï¼ˆï¼‰</span><br><span class="line">è·å–å½“å‰çº¿ç¨‹<span class="built_in">id</span>ï¼šstd::this_thread::get_id()</span><br></pre></td></tr></tbody></table></figure><h4 id="çº¿ç¨‹é—´çš„å€¼ä¼ é€’"><a href="#çº¿ç¨‹é—´çš„å€¼ä¼ é€’" class="headerlink" title="çº¿ç¨‹é—´çš„å€¼ä¼ é€’"></a>çº¿ç¨‹é—´çš„å€¼ä¼ é€’</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">std::ref()</span><br><span class="line">std::move()</span><br></pre></td></tr></tbody></table></figure><h4 id="æœ€å¤šå¯ä»¥ä½¿ç”¨çš„çº¿ç¨‹æ•°"><a href="#æœ€å¤šå¯ä»¥ä½¿ç”¨çš„çº¿ç¨‹æ•°" class="headerlink" title="æœ€å¤šå¯ä»¥ä½¿ç”¨çš„çº¿ç¨‹æ•°"></a>æœ€å¤šå¯ä»¥ä½¿ç”¨çš„çº¿ç¨‹æ•°</h4><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">std::thread::hardware_concurrency()</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å°†å¾®ä¿¡èŠå¤©ä¸­çš„è¯­éŸ³è½¬æ¢ä¸ºmp3</title>
      <link href="/2021/09/29/jiang-wei-xin-liao-tian-zhong-de-yu-yin-zhuan-huan-wei-mp3/"/>
      <url>/2021/09/29/jiang-wei-xin-liao-tian-zhong-de-yu-yin-zhuan-huan-wei-mp3/</url>
      
        <content type="html"><![CDATA[<ol><li><p>æ‰¾åˆ°è¯­éŸ³æ–‡ä»¶å°†å…¶å¯¼å‡º</p><ul><li>æ‰¾åˆ°MACå¾®ä¿¡å›¾ç‰‡ï¼Œé¼ æ ‡æ”¾åœ¨å›¾ç‰‡ä¸Šé¢æŒ‰ä¸‹å³é”®è°ƒå‡ºå¦‚ä¸‹å›¾æ‰€ç¤ºçš„æç¤ºæ¡†ï¼Œç„¶åç‚¹å‡»â€œåœ¨Finderä¸­æ˜¾ç¤ºâ€ï¼Œæ‰“å¼€éŸ³é¢‘ã€å›¾ç‰‡ç­‰æ–‡ä»¶åœ¨æœ¬åœ°ä¿å­˜çš„ä½ç½®ã€‚</li></ul> <img src="https://raw.githubusercontent.com/Skylyong/i/main/20210929173234.png" alt="image-20210929173226533" style="zoom:50%;"><p> â€‹            è¿™ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¾®ä¿¡ä¿å­˜åˆ°æœ¬åœ°çš„è®°å½•æ˜¯æŒ‰ç…§èŠå¤©ä¼šè¯å­˜å‚¨çš„ï¼Œä¸åŒä¼šè¯çš„å†…å®¹ä¿å­˜çš„ä½ç½®ä¸ä¸€æ ·ã€‚æˆ‘ä»¬åº”è¯¥å…ˆå®šä½åˆ°è¦è·å–éŸ³é¢‘çš„ä¼šè¯ï¼Œåœ¨è¯¥ä¼šè¯ä¸­è°ƒå‡ºâ€œåœ¨Finderâ€ä¸­æ˜¾ç¤ºæ‰è¡Œã€‚</p><ul><li><p>å¦‚ä¸‹å›¾æ‰€ç¤ºAudioç›®å½•å°±æ˜¯å­˜å‚¨ä¼šè¯è¯­éŸ³</p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210929173725.png" alt="image-20210929173725735" style="zoom:45%;"></li></ul></li><li><p>å°†silkæ ¼å¼æ–‡ä»¶è½¬æ¢ä¸ºmp3æ ¼å¼æ–‡ä»¶</p><ul><li><p>å®‰è£…silk-v3</p><p>silk-v3ä¾èµ–gccå’ŒFFmpegæ¥è¿è¡Œï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸¤ä¸ªä¾èµ–é¡¹ï¼Œé€šè¿‡å¦‚ä¸‹å‘½ä»¤å®‰è£…ä¾èµ–ï¼š</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install gcc</span><br><span class="line">brew install ffmpeg</span><br></pre></td></tr></tbody></table></figure><p>å®‰è£…å¥½ä¾èµ–ä¹‹åï¼Œåœ¨<a href="https://github.com/kn007/silk-v3-decoder">è¿™é‡Œ</a>å°†silk-v3å…‹éš†åˆ°æœ¬åœ°ç”µè„‘ã€‚</p></li><li><p>ç”¨silk-v3è¿›è¡Œæ ¼å¼è½¬æ¢</p><p>æŒ‰ç…§<a href="https://github.com/Skylyong/silk-v3-decoder">silk-v3é¡¹ç›®è¯´æ˜</a>è¿è¡Œå‘½ä»¤ï¼Œå®Œæˆæ ¼å¼è½¬æ¢ã€‚</p><ul><li><p>è½¬æ¢å•ä¸ªæ–‡ä»¶</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh converter.sh xxx.slk mp3</span><br></pre></td></tr></tbody></table></figure></li><li><p>æ‰¹é‡è½¬æ¢æ–‡ä»¶å¤¹ä¸­çš„å¤šä¸ªæ–‡ä»¶</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh converter.sh inputFolder ouputFolder mp3</span><br></pre></td></tr></tbody></table></figure></li></ul></li></ul></li><li><p>å‚è€ƒèµ„æ–™</p></li></ol><p><a href="https://www.jianshu.com/p/fbccd8a52374">å¾®ä¿¡è¯­éŸ³silkæ ¼å¼æ–‡ä»¶è½¬æ¢å¤„ç†è®°å½•</a></p><p><a href="https://blog.csdn.net/henryhu712/article/details/89852514">å°†å¾®ä¿¡è¯­éŸ³æ¶ˆæ¯è½¬æ¢ä¸º mp3</a></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¾®ä¿¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœºå™¨å­¦ä¹ å‚è€ƒèµ„æ–™</title>
      <link href="/2021/09/19/ji-qi-xue-xi-can-kao-zi-liao/"/>
      <url>/2021/09/19/ji-qi-xue-xi-can-kao-zi-liao/</url>
      
        <content type="html"><![CDATA[<p>æœºå™¨å­¦ä¹ å‚è€ƒèµ„æ–™ï¼š</p><ul><li><p>æœºå™¨å­¦ä¹ å‚è€ƒä¹¦ç±ï¼š</p><ul><li>ã€Šç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ ã€‹ä¹¦ç±åŠPPTï¼š<a href="https://nndl.github.io/">https://nndl.github.io/</a></li><li>ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹æèˆªè‘—</li><li>ã€Šæœºå™¨å­¦ä¹ ã€‹å‘¨å¿—åè‘—</li><li>ã€Šå—ç“œä¹¦ã€‹ï¼š<a href="https://datawhalechina.github.io/pumpkin-book/%EF%BC%8C">https://datawhalechina.github.io/pumpkin-book/ï¼Œ</a> <a href="https://github.com/datawhalechina/pumpkin-book">https://github.com/datawhalechina/pumpkin-book</a></li><li>ã€Šè¿ç§»å­¦ä¹ ã€‹æ¨å¼ºç­‰è‘—</li><li>ã€Šè”é‚¦å­¦ä¹ ã€‹æ¨å¼ºç­‰è‘—</li><li>Python Machine Learningï¼š <a href="https://github.com/rasbt/python-machine-learning-book">https://github.com/rasbt/python-machine-learning-book</a></li><li>æ·±åº¦å­¦ä¹ ï¼šè‹±æ–‡ç‰ˆï¼ˆ <a href="https://www.deeplearningbook.org/%EF%BC%89%E3%80%81%E4%B8%AD%E6%96%87%E7%89%88%EF%BC%88">https://www.deeplearningbook.org/ï¼‰ã€ä¸­æ–‡ç‰ˆï¼ˆ</a> <a href="https://github.com/exacity/deeplearningbook-chinese%EF%BC%89">https://github.com/exacity/deeplearningbook-chineseï¼‰</a></li><li>ã€Šå¼ºåŒ–å­¦ä¹ Reinforcement Learningï¼ˆç¬¬2ç‰ˆï¼‰ã€‹[åŠ ]Richard S.Sutton [ç¾]Andrew G. Bartoè‘—ï¼Œä¿å‡¯ç­‰è¯‘</li></ul></li><li><p>æ•°å­¦ç±»å‚è€ƒä¹¦ç±ï¼š</p><ul><li>å‡¸ä¼˜åŒ–Convex Optimizationï¼ˆ<a href="http://stanford.edu/~boyd/cvxbook/%EF%BC%89%E3%80%81">http://stanford.edu/~boyd/cvxbook/ï¼‰ã€</a></li><li>çº¿æ€§ä»£æ•° <a href="https://ocw.mit.edu/courses/mathematics/18-06sc-linear-algebra-fall-2011/index.htm">https://ocw.mit.edu/courses/mathematics/18-06sc-linear-algebra-fall-2011/index.htm</a></li><li>æ¦‚ç‡è®ºä¸ç»Ÿè®¡ï¼š1ï¼‰æ–¯å¦ç¦è¯¾ç¨‹CS109 Probability for Computer Scientistsï¼š <a href="http://web.stanford.edu/class/cs109/%EF%BC%9B2%EF%BC%89Introduction">http://web.stanford.edu/class/cs109/ï¼›2ï¼‰Introduction</a> to Probability, Statistics, and Random Processesï¼š <a href="https://www.probabilitycourse.com/">https://www.probabilitycourse.com/</a></li></ul></li><li><p>æœºå™¨å­¦ä¹ åº“/å¹³å°ï¼š</p><ul><li>SKlearnï¼ˆ<a href="https://scikit-learn.org/stable/%EF%BC%89%EF%BC%8CSKlearn%E7%9A%84User">https://scikit-learn.org/stable/ï¼‰ï¼ŒSKlearnçš„User</a> Guideé‡Œæ€»ç»“äº†å¾ˆå¤šæœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œå¯ä»¥å­¦ä¹ ä¸‹<a href="https://scikit-learn.org/stable/user_guide.html%E3%80%82%E4%B8%8A%E9%9D%A2%E6%8F%90%E5%88%B0%E7%9A%84Python">https://scikit-learn.org/stable/user_guide.htmlã€‚ä¸Šé¢æåˆ°çš„Python</a> Machine Learningä¹¦ç±ä¸­å°±å¤§é‡ä½¿ç”¨SKlearnçš„APIã€‚</li><li>Pytorchï¼š <a href="https://pytorch.org/tutorials/">https://pytorch.org/tutorials/</a></li><li>TensorFlow</li><li>Kerasï¼ˆ <a href="https://keras.io/%EF%BC%89%E7%AD%89%E3%80%82">https://keras.io/ï¼‰ç­‰ã€‚</a></li></ul></li><li><p>çº¿ä¸Šè¯¾ç¨‹ï¼š</p><ul><li>å´æ©è¾¾æ•™æˆçš„è§†é¢‘æ•™å­¦è¯¾ç¨‹ï¼ˆ <a href="https://www.coursera.org/learn/machine-learning%EF%BC%89">https://www.coursera.org/learn/machine-learningï¼‰</a></li><li>æå®æ¯…-å°æ¹¾å¤§å­¦ï¼ˆ<a href="http://speech.ee.ntu.edu.tw/~tlkagk/courses_ML20.html%EF%BC%89">http://speech.ee.ntu.edu.tw/~tlkagk/courses_ML20.htmlï¼‰</a></li><li>Googleçš„æ·±åº¦å­¦ä¹ è¯¾ç¨‹ï¼ˆ<a href="https://www.udacity.com/course/intro-to-tensorflow-for-deep-learning--ud187%EF%BC%89">https://www.udacity.com/course/intro-to-tensorflow-for-deep-learning--ud187ï¼‰</a></li><li>æé£é£æ•™æˆçš„è®¡ç®—æœºè§†è§‰è¯¾ç¨‹ï¼ˆ<a href="http://cs231n.stanford.edu)/">http://cs231n.stanford.eduï¼‰</a></li><li>Richard Socher çš„è‡ªç„¶è¯­è¨€å¤„ç†è¯¾ç¨‹ï¼ˆ<a href="http://cs224d.stanford.edu/">http://cs224d.stanford.edu</a>)</li><li>University of Chicago Mathematical Foundations of Machine Learning(<a href="https://voices.uchicago.edu/willett/teaching/mathematical-foundations-of-machine-learning-fall-2020/">https://voices.uchicago.edu/willett/teaching/mathematical-foundations-of-machine-learning-fall-2020/</a>)</li></ul></li><li><p>å…¶ä»–èµ„æ–™ï¼š</p><ul><li>Machine Learning and Artificial Intelligence and their role in networkingï¼š <a href="https://www.bilibili.com/video/av70398058/">https://www.bilibili.com/video/av70398058/</a></li><li>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1qgYRbtfCLZE8d0MuCSrRLw">https://pan.baidu.com/s/1qgYRbtfCLZE8d0MuCSrRLw</a>  å¯†ç :1am4</li><li>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1YAujUyivMKZcOCUxB9GZlw">https://pan.baidu.com/s/1YAujUyivMKZcOCUxB9GZlw</a> æå–ç ï¼šwru7</li></ul></li></ul><!-- + åšå®¢ï¼š --><blockquote><p>å£°æ˜ï¼š å†…å®¹æ‘˜è‡ª<a href="https://tingwang1122.github.io/">ç‹è€å¸ˆ</a>çš„ä¸ªäººä¸»é¡µã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ èµ„æ–™ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æœºå™¨å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ‰ç”¨çš„èµ„æº</title>
      <link href="/2021/09/19/you-yong-de-zi-yuan/"/>
      <url>/2021/09/19/you-yong-de-zi-yuan/</url>
      
        <content type="html"><![CDATA[<p>æœ‰ç”¨çš„èµ„æº</p><!-- <br> --><ul><li><p><a href="https://github.com/Skylyong/Skylyong.github.io/tree/main/files/paper-reading.pdf">How to Read a Paper</a>, by <a href="http://blizzard.cs.uwaterloo.ca/keshav/wiki/index.php/Main_Page">Prof. Srinivasan Keshav</a>.</p></li><li><p><a href="http://dustintran.com/blog/a-research-to-engineering-workflow">A Research to Engineering Workflow</a>, by <a href="http://dustintran.com/">Dr. Dustin Tran</a>.</p></li><li><p><a href="https://github.com/Skylyong/Skylyong.github.io/tree/main/files/mathwriting.pdf">Mathematical Writing</a>, by <a href="https://www-cs-faculty.stanford.edu/~knuth/">Donald E. Knuth</a>,<a href="https://larrabee.soe.ucsc.edu/">Tracy Larrabee</a> and <a href="http://www.math.utah.edu/~roberts/">Paul M. Roberts</a>.</p></li></ul><!-- + [Whitesides' Group: Writing a Paper](), by [George M. Whitesides](https://gmwgroup.harvard.edu/people/george-m-whitesides). --><ul><li><p><a href="https://github.com/Skylyong/Skylyong.github.io/tree/main/files/review-writing.pdf">Writing reviews for systems conferences</a>, by <a href="http://people.inf.ethz.ch/troscoe/">Timothy Roscoe</a>.</p></li><li><p><a href="https://github.com/Skylyong/Skylyong.github.io/tree/main/files/how-to-write-a-paper.pdf">How to write a paper</a>, by <a href="http://www-edc.eng.cam.ac.uk/people/mfa2.html">Mike Ashby</a>.</p></li><li><p><a href="https://github.com/Skylyong/Skylyong.github.io/tree/main/files/Leading_Paper_Discussions.pdf">Pointers for Leading Paper Discussions</a>, by <a href="https://www2.eecs.berkeley.edu/Faculty/Homepages/katz.html">Randy H. Katz</a>.</p></li><li><p><a href="https://ailyong.cn/2021/09/19/ji-qi-xue-xi-can-kao-zi-liao/">Machine Learning Materials for Beginners</a>.</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ èµ„æ–™ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> èµ„æº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡æ ‡ç­¾æ•´ç†</title>
      <link href="/2021/08/14/wei-xin-biao-qian-zheng-li/"/>
      <url>/2021/08/14/wei-xin-biao-qian-zheng-li/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ€è¿‘å¯¹å¾®ä¿¡é€šè®¯å½•åšäº†ä¸€æ¬¡æ¯”è¾ƒå½»åº•çš„æ•´ç†ï¼Œè®°å½•ä¸€ä¸‹ã€‚</p></blockquote><p>æˆ‘æ ¹æ®å…´è¶£ã€äººç”Ÿé˜¶æ®µã€äº²ç–å…³ç³»å’Œç”Ÿæ´»å››ä¸ªç»´åº¦æ¥åˆ†ç±»ï¼Œæ¯ä¸ªç»´åº¦çš„å…·ä½“åˆ†ç±»æ ‡ç­¾å¦‚ä¸‹ï¼š</p><ul><li>æŒ‰å…´è¶£ï¼š å…´è¶£-æˆ·å¤–ï¼Œå…´è¶£-è·‘æ­¥ï¼Œå…´è¶£-é˜…è¯»ï¼Œå…´è¶£-ç¾é£Ÿç­‰</li><li>æŒ‰äººç”Ÿé˜¶æ®µåˆ’åˆ†ä¸ºï¼šä¸­å­¦ï¼Œæœ¬ç§‘ï¼Œç ”ç©¶ç”Ÿï¼Œå…¼èŒç­‰ï¼Œæ¯ä¸€ä¸ªé˜¶æ®µåˆå¯ä»¥åšè¿›ä¸€æ­¥åˆ’åˆ†ã€‚<ul><li>ä¸­å­¦-åŒå­¦ï¼Œä¸­å­¦-æ ¡å‹ï¼Œä¸­å­¦-è€å¸ˆ</li><li>æœ¬ç§‘-åŒå­¦ï¼Œæœ¬ç§‘-æ ¡å‹ï¼Œæœ¬ç§‘-è€å¸ˆ</li><li>ç ”ç©¶ç”Ÿ-åŒå­¦ï¼Œç ”ç©¶ç”Ÿ-æ ¡å‹ï¼Œç ”ç©¶ç”Ÿ-è€å¸ˆ</li><li>å…¼èŒ-åŒäº‹ï¼Œå…¼èŒ-åŒè¡Œ</li></ul></li><li>æŒ‰äº²ç–å…³ç³»å¯åˆ†ä¸ºï¼š<ul><li>å®¶äºº</li><li>äº²æˆš</li><li>æœ‹å‹</li><li>æœ‰ç¼˜ç›¸é€¢</li></ul></li><li>ç”Ÿæ´»æ¶‰åŠçš„ä¸œè¥¿æ¯”è¾ƒæ‚ï¼Œæˆ‘æ˜¯æŠŠâ€œç…§ç›¸ã€æ‰“å°å’Œæ°´ç”µç­‰â€éƒ½æ”¾åœ¨äº†â€œç”Ÿæ´»ä¾¿åˆ©â€è¿™ä¸€ä¸ªæ ‡ç­¾é‡Œé¢ï¼Œç„¶ååœ¨åå­—ä¸Šé¢åšå¤‡æ³¨ï¼Œæ¯”å¦‚â€œå¼ ä¸‰|æ‰“å°â€ã€‚æ­¤å¤–ï¼Œæˆ‘æŠŠåŒ»ç”Ÿã€æ³•å¾‹äººå£«åšäº†å•ç‹¬çš„æ ‡ç­¾ï¼Œæœ€ååŠ äº†ä¸€ä¸ªâ€œå¤§ä½¬â€æ ‡ç­¾ï¼Œæ–¹ä¾¿æ—¶åˆ»å…³æ³¨å¤§ä½¬çš„åŠ¨æ€ã€å‘å¤§ä½¬é é½ã€‚<ul><li>ç”Ÿæ´»ä¾¿åˆ©</li><li>ç”Ÿæ´»-åŒ»åŠ¡</li><li>ç”Ÿæ´»-æ³•å¾‹</li><li>å¤§ä½¬</li></ul></li></ul><p>åˆ†å¥½ä¹‹åæ‰æ„Ÿè§‰è¿™ç§äºŒçº§åˆ†ç±»æœ‰ç‚¹ç¹çï¼Œå…ˆç”¨ä¸€æ®µæ—¶é—´çœ‹çœ‹ï¼Œä¸è¡Œçš„è¯å†åšä¼˜åŒ–ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¾®ä¿¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å·¥å…·ç®±</title>
      <link href="/2021/08/14/gong-ju-xiang/"/>
      <url>/2021/08/14/gong-ju-xiang/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="https://www.jibing57.com/2019/03/24/share-ShadowsocksX-NG-to-iOS/">Macä¸‹å…±äº«ShadowsocksX-NGçš„æ¢¯å­ç»™iOS</a></li><li><a href="https://www.cnblogs.com/jserhub/p/11770585.html">GitHub è®¾ç½®å’Œå–æ¶ˆä»£ç†ï¼ŒåŠ é€Ÿ git clone</a></li><li><a href="https://www.zxgj.cn/g/rznl">åœ¨çº¿æ™ºå•†æµ‹è¯•</a></li></ul><ul><li><a href="https://ailyong.cn/2022/09/07/mac-xi-tong-zhi-zuo-win10-qi-dong-u-pan/">Macç³»ç»Ÿåˆ¶ä½œwin10å¯åŠ¨Uç›˜</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ”¶è— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹²è´§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Googleè®¿é—®åŠ©æ‰‹å®‰è£…</title>
      <link href="/2021/08/13/google-fang-wen-zhu-shou-an-zhuang/"/>
      <url>/2021/08/13/google-fang-wen-zhu-shou-an-zhuang/</url>
      
        <content type="html"><![CDATA[<h3 id="Googleè®¿é—®åŠ©æ‰‹å®‰è£…"><a href="#Googleè®¿é—®åŠ©æ‰‹å®‰è£…" class="headerlink" title="Googleè®¿é—®åŠ©æ‰‹å®‰è£…"></a>Googleè®¿é—®åŠ©æ‰‹å®‰è£…</h3><p>ä»Šå¤©ç”¨å›¾ä¹¦é¦†ç”µè„‘çš„æ—¶å€™å‘ç°ä¸èƒ½è®¿é—®googleï¼Œéå¸¸ä¸æ–¹ä¾¿æœç´¢æ–‡çŒ®ï¼Œå› æ­¤ç ”ç©¶äº†ä¸€ä¸‹googleä¸Šç½‘åŠ©æ‰‹ï¼Œè®°å½•ä¸€ä¸‹ã€‚</p><ul><li><h3 id="IGGè°·æ­Œè®¿é—®åŠ©æ‰‹"><a href="#IGGè°·æ­Œè®¿é—®åŠ©æ‰‹" class="headerlink" title="IGGè°·æ­Œè®¿é—®åŠ©æ‰‹"></a><a href="https://iguge.app/">IGGè°·æ­Œè®¿é—®åŠ©æ‰‹</a></h3><blockquote><p>è¯¥åŠ©æ‰‹å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>å…è´¹æä¾›è°·æ­Œæœç´¢</li><li>å¾®è½¯onedriveåŠ é€Ÿ</li><li>ä¸åŒ…å«YouTubeï¼Œè°·æ­Œç½‘ç›˜</li></ul></blockquote></li><li><h3 id="googleä¸Šç½‘åŠ©æ‰‹"><a href="#googleä¸Šç½‘åŠ©æ‰‹" class="headerlink" title="googleä¸Šç½‘åŠ©æ‰‹"></a><a href="https://chrome.google.com/webstore/detail/%E8%B0%B7%E6%AD%8C%E4%B8%8A%E7%BD%91%E5%8A%A9%E6%89%8B/nonmafimegllfoonjgplbabhmgfanaka?utm_source=chrome-ntp-icon">googleä¸Šç½‘åŠ©æ‰‹</a></h3><blockquote><p>è¯¥åŠ©æ‰‹å…·å¤‡IGGè°·æ­Œè®¿é—®åŠ©æ‰‹çš„ç‰¹ç‚¹ï¼Œä½†æ˜¯å®‰è£…çš„æ—¶å€™éœ€è¦ç™»å½•Chromeå•†åº—æ‰èƒ½å¤Ÿä¸‹è½½ï¼Œå¦‚æœæ²¡æœ‰KXä¸Šç½‘ï¼Œå»ºè®®è¯»è€…é€‰æ‹©å®‰è£…â€œIGGè°·æ­Œè®¿é—®åŠ©æ‰‹â€æ–¹å¼è®¿é—®è°·æ­Œã€‚</p></blockquote></li></ul>]]></content>
      
      
      <categories>
          
          <category> å¹²è´§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Googleè®¿é—®åŠ©æ‰‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸ç”¨æ•°æ®é›†æ•´ç†</title>
      <link href="/2021/08/13/chang-yong-shu-ju-ji-zheng-li/"/>
      <url>/2021/08/13/chang-yong-shu-ju-ji-zheng-li/</url>
      
        <content type="html"><![CDATA[<h3 id="å¸¸ç”¨æ•°æ®é›†æ•´ç†"><a href="#å¸¸ç”¨æ•°æ®é›†æ•´ç†" class="headerlink" title="å¸¸ç”¨æ•°æ®é›†æ•´ç†"></a>å¸¸ç”¨æ•°æ®é›†æ•´ç†</h3><p>å‰æ²¿ï¼šæ‰€è°“â€å·§å¦‡éš¾ä¸ºæ— ç±³ä¹‹ç‚Šâ€œï¼Œä½œä¸ºäººå·¥æ™ºèƒ½é¢†åŸŸçš„å­¦ä¹ è€…ï¼Œå…ä¸äº†è¦è·Ÿæ•°æ®æ‰“äº¤é“ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¸å¾—ä¸è€—è´¹å¤§é‡çš„ç²¾åŠ›æ¥æ”¶é›†ç›¸å…³æ•°æ®é›†ã€‚å› æ­¤ï¼Œ æ•´ç†ä¸€äº›å¸¸ç”¨çš„æ•°æ®é›†ï¼Œä»¥ä¾¿ä¸æ—¶ä¹‹éœ€ã€‚</p><h4 id="å¯¹è¯æ•°æ®é›†"><a href="#å¯¹è¯æ•°æ®é›†" class="headerlink" title="å¯¹è¯æ•°æ®é›†"></a>å¯¹è¯æ•°æ®é›†</h4><h4 id="nlpæ–¹å‘çš„ç”Ÿç‰©åŒ»å­¦"><a href="#nlpæ–¹å‘çš„ç”Ÿç‰©åŒ»å­¦" class="headerlink" title="nlpæ–¹å‘çš„ç”Ÿç‰©åŒ»å­¦"></a>nlpæ–¹å‘çš„ç”Ÿç‰©åŒ»å­¦</h4><ul><li>Symcatâ€™s database</li><li>mz database</li><li>dxy database</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®é›† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æœºå™¨å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€è¯¾ç¨‹è®¾è®¡ã€‘å›¾çš„åˆ›å»ºå’Œéå†</title>
      <link href="/2021/08/13/tu-de-chuang-jian-he-bian-li/"/>
      <url>/2021/08/13/tu-de-chuang-jian-he-bian-li/</url>
      
        <content type="html"><![CDATA[<h3 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h3><p>æœ¬è¯¾ç¨‹è®¾è®¡ä¸»è¦å®Œæˆé‚»æ¥çŸ©é˜µå’Œé‚»æ¥è¡¨ä¸¤ç§ä¸åŒå­˜å‚¨æ–¹å¼çš„å›¾çš„å»ºç«‹å’Œéå†ï¼Œå…¶ä¸­éå†éƒ¨åˆ†åˆ†åˆ«è¿›è¡Œäº†DFSå’ŒBFSä¸¤ç§ä¸åŒå½¢å¼çš„éå†ã€‚</p><h3 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include&lt;stdio.h&gt;</span></span><br><span class="line"><span class="comment">#include&lt;stdlib.h&gt;</span></span><br><span class="line"><span class="comment">#include&lt;string.h&gt; </span></span><br><span class="line"><span class="comment">#include&lt;stack&gt;</span></span><br><span class="line"><span class="comment">#include&lt;queue&gt;</span></span><br><span class="line">using namespace std;</span><br><span class="line"> </span><br><span class="line">/********************************å›¾çš„å­˜å‚¨ç»“æ„å®šä¹‰***********************/</span><br><span class="line"><span class="comment">#define MaxVerNum 30           </span></span><br><span class="line"><span class="comment">#define Vextype char</span></span><br><span class="line"><span class="comment">#define EdgeInfoType int</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#define INF 999      //æ— ç©·å¤§ </span></span><br><span class="line"><span class="comment">#define MAXSIZE 100</span></span><br><span class="line"> </span><br><span class="line">typedef  struct</span><br><span class="line">{</span><br><span class="line">    Vextype  vexs[MaxVerNum];</span><br><span class="line">    EdgeInfoType edges[MaxVerNum][MaxVerNum];</span><br><span class="line">    <span class="built_in">int</span> n, e;</span><br><span class="line">}MGragh;</span><br><span class="line"> </span><br><span class="line">typedef  struct node</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">int</span> adjvex;</span><br><span class="line">    EdgeInfoType  Info;</span><br><span class="line">    struct node * <span class="built_in">next</span>;</span><br><span class="line">}EdgeNode;</span><br><span class="line"> </span><br><span class="line">typedef struct vnode</span><br><span class="line">{</span><br><span class="line">    Vextype  vertex;</span><br><span class="line">    EdgeNode *firstedge;</span><br><span class="line">}VertexNode;</span><br><span class="line"> </span><br><span class="line">typedef  struct</span><br><span class="line">{</span><br><span class="line">    VertexNode  adjlist[MaxVerNum];</span><br><span class="line">    <span class="built_in">int</span>   n, e;</span><br><span class="line">}ALGraph;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">int</span> visited[MaxVerNum];   //é¡¶ç‚¹è®¿é—®æ ‡è®° </span><br><span class="line"> </span><br><span class="line">/*å»ºç«‹å›¾Gçš„é‚»æ¥çŸ©é˜µ  */</span><br><span class="line"><span class="built_in">int</span> returnId(MGragh *g, char c){</span><br><span class="line">//è¿”å›cåœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i&lt;MaxVerNum; ++i)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (g-&gt;vexs[i] == c) <span class="keyword">return</span> i;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line">void CreateGraph(MGragh *g)</span><br><span class="line">{</span><br><span class="line">    scanf(<span class="string">"%d %d\n"</span>, &amp;(g-&gt;n), &amp;(g-&gt;e));</span><br><span class="line"> </span><br><span class="line">    char c;</span><br><span class="line">    <span class="built_in">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">while</span> ((c = getchar()) == <span class="string">' '</span>);</span><br><span class="line">        <span class="keyword">if</span> (c == <span class="string">'\n'</span>) <span class="keyword">break</span>;</span><br><span class="line">        g-&gt;vexs[i++] = c;</span><br><span class="line">    }</span><br><span class="line">    Vextype s, e;</span><br><span class="line">    EdgeInfoType cost;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i&lt;g-&gt;n; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j&lt;g-&gt;n; j++)</span><br><span class="line">        {</span><br><span class="line">            g-&gt;edges[i][j] = <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i&lt;g-&gt;e; ++i)</span><br><span class="line">    {</span><br><span class="line">        scanf(<span class="string">"%c %c %d\n"</span>, &amp;s, &amp;e, &amp;cost);</span><br><span class="line">        g-&gt;edges[returnId(g, s)][returnId(g, e)] = cost;</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">/* æ ¹æ®å›¾çš„é‚»æ¥çŸ©é˜µå»ºç«‹å›¾çš„é‚»æ¥è¡¨ */</span><br><span class="line">void CreateALGraph(MGragh *mg, ALGraph *alg)</span><br><span class="line">{</span><br><span class="line">    alg-&gt;n = mg-&gt;n; alg-&gt;e = mg-&gt;e;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i&lt;alg-&gt;n; ++i)</span><br><span class="line">    {</span><br><span class="line">        alg-&gt;adjlist[i].vertex = mg-&gt;vexs[i];</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">int</span> i, j;</span><br><span class="line">    EdgeNode *s;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; alg-&gt;n; ++i)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; alg-&gt;n; ++j)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> (mg-&gt;edges[i][j] != <span class="number">0</span>)</span><br><span class="line">            {</span><br><span class="line">                s = (EdgeNode*)malloc(sizeof(EdgeNode));</span><br><span class="line">                s-&gt;adjvex = j;</span><br><span class="line">                s-&gt;Info = mg-&gt;edges[i][j];</span><br><span class="line">                s-&gt;<span class="built_in">next</span> = NULL;</span><br><span class="line">                EdgeNode*p = alg-&gt;adjlist[i].firstedge;</span><br><span class="line">                s-&gt;<span class="built_in">next</span> = p;</span><br><span class="line">                alg-&gt;adjlist[i].firstedge = s;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">//æ‰“å°å›¾(é‚»æ¥çŸ©é˜µ) </span><br><span class="line">void printGragh(MGragh *g)</span><br><span class="line">{</span><br><span class="line">    printf(<span class="string">"\nå›¾Gçš„é‚»æ¥çŸ©é˜µ\n"</span>);</span><br><span class="line">    printf(<span class="string">"é¡¶ç‚¹ï¼š\n"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i&lt;g-&gt;n; i++)</span><br><span class="line">    {</span><br><span class="line">        printf(<span class="string">"%c\t"</span>, g-&gt;vexs[i]);</span><br><span class="line">    }</span><br><span class="line">    printf(<span class="string">"\né‚»æ¥çŸ©é˜µï¼š\n"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i&lt;g-&gt;n; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j&lt;g-&gt;n; j++)</span><br><span class="line">        {</span><br><span class="line">            printf(<span class="string">"%d\t"</span>, g-&gt;edges[i][j]);</span><br><span class="line">        }</span><br><span class="line">        printf(<span class="string">"\n"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">//æ‰“å°å›¾(é‚»æ¥è¡¨) </span><br><span class="line">void printALGragh(ALGraph *g)</span><br><span class="line">{</span><br><span class="line">    printf(<span class="string">"\nå›¾Gçš„é‚»æ¥è¡¨\n"</span>);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i&lt;g-&gt;n; i++)</span><br><span class="line">    {</span><br><span class="line">        printf(<span class="string">"%c:"</span>, g-&gt;adjlist[i].vertex);</span><br><span class="line"> </span><br><span class="line">        EdgeNode* edge = g-&gt;adjlist[i].firstedge;</span><br><span class="line">        <span class="keyword">while</span> (edge)</span><br><span class="line">        {</span><br><span class="line">            printf(<span class="string">"--&gt;"</span>);</span><br><span class="line">            printf(<span class="string">"%d:%d\t"</span>, edge-&gt;adjvex, edge-&gt;Info);</span><br><span class="line">            edge = edge-&gt;<span class="built_in">next</span>;</span><br><span class="line">        }</span><br><span class="line">        printf(<span class="string">"%\n"</span>);</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">/**********************DFS*********************/</span><br><span class="line">//ä»é¡¶ç‚¹vå¼€å§‹å›¾(é‚»æ¥çŸ©é˜µ)çš„æ·±åº¦éå† </span><br><span class="line">void DFS_MG(MGragh *g, <span class="built_in">int</span> v)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">int</span> j;</span><br><span class="line">    visited[v] = <span class="number">1</span>;</span><br><span class="line">    printf(<span class="string">"%c "</span>, g-&gt;vexs[v]);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (j = <span class="number">0</span>; j&lt;g-&gt;n; ++j)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (g-&gt;edges[v][j] != <span class="number">0</span>  &amp;&amp;  !visited[j])</span><br><span class="line">            DFS_MG(g, j);</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">//å›¾çš„(é‚»æ¥çŸ©é˜µ)çš„æ·±åº¦éå† </span><br><span class="line">void DFSTranverse_MG(MGragh *g)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i&lt;g-&gt;n; ++i){</span><br><span class="line">        visited[i] = <span class="number">0</span>;  //åˆå§‹åŒ–è®¿é—®æ•°ç»„visitedçš„å…ƒç´ å€¼ä¸ºfalse</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i&lt;g-&gt;n; ++i){</span><br><span class="line">        <span class="keyword">if</span> (!visited[i]){ //èŠ‚ç‚¹å°šæœªè®¿é—®</span><br><span class="line">            DFS_MG(g, i);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">//ä»é¡¶ç‚¹vå¼€å§‹å›¾(é‚»æ¥è¡¨)çš„æ·±åº¦éå†</span><br><span class="line">void DFS_ALG(ALGraph *g, <span class="built_in">int</span> v)</span><br><span class="line">{</span><br><span class="line">    visited[v] = <span class="number">1</span>;</span><br><span class="line">    printf(<span class="string">"%c "</span>, g-&gt;adjlist[v].vertex);</span><br><span class="line"> </span><br><span class="line">    EdgeNode *p =g-&gt;adjlist[v].firstedge;</span><br><span class="line">    <span class="keyword">while</span> (p){</span><br><span class="line">        <span class="keyword">if</span> (!visited[p-&gt;adjvex]){</span><br><span class="line">            DFS_ALG(g, p-&gt;adjvex); //é€’å½’æ·±åº¦éå†</span><br><span class="line">        }</span><br><span class="line">        p = p-&gt;<span class="built_in">next</span>;</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">//å›¾(é‚»æ¥è¡¨)çš„æ·±åº¦éå†</span><br><span class="line">void DFSTranverse_ALG(ALGraph *g)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i&lt;g-&gt;n; ++i){</span><br><span class="line">        visited[i] = <span class="number">0</span>;  //åˆå§‹åŒ–è®¿é—®æ•°ç»„visitedçš„å…ƒç´ å€¼ä¸ºfalse</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i&lt;g-&gt;n; ++i){</span><br><span class="line">        <span class="keyword">if</span> (!visited[i]){ //èŠ‚ç‚¹å°šæœªè®¿é—®</span><br><span class="line">            DFS_ALG(g, i);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">/**************************BFS****************************/</span><br><span class="line"> </span><br><span class="line">//ä»é¡¶ç‚¹vå¼€å§‹å›¾(é‚»æ¥çŸ©é˜µ)çš„å¹¿åº¦éå† </span><br><span class="line">void BFS_MG(MGragh *g, <span class="built_in">int</span> v)</span><br><span class="line">{</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">int</span> j;</span><br><span class="line">    queue&lt;<span class="built_in">int</span>&gt; Q;</span><br><span class="line">    visited[v] = <span class="number">1</span>;</span><br><span class="line">    printf(<span class="string">"%c "</span>, g-&gt;vexs[v]);</span><br><span class="line"> </span><br><span class="line">    Q.push(v);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">while</span> (!Q.empty())</span><br><span class="line">    {</span><br><span class="line">            </span><br><span class="line">        v = Q.front();</span><br><span class="line">        Q.pop();</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j&lt;g-&gt;n; ++j)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> (!visited[j] &amp;&amp; g-&gt;edges[v][j] !=<span class="number">0</span>)// INFINITY)</span><br><span class="line">            {</span><br><span class="line">                visited[j] = <span class="number">1</span>;</span><br><span class="line">                printf(<span class="string">"%c "</span>, g-&gt;vexs[j]);</span><br><span class="line">                Q.push(j);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">//å›¾(é‚»æ¥çŸ©é˜µ)çš„å¹¿åº¦éå†</span><br><span class="line">void BFSTranverse_MG(MGragh *g)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i&lt;g-&gt;n; ++i){</span><br><span class="line">        visited[i] = <span class="number">0</span>;  //åˆå§‹åŒ–è®¿é—®æ•°ç»„visitedçš„å…ƒç´ å€¼ä¸ºfalse</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i&lt;g-&gt;n; ++i){</span><br><span class="line">        <span class="keyword">if</span> (!visited[i]){ //èŠ‚ç‚¹å°šæœªè®¿é—®</span><br><span class="line">            BFS_MG(g, i);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">//ä»é¡¶ç‚¹vå¼€å§‹å›¾(é‚»æ¥è¡¨)çš„å¹¿åº¦éå† </span><br><span class="line">void BFS_ALG(ALGraph *g, <span class="built_in">int</span> v)</span><br><span class="line">{</span><br><span class="line">    queue&lt;<span class="built_in">int</span> &gt; Q;</span><br><span class="line">    visited[v] = <span class="number">1</span>;</span><br><span class="line">    printf(<span class="string">"%c "</span>, g-&gt;adjlist[v].vertex);</span><br><span class="line">            </span><br><span class="line">    Q.push(v);</span><br><span class="line">    <span class="keyword">while</span> (!Q.empty()){     </span><br><span class="line">        v = Q.front();</span><br><span class="line">        Q.pop();</span><br><span class="line">        EdgeNode *p = g-&gt;adjlist[v].firstedge;</span><br><span class="line">        <span class="keyword">while</span> (p){</span><br><span class="line">            <span class="keyword">if</span> (!visited[p-&gt;adjvex]){</span><br><span class="line">            visited[p-&gt;adjvex] = <span class="number">1</span>;</span><br><span class="line">            printf(<span class="string">"%c "</span>, g-&gt;adjlist[p-&gt;adjvex].vertex);            </span><br><span class="line">            Q.push(p-&gt;adjvex);</span><br><span class="line">            }</span><br><span class="line">            p = p-&gt;<span class="built_in">next</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">//å›¾(é‚»æ¥è¡¨)çš„å¹¿åº¦éå† </span><br><span class="line">void BFSTranverse_ALG(ALGraph *g)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i&lt;g-&gt;n; ++i){</span><br><span class="line">        visited[i] = <span class="number">0</span>;  //åˆå§‹åŒ–è®¿é—®æ•°ç»„visitedçš„å…ƒç´ å€¼ä¸ºfalse</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i&lt;g-&gt;n; ++i){</span><br><span class="line">        <span class="keyword">if</span> (!visited[i]){ //èŠ‚ç‚¹å°šæœªè®¿é—®</span><br><span class="line">            BFS_ALG(g, i);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">/************************åˆå§‹åŒ–ä¸é”€æ¯********************************/</span><br><span class="line">MGragh *init_MGraph()</span><br><span class="line">{</span><br><span class="line">    MGragh *mg = (MGragh *)malloc(sizeof(MGragh));</span><br><span class="line">    <span class="keyword">if</span> (mg)</span><br><span class="line">    {</span><br><span class="line">        mg-&gt;n = <span class="number">0</span>;</span><br><span class="line">        mg-&gt;e = <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> mg;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">ALGraph *init_ALGraph()</span><br><span class="line">{</span><br><span class="line">    ALGraph *alg = (ALGraph *)malloc(sizeof(ALGraph));</span><br><span class="line">    <span class="keyword">if</span> (alg)</span><br><span class="line">    {</span><br><span class="line">        alg-&gt;n = <span class="number">0</span>;</span><br><span class="line">        alg-&gt;e = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i&lt;MaxVerNum; i++)</span><br><span class="line">            alg-&gt;adjlist[i].firstedge = NULL;</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> alg;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">void destroy_MGraph(MGragh **g)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">if</span> (*g)</span><br><span class="line">    {</span><br><span class="line">        free(*g);</span><br><span class="line">        *g = NULL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">void destroy_ALGraph(ALGraph **g)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; (*g)-&gt;n; ++i)</span><br><span class="line">    {</span><br><span class="line">        EdgeNode *p = (*g)-&gt;adjlist[i].firstedge;</span><br><span class="line">        <span class="keyword">while</span> (p)</span><br><span class="line">        {</span><br><span class="line">            EdgeNode *q = p-&gt;<span class="built_in">next</span>;</span><br><span class="line">            free(p);</span><br><span class="line">            p = q;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> (*g)</span><br><span class="line">    {</span><br><span class="line">        free(*g);</span><br><span class="line">        *g = NULL;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">/****mainå‡½æ•°*************/</span><br><span class="line"><span class="built_in">int</span> main()</span><br><span class="line">{</span><br><span class="line">    freopen(<span class="string">"æ•°æ®.txt"</span>, <span class="string">"r"</span>, stdin);</span><br><span class="line">    //åˆ›å»ºå›¾ï¼ˆé‚»æ¥çŸ©é˜µï¼‰ </span><br><span class="line">    MGragh *mG = init_MGraph();</span><br><span class="line">    CreateGraph(mG);</span><br><span class="line">    printGragh(mG);</span><br><span class="line"> </span><br><span class="line">    //åˆ›å»ºå›¾ï¼ˆé‚»æ¥è¡¨ï¼‰ </span><br><span class="line">    ALGraph *alG = init_ALGraph();</span><br><span class="line">    CreateALGraph(mG, alG);</span><br><span class="line">    printALGragh(alG);</span><br><span class="line"> </span><br><span class="line">    </span><br><span class="line">    //DFSéå†</span><br><span class="line">    printf(<span class="string">"\nDFSéå†:\n"</span>);</span><br><span class="line">    printf(<span class="string">"é‚»æ¥çŸ©é˜µ:\n"</span>);</span><br><span class="line">    DFSTranverse_MG(mG);</span><br><span class="line">    printf(<span class="string">"\né‚»æ¥è¡¨:\n"</span>);</span><br><span class="line">    DFSTranverse_ALG(alG);</span><br><span class="line"> </span><br><span class="line">    //BFSéå†</span><br><span class="line">    printf(<span class="string">"\n\nBFSéå†:\n"</span>);</span><br><span class="line">    printf(<span class="string">"é‚»æ¥çŸ©é˜µ:\n"</span>);</span><br><span class="line">    BFSTranverse_MG(mG);</span><br><span class="line">    printf(<span class="string">"\né‚»æ¥è¡¨:\n"</span>);</span><br><span class="line">    BFSTranverse_ALG(alG);</span><br><span class="line"> </span><br><span class="line">    //é”€æ¯å›¾</span><br><span class="line">    destroy_MGraph(&amp;mG);</span><br><span class="line">    destroy_ALGraph(&amp;alG);</span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line">//è¿è¡ŒæˆåŠŸ <span class="number">2019</span>å¹´<span class="number">5</span>æœˆ<span class="number">14</span>æ—¥<span class="number">0</span>:<span class="number">19</span>:<span class="number">36</span></span><br></pre></td></tr></tbody></table></figure><h3 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210813224449.png" alt="img" style="zoom: 67%;">]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®ºæ–‡å†™ä½œ</title>
      <link href="/2021/08/13/li-bao-chun-writing-perfect-papers/"/>
      <url>/2021/08/13/li-bao-chun-writing-perfect-papers/</url>
      
        <content type="html"><![CDATA[<h3 id="æè‘†æ˜¥â€”â€”Writing-Perfect-Papers"><a href="#æè‘†æ˜¥â€”â€”Writing-Perfect-Papers" class="headerlink" title="æè‘†æ˜¥â€”â€”Writing Perfect Papers"></a>æè‘†æ˜¥â€”â€”<a href="https://www.bilibili.com/video/BV18v411n7mr?share_source=copy_web">Writing Perfect Papers</a></h3><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210720225101.png" alt="WechatIMG19487" style="zoom:200%;">]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®ºæ–‡å†™ä½œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SVMå­¦ä¹ ç¬”è®°</title>
      <link href="/2021/08/09/svm-xue-xi-bi-ji/"/>
      <url>/2021/08/09/svm-xue-xi-bi-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="SVMå­¦ä¹ ç¬”è®°"><a href="#SVMå­¦ä¹ ç¬”è®°" class="headerlink" title="SVMå­¦ä¹ ç¬”è®°"></a>SVMå­¦ä¹ ç¬”è®°</h2><p><a href="https://www.deeplearningbook.org/">https://www.deeplearningbook.org/</a></p><p><a href="http://page.mi.fu-berlin.de/rojas/neural/neuron.pdf">http://page.mi.fu-berlin.de/rojas/neural/neuron.pdf</a></p><p><a href="https://www.svm-tutorial.com/2014/11/svm-understanding-math-part-1/">https://www.svm-tutorial.com/2014/11/svm-understanding-math-part-1/</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> svm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pandaså­¦ä¹ </title>
      <link href="/2021/08/06/pandas-xue-xi/"/>
      <url>/2021/08/06/pandas-xue-xi/</url>
      
        <content type="html"><![CDATA[<blockquote><p>Video url: <a href="https://www.youtube.com/watch?v=vmEHCJofslg">https://www.youtube.com/watch?v=vmEHCJofslg</a></p><p>Pandas document: <a href="https://pandas.pydata.org/pandas-docs/stable/reference/index.html#api">https://pandas.pydata.org/pandas-docs/stable/reference/index.html#api</a></p><p>Pracice Pandas:   <a href="https://stratascratch.com/?via=keith">https://stratascratch.com/?via=keith</a></p></blockquote><h3 id="1-Loading-data-into-Pandas"><a href="#1-Loading-data-into-Pandas" class="headerlink" title="1. Loading data into Pandas"></a>1. Loading data into Pandas</h3><blockquote><p>1.1 Loading data from csv format file</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># read data from csv format file</span></span><br><span class="line">df = pd.read_csv(<span class="string">'pokemon_data.csv'</span>)</span><br><span class="line"><span class="built_in">print</span>(df.head(<span class="number">3</span>))</span><br></pre></td></tr></tbody></table></figure></blockquote><blockquote><p> 1.2 Loading data from txt format file</p></blockquote><blockquote><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># read data from txt format file</span></span><br><span class="line">df_txt = pd.read_csv(<span class="string">'pokemon_data.txt'</span>, delimiter=<span class="string">'\t'</span>)</span><br><span class="line"><span class="built_in">print</span>(df_txt.head(<span class="number">3</span>))</span><br></pre></td></tr></tbody></table></figure></blockquote><h3 id="2-Read-Data-in-Pandas"><a href="#2-Read-Data-in-Pandas" class="headerlink" title="2. Read Data in Pandas"></a>2. Read Data in Pandas</h3><blockquote><p>2.1 Read head</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df.columns)</span><br></pre></td></tr></tbody></table></figure><p>2.2 Read each Column</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df[<span class="string">'Name'</span>][<span class="number">0</span>:<span class="number">5</span>])</span><br><span class="line"><span class="built_in">print</span>(df.Name[<span class="number">0</span>:<span class="number">5</span>])</span><br><span class="line"><span class="built_in">print</span>(df[[<span class="string">'Name'</span>, <span class="string">'Type 1'</span>, <span class="string">'HP'</span>]][<span class="number">0</span>:<span class="number">5</span>])</span><br></pre></td></tr></tbody></table></figure><p>2.3 Read each Row</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># print the top 4 rows</span></span><br><span class="line"><span class="built_in">print</span>(df.head(<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.iloc[<span class="number">0</span>])</span><br><span class="line"><span class="keyword">for</span> index, row <span class="keyword">in</span> df.iterrows():</span><br><span class="line">    <span class="built_in">print</span>(index, row[<span class="string">'Name'</span>])</span><br></pre></td></tr></tbody></table></figure><p>2.4 Read a specific location(R,C)</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df.iloc[<span class="number">2</span>,<span class="number">1</span>])</span><br></pre></td></tr></tbody></table></figure></blockquote><h3 id="3-Sorting-Describing-Data"><a href="#3-Sorting-Describing-Data" class="headerlink" title="3. Sorting/Describing Data"></a>3. Sorting/Describing Data</h3><blockquote><p> 3.1 View data describe</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df.describe())</span><br></pre></td></tr></tbody></table></figure><p>3.2 Sorting</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort_res = df.sort_values([<span class="string">'Name'</span>,<span class="string">'HP'</span>], ascending=[<span class="number">1</span>, <span class="number">0</span>])</span><br></pre></td></tr></tbody></table></figure></blockquote><h3 id="4-Making-changes-to-the-data"><a href="#4-Making-changes-to-the-data" class="headerlink" title="4. Making changes to the data"></a>4. Making changes to the data</h3><blockquote><p>4.1 Create a new column</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">'Total'</span>] = df[<span class="string">'HP'</span>] + df[<span class="string">'Attack'</span>]</span><br><span class="line">df[<span class="string">'Total'</span>] = df.iloc[:,<span class="number">4</span>:<span class="number">10</span>].<span class="built_in">sum</span>(axis=<span class="number">1</span>)</span><br></pre></td></tr></tbody></table></figure><p>4.2 Delete one column</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = df.drop(columns=[<span class="string">'Total'</span>])</span><br></pre></td></tr></tbody></table></figure></blockquote><h3 id="5-Save-data-to-file"><a href="#5-Save-data-to-file" class="headerlink" title="5. Save data to file"></a>5. Save data to file</h3><blockquote><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.to_csv(<span class="string">'new_data.csv'</span>, index=<span class="literal">False</span>, sep=<span class="string">'\t'</span>)</span><br></pre></td></tr></tbody></table></figure></blockquote><h3 id="6-Filtering-Data"><a href="#6-Filtering-Data" class="headerlink" title="6. Filtering Data"></a>6. Filtering Data</h3><blockquote><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿‡æ»¤å‡ºæ»¡è¶³æ¡ä»¶çš„æ•°æ®ï¼Œè¿‡æ»¤å‡ºæ¥çš„æ•°æ®ä¼šä¿ç•™åŸæ¥çš„åºå·</span></span><br><span class="line">new_df = df.loc[(df[<span class="string">'Type 1'</span>] == <span class="string">'Grass'</span>) &amp; (df[<span class="string">'Type 2'</span>] == <span class="string">'Poison'</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†è¿‡æ»¤å‡ºæ¥çš„æ•°æ®çš„åºå·è¿›è¡Œé‡ç½®</span></span><br><span class="line">new_df.reset_index(drop=<span class="literal">True</span>, inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿‡æ»¤å‡ºâ€œNameâ€åˆ—ä¸­åŒ…å«â€œMegaâ€å­—æ®µçš„æ•°æ®</span></span><br><span class="line">new_df = df.loc[~df[<span class="string">'Name'</span>].<span class="built_in">str</span>.contains(<span class="string">'Mega'</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿‡æ»¤å‡ºâ€œType 1â€åˆ—ä¸­åŒ…å«â€œfirstâ€å’Œâ€œgrassâ€å­—æ®µæ˜¯æ•°æ®ï¼Œå¹¶ä¸”ä¸åŒºåˆ«å¤§å°å†™</span></span><br><span class="line">df.loc[df[<span class="string">'Type 1'</span>].<span class="built_in">str</span>.contains(<span class="string">'fire|Grass'</span>,flags=re.I, regex=<span class="literal">True</span>)] <span class="comment"># Ignore case</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤â€œNameâ€åˆ—ä¸­æ»¡è¶³æ¡ä»¶çš„æ•°æ®</span></span><br><span class="line">df.loc[df[<span class="string">'Name'</span>].<span class="built_in">str</span>.contains(<span class="string">'^pi[a-z]*'</span>, flags=re.I, regex=<span class="literal">True</span>)]</span><br></pre></td></tr></tbody></table></figure></blockquote><h3 id="7-Conditional-changes"><a href="#7-Conditional-changes" class="headerlink" title="7. Conditional changes"></a>7. Conditional changes</h3><blockquote><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŠŠtype 1 åˆ—ä¸­æ»¡è¶³æ¡ä»¶(ç­‰äº'Fire')çš„å†…å®¹æ”¹ä¸ºFlamer</span></span><br><span class="line">df.loc[df[<span class="string">'Type 1'</span>] == <span class="string">'Fire'</span>, <span class="string">'Type 1'</span>] = <span class="string">'Flamer'</span></span><br></pre></td></tr></tbody></table></figure></blockquote><h3 id="8-Aggregate-Statistics-Groupby"><a href="#8-Aggregate-Statistics-Groupby" class="headerlink" title="8. Aggregate Statistics(Groupby)"></a>8. Aggregate Statistics(Groupby)</h3><blockquote><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res = df.groupby([<span class="string">'Type 1'</span>]).mean().sort_values(<span class="string">'HP'</span>, ascending=<span class="literal">False</span>)</span><br></pre></td></tr></tbody></table></figure></blockquote><h3 id="9-Working-with-large-amounts-of-data"><a href="#9-Working-with-large-amounts-of-data" class="headerlink" title="9. Working with large amounts of data"></a>9. Working with large amounts of data</h3><blockquote><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ†æ‰¹è¯»å–æ•°æ®ï¼Œä¸€æ¬¡è¯»100è¡Œ</span></span><br><span class="line"><span class="keyword">for</span> df <span class="keyword">in</span> pd.read_csv(<span class="string">'pokemon_data.csv'</span>, chunk_size=<span class="number">100</span>):</span><br><span class="line">    <span class="built_in">print</span>(df)</span><br></pre></td></tr></tbody></table></figure></blockquote>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pytorchå­¦ä¹ </title>
      <link href="/2021/08/05/pytorch-xue-xi/"/>
      <url>/2021/08/05/pytorch-xue-xi/</url>
      
        <content type="html"><![CDATA[<p>è¯¾ç¨‹[é“¾æ¥](https: // <a href="http://www.youtube.com/">www.youtube.com</a> / watch?v = c36lUUr864M)</p><h3 id="1-Tensor"><a href="#1-Tensor" class="headerlink" title="1. Tensor"></a>1. Tensor</h3><h4 id="1-1-How-to-create-tensor"><a href="#1-1-How-to-create-tensor" class="headerlink" title="1.1 How to create tensor"></a>1.1 How to create tensor</h4><blockquote><p>æ„é€ tensorçš„æ–¹æ³•ä¸»è¦æœ‰å…­ç§ï¼Œåˆ†åˆ«å¦‚ä¸‹ï¼š</p><ol><li><p>x = torch.ones(3, 5, dtype=torch.float, requires_grad = True )</p></li><li><p>x = torch.zeros(3, 5, dtype=torch.float, requires_grad = True )</p></li><li><p>x = torch.rand(3, 5, dtype=torch.float, requires_grad = True )</p></li><li><p>x = torch.empty(3, 5, dtype=torch.float, requires_grad = True )</p></li><li><p>x = torch.tensor([1,2,3], dtype=torch.float, requires_grad = True )</p></li><li><p>x_numpy = np.array([1,2,3])<br>x = torch.from_numpy(x_numpy)</p></li></ol></blockquote><h4 id="1-2-å¯¹Tensorçš„å„ç§æ“ä½œ"><a href="#1-2-å¯¹Tensorçš„å„ç§æ“ä½œ" class="headerlink" title="1.2 å¯¹Tensorçš„å„ç§æ“ä½œ"></a>1.2 å¯¹Tensorçš„å„ç§æ“ä½œ</h4><blockquote><ol><li><p>æŸ¥çœ‹æ•°æ®ç±»å‹ï¼šx.dtype</p></li><li><p>æŸ¥çœ‹sizeï¼šx.size()</p></li><li><p>å¦‚æœtensoråªæœ‰ä¸€ä¸ªå€¼ï¼ŒæŸ¥çœ‹å®æ•°å€¼ï¼šx.item()</p></li><li><p>æ”¹å˜tensorçš„å½¢çŠ¶å¤§å°ï¼šx = x.view(num_row, num_col)</p></li><li><p>å°†tensorè½¬ä¸ºnumpy: z = x.detach().numpy()</p></li></ol><p> â€‹       æ³¨æ„ï¼šnumpyåªèƒ½å­˜æ”¾åˆ°cpuä¸Šé¢,å¹¶ä¸”ä¸èƒ½æ˜¯åŒ…å«æ¢¯åº¦çš„tensorï¼Œè½¬æ¢ä¹‹åå…±äº«ç›¸åŒçš„å†…å­˜</p><ol start="6"><li>æ„é€ æ–°çš„ä¸åŒ…å«æ¢¯åº¦çš„tensorï¼šz = x.detach()</li></ol><ol start="7"><li>å¯¹tensorè¿›è¡Œå„ç§è½¬æ¢ï¼š .to() eg: x.to(int)</li></ol></blockquote><h4 id="1-3-åŸºæœ¬è¿ç®—"><a href="#1-3-åŸºæœ¬è¿ç®—" class="headerlink" title="1.3 åŸºæœ¬è¿ç®—"></a>1.3 åŸºæœ¬è¿ç®—</h4><blockquote><ol><li>add: z = x+y</li><li>minus: z = x-y</li><li>multi: z = x*y</li><li>div: z = x/y</li><li>åˆ‡ç‰‡æ“ä½œï¼šåˆ‡ç‰‡æ“ä½œååˆ†çµæ´»ï¼Œç”¨åˆ°çš„æ—¶å€™æŸ¥è¯¢æ–‡æ¡£</li></ol></blockquote><h3 id="2-Autograd"><a href="#2-Autograd" class="headerlink" title="2. Autograd"></a>2. Autograd</h3><h4 id="2-1-Calculate-the-gradients"><a href="#2-1-Calculate-the-gradients" class="headerlink" title="2.1 Calculate the gradients"></a>2.1 Calculate the gradients</h4><blockquote><p>ç”¨ z.backward() æ¥è®¡ç®—zå…³äºå˜é‡çš„æ¢¯åº¦ï¼Œå¦‚æœæ­£å‘è®¡ç®—å‡ºæ¥çš„zæ˜¯ä¸€ä¸ªå®æ•°å€¼ï¼Œåˆ™backwardçš„å‚æ•°ä¸ºé»˜è®¤å€¼å°±å¥½ï¼Œå¦‚æœzæ˜¯ä¸€ä¸ªå‘é‡ï¼Œåˆ™è°ƒç”¨backward()çš„æ—¶å€™éœ€è¦ä¼ å…¥ä¸€ä¸ªä¸zçš„sizeç›¸åŒçš„å‘é‡.</p><p>  å¦‚ä¸‹é¢çš„ç¤ºä¾‹æ‰€ç¤ºã€‚  </p>  <figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">x = torch.randn(<span class="number">3</span>, dtype=<span class="built_in">float</span>, requires_grad = <span class="literal">True</span>)</span><br><span class="line">y=x*x+<span class="number">2</span>*x+<span class="number">5</span></span><br><span class="line">z = torch.mean(y)</span><br><span class="line">z.backward() <span class="comment"># dz/dx jacobian matrix to get the grad</span></span><br><span class="line"><span class="comment"># z.backward()è¿™ä¸€æ­¥æ˜¯ç”¨é›…å¯æ¯”çŸ©é˜µæ¥è®¡ç®—æ¢¯åº¦ï¼Œå¦‚æœæ­£å‘è®¡ç®—å‡ºæ¥çš„zæ˜¯</span></span><br><span class="line"><span class="comment"># ä¸€ä¸ªå®æ•°å€¼ï¼Œåˆ™backwardçš„å‚æ•°ä¸ºé»˜è®¤å€¼å°±å¥½ï¼Œå¦‚æœzæ˜¯ä¸€ä¸ªå‘é‡ï¼Œåˆ™è°ƒç”¨</span></span><br><span class="line"><span class="comment"># backward()çš„æ—¶å€™éœ€è¦ä¼ å…¥ä¸€ä¸ªä¸zçš„sizeç›¸åŒçš„å‘é‡</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># y = x*x*2+x</span></span><br><span class="line"><span class="comment"># v = torch.tensor([1.00,0.10,0.200], dtype=torch.float32)</span></span><br><span class="line"><span class="comment"># y.backward(v)</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="built_in">print</span>(x.grad)</span><br></pre></td></tr></tbody></table></figure></blockquote><h4 id="2-2-How-to-prevent-pytorch-from-tracking-the-history-and-calculating-this-grad-fn-attribute"><a href="#2-2-How-to-prevent-pytorch-from-tracking-the-history-and-calculating-this-grad-fn-attribute" class="headerlink" title="2.2 How to prevent pytorch from tracking the history and calculating this grad fn attribute."></a>2.2 How to prevent pytorch from tracking the history and calculating this grad fn attribute.</h4><blockquote><p>ä¸€å…±æœ‰ä¸‰ç§æ–¹æ³•è®©tensorä¸è¢«è®¡ç®—å›¾è¿½è¸ªæ¢¯åº¦ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><p>1ï¼‰ x.requires_grad_(False)</p><p>2ï¼‰ x.detach()</p><p>3ï¼‰ with torch.no_grad(): pass</p><p>å…·ä½“ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">x = torch.randn(<span class="number">3</span>, requires_grad = <span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"><span class="comment"># è®©å¼ é‡xä¸åœ¨è¿½è¸ªæ¢¯åº¦çš„æ–¹æ³•æœ‰ä¸‰ç§</span></span><br><span class="line"><span class="comment"># x.requires_grad_(False)</span></span><br><span class="line"><span class="comment"># x.detach()</span></span><br><span class="line"><span class="comment"># with torch.no_grad():</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> torch.no_grad():</span><br><span class="line">    y = x+<span class="number">2</span></span><br><span class="line">    <span class="built_in">print</span>(x) <span class="comment"># x with grad</span></span><br><span class="line">    <span class="built_in">print</span>(y) <span class="comment"># y without grad</span></span><br></pre></td></tr></tbody></table></figure></blockquote><h4 id="2-3-æ¢¯åº¦ç´¯ç§¯"><a href="#2-3-æ¢¯åº¦ç´¯ç§¯" class="headerlink" title="2.3 æ¢¯åº¦ç´¯ç§¯"></a>2.3 æ¢¯åº¦ç´¯ç§¯</h4><blockquote><p>è°ƒç”¨backward()æ¥è®¡ç®—æ¢¯åº¦çš„æ—¶å€™ï¼Œå½“å‰è½®æ¬¡çš„æ¢¯åº¦ï¼Œæ˜¯ä¹‹å‰æ‰€æœ‰è½®æ¬¡æ¢¯åº¦çš„ç´¯ç§¯å’Œï¼Œåœ¨æ¢¯åº¦ä¸‹é™å­¦ä¹ ä¸­è¿™æ˜¯æˆ‘ä»¬ä¸æƒ³çœ‹åˆ°çš„ï¼Œå¯ä»¥è°ƒç”¨zero_()å‡½æ•°æ¥å°†æ¢¯åº¦å˜ä¸º0.</p><p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">weights = torch.ones(<span class="number">3</span>, requires_grad=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">    model_output = (weights*<span class="number">3</span>).<span class="built_in">sum</span>()</span><br><span class="line">    model_output.backward()</span><br><span class="line">    <span class="built_in">print</span>(weights.grad)</span><br><span class="line"><span class="comment">#     weights.grad.zero_()</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># è¾“å‡ºç»“æœä¸ºï¼š</span></span><br><span class="line"><span class="comment"># tensor([3., 3., 3.])</span></span><br><span class="line"><span class="comment"># tensor([6., 6., 6.])</span></span><br><span class="line"><span class="comment"># ç¬¬ä¸€ä¸ªepochä¸º3ï¼Œç¬¬äºŒä¸ªepochä¸º6ï¼Œè¯´æ˜æ¢¯åº¦åœ¨ç´¯åŠ </span></span><br><span class="line"><span class="comment"># å› ä¸ºæ¢¯åº¦ç´¯ç§¯æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›çœ‹åˆ°çš„ï¼Œæ‰€ä»¥æ¯æ¬¡è¿­ä»£çš„æ—¶å€™æˆ‘ä»¬å¸Œæœ›æ¢¯åº¦</span></span><br><span class="line"><span class="comment"># èƒ½å¤Ÿæ¸…é›¶ï¼Œæ¢¯åº¦æ¸…é›¶ç”¨.grad.zero_()å‡½æ•°</span></span><br></pre></td></tr></tbody></table></figure></blockquote><h3 id="3-Backpropagation"><a href="#3-Backpropagation" class="headerlink" title="3. Backpropagation"></a>3. Backpropagation</h3><blockquote><p>è°ƒç”¨backward()å‡½æ•°æ¥è¿›è¡Œåå‘ä¼ æ’­ï¼Œè®¡ç®—æ¢¯åº¦ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">x = torch.tensor(<span class="number">1</span>, dtype=torch.float32, requires_grad=<span class="literal">False</span>)</span><br><span class="line">y = torch.tensor(<span class="number">2</span>, dtype=torch.float32, requires_grad=<span class="literal">False</span>)</span><br><span class="line">w = torch.tensor(<span class="number">1</span>, dtype=torch.float32, requires_grad=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">loss = (x*w-y)**<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(loss)</span><br><span class="line"></span><br><span class="line">loss.backward()</span><br><span class="line"><span class="built_in">print</span>(w.grad)</span><br><span class="line"></span><br><span class="line"><span class="comment">## output:</span></span><br><span class="line"><span class="comment"># tensor(1., grad_fn=&lt;PowBackward0&gt;)</span></span><br><span class="line"><span class="comment"># tensor(-2.)</span></span><br></pre></td></tr></tbody></table></figure></blockquote><h3 id="4-Optimize-model-with-automatic-gradient-computation"><a href="#4-Optimize-model-with-automatic-gradient-computation" class="headerlink" title="4. Optimize model with automatic gradient computation"></a>4. Optimize model with automatic gradient computation</h3><h4 id="4-1-ç”¨numpyå®ç°å›å½’ç®—æ³•"><a href="#4-1-ç”¨numpyå®ç°å›å½’ç®—æ³•" class="headerlink" title="4.1 ç”¨numpyå®ç°å›å½’ç®—æ³•"></a>4.1 ç”¨numpyå®ç°å›å½’ç®—æ³•</h4><blockquote><p>å®ç°å›å½’ç®—æ³•åˆ†ä¸ºå¦‚ä¸‹å‡ æ­¥ï¼š</p><p>â€‹1ï¼‰ æ•°æ®å‡†å¤‡</p><p>â€‹2ï¼‰å®šä¹‰function</p><p>â€‹3ï¼‰å®šä¹‰loss function</p><p>â€‹4ï¼‰ å®šä¹‰æ¢¯åº¦è®¡ç®—å…¬å¼</p><p>â€‹5ï¼‰ ç¼–å†™training loopéƒ¨åˆ†ä»£ç </p><p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># f = w * x </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># f = 2 * x</span></span><br><span class="line"><span class="comment"># 1. ç”¨numpyæ‰‹åŠ¨å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># prepare dataset</span></span><br><span class="line">X = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>], dtype=np.float32)</span><br><span class="line">y = np.array([<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">13</span>,<span class="number">20</span>], dtype=np.float32)</span><br><span class="line"></span><br><span class="line">w = <span class="number">0.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># model prediction</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> w*x</span><br><span class="line"></span><br><span class="line"><span class="comment"># loss = MSE</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">loss</span>(<span class="params">y, y_pred</span>):</span><br><span class="line">    <span class="keyword">return</span> ((y_pred - y)**<span class="number">2</span>).mean()</span><br><span class="line"></span><br><span class="line"><span class="comment"># gradient</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">gradient</span>(<span class="params">x,y,y_pred</span>):</span><br><span class="line">    <span class="keyword">return</span> (<span class="number">2</span>*x*(y_pred - y)).mean()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f'Prediction before training: f(5) = <span class="subst">{forward(<span class="number">5</span>):<span class="number">.5</span>f}</span>'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Training</span></span><br><span class="line">learning_rate = <span class="number">0.1</span></span><br><span class="line">n_iters = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n_iters):</span><br><span class="line">    y_pred = forward(X)</span><br><span class="line">    l = loss(y, y_pred)</span><br><span class="line">    dw = gradient(x, y, y_pred)</span><br><span class="line">    w -= learning_rate*dw</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f'epoch <span class="subst">{i+<span class="number">1</span>}</span>: w = <span class="subst">{w:<span class="number">.3</span>f}</span>, loss = <span class="subst">{l:<span class="number">.10</span>f}</span>'</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f'Prediction after training: f(5) = <span class="subst">{forward(<span class="number">5</span>):<span class="number">.5</span>f}</span>'</span>)</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></blockquote><h4 id="4-2-ç”¨pytorchæ›¿æ¢æ•°æ®ç±»å‹å’Œæ¢¯åº¦è®¡ç®—"><a href="#4-2-ç”¨pytorchæ›¿æ¢æ•°æ®ç±»å‹å’Œæ¢¯åº¦è®¡ç®—" class="headerlink" title="4.2 ç”¨pytorchæ›¿æ¢æ•°æ®ç±»å‹å’Œæ¢¯åº¦è®¡ç®—"></a>4.2 ç”¨pytorchæ›¿æ¢æ•°æ®ç±»å‹å’Œæ¢¯åº¦è®¡ç®—</h4><blockquote><p>ä»£ç å®ç°æ€è·¯ä¸4.1ä¸€æ ·ï¼Œæ²¡æœ‰åšä»»ä½•å˜åŒ–ã€‚</p><p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2. Do with pytorch</span></span><br><span class="line">X = torch.tensor([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">10</span>], dtype=torch.float32)</span><br><span class="line">y = torch.tensor([<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>,<span class="number">12</span>,<span class="number">20</span>], dtype=torch.float32)</span><br><span class="line"></span><br><span class="line">w = torch.tensor(<span class="number">0.0</span>, dtype=torch.float32, requires_grad = <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># model prediction</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> w*x</span><br><span class="line"></span><br><span class="line"><span class="comment"># loss = MSE</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">loss</span>(<span class="params">y, y_pred</span>):</span><br><span class="line">    <span class="keyword">return</span> ((y_pred - y)**<span class="number">2</span>).mean()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f'Prediction before training: f(5) = <span class="subst">{forward(<span class="number">5</span>):<span class="number">.5</span>f}</span>'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Training</span></span><br><span class="line">learning_rate = <span class="number">0.0001</span></span><br><span class="line">n_iters = <span class="number">10000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n_iters):</span><br><span class="line">    y_pred = forward(X)</span><br><span class="line">    </span><br><span class="line">    l = loss(y, y_pred)</span><br><span class="line">    </span><br><span class="line">    l.backward()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        w -= learning_rate*w.grad</span><br><span class="line">    </span><br><span class="line">    w.grad.zero_()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (i+<span class="number">1</span>) %<span class="number">1000</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f'epoch <span class="subst">{i+<span class="number">1</span>}</span>: w = <span class="subst">{w:<span class="number">.3</span>f}</span>, loss = <span class="subst">{l:<span class="number">.10</span>f}</span>'</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f'Prediction after training: f(5) = <span class="subst">{forward(<span class="number">5</span>):<span class="number">.5</span>f}</span>'</span>)</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></blockquote><h4 id="4-3-ç”¨pytorchæ¥åšæ¢¯åº¦è®¡ç®—å’Œä¼˜åŒ–"><a href="#4-3-ç”¨pytorchæ¥åšæ¢¯åº¦è®¡ç®—å’Œä¼˜åŒ–" class="headerlink" title="4.3 ç”¨pytorchæ¥åšæ¢¯åº¦è®¡ç®—å’Œä¼˜åŒ–"></a>4.3 ç”¨pytorchæ¥åšæ¢¯åº¦è®¡ç®—å’Œä¼˜åŒ–</h4><blockquote><p>4.2 æˆ‘ä»¬ç”¨äº†backward()å‡½æ•°æ¥è‡ªåŠ¨è®¡ç®—æ¢¯åº¦ï¼Œä½†æ˜¯æ¢¯åº¦ä¸‹é™ä¼˜åŒ–ç®—æ³•ä¾ç„¶æ˜¯æˆ‘ä»¬åœ¨4.1ç‰ˆæœ¬ä¸­çš„æ‰‹å·¥ç¼–å†™çš„å…¬å¼ï¼Œè¿™é‡Œæˆ‘ä»¬åœ¨ä¹‹å‰çš„åŸºç¡€ä¸Šé¢æ›´è¿›ä¸€æ­¥ï¼Œç”¨pytorchæ¡†æ¶ä¸­çš„optimizeræ¥æ›¿æ¢æ‰æ‰‹å·¥ç¼–å†™çš„æ¢¯åº¦ä¸‹é™æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1ï¼‰ Design model (input, output size, forward pass)</span></span><br><span class="line"><span class="comment"># 2) Construct loss and optimizer</span></span><br><span class="line"><span class="comment"># 3) Training loop</span></span><br><span class="line"><span class="comment">#    - forward pass: compute prediction</span></span><br><span class="line"><span class="comment">#    - backward pass: gradients</span></span><br><span class="line"><span class="comment">#    - update weight</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line">X = torch.tensor([[<span class="number">1</span>],[<span class="number">2</span>],[<span class="number">3</span>],[<span class="number">4</span>],[<span class="number">5</span>],[<span class="number">6</span>],[<span class="number">10</span>]], dtype=torch.float32)</span><br><span class="line">y = torch.tensor([[<span class="number">2</span>],[<span class="number">4</span>],[<span class="number">6</span>],[<span class="number">8</span>],[<span class="number">10</span>],[<span class="number">12</span>],[<span class="number">20</span>]], dtype=torch.float32)</span><br><span class="line">x_test = torch.tensor([<span class="number">5</span>], dtype=torch.float32)</span><br><span class="line"></span><br><span class="line">n_samples, n_features = X.shape</span><br><span class="line"><span class="built_in">print</span>(n_samples, n_features)</span><br><span class="line"></span><br><span class="line">input_size = n_features</span><br><span class="line">output_size = n_features</span><br><span class="line"></span><br><span class="line">model = nn.Linear(input_size, output_size)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f'Prediction before training: f(5) = <span class="subst">{model(x_test).item():<span class="number">.5</span>f}</span>'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Training</span></span><br><span class="line">learning_rate = <span class="number">0.01</span></span><br><span class="line">n_iters = <span class="number">1000</span></span><br><span class="line"></span><br><span class="line">loss = nn.MSELoss()</span><br><span class="line">optimizer = torch.optim.SGD(model.parameters(), lr=learning_rate)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n_iters):</span><br><span class="line">    y_pred = model(X)</span><br><span class="line">    </span><br><span class="line">    l = loss(y, y_pred)</span><br><span class="line">    </span><br><span class="line">    l.backward()</span><br><span class="line">    optimizer.step()</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">#     w.grad.zero_()</span></span><br><span class="line">    optimizer.zero_grad()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (i+<span class="number">1</span>) %<span class="number">1000</span> == <span class="number">0</span>:</span><br><span class="line">        [w, b] = model.parameters()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f'epoch <span class="subst">{i+<span class="number">1</span>}</span>: w = <span class="subst">{w[<span class="number">0</span>][<span class="number">0</span>].item():<span class="number">.3</span>f}</span>, loss = <span class="subst">{l:<span class="number">.10</span>f}</span>'</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f'Prediction after training: f(5) = <span class="subst">{model(x_test).item():<span class="number">.5</span>f}</span>'</span>)</span><br></pre></td></tr></tbody></table></figure></blockquote><h4 id="4-4-å®šä¹‰æ›´åŠ å¤æ‚çš„æ¨¡å‹"><a href="#4-4-å®šä¹‰æ›´åŠ å¤æ‚çš„æ¨¡å‹" class="headerlink" title="4.4 å®šä¹‰æ›´åŠ å¤æ‚çš„æ¨¡å‹"></a>4.4 å®šä¹‰æ›´åŠ å¤æ‚çš„æ¨¡å‹</h4><blockquote><p>4.3 åŠå…¶ä¹‹å‰çš„å·¥ä½œï¼Œæˆ‘ä»¬å¯¹modelçš„å®šä¹‰éƒ½åŠå…¶çš„ç®€å•ï¼Œè¿™é‡Œæˆ‘ä»¬å¯¹modelè¿›è¡Œæ”¹è¿›ï¼Œé€šè¿‡è‡ªå®šä¹‰ä¸€ä¸ªLinearRegresså¯¹è±¡æ¥å®šä¹‰ä¸€ä¸ªåŒ…å«ä¸¤å±‚å…¨è¿æ¥çš„ç½‘ç»œå»ºæ¨¡æˆ‘ä»¬çš„modelï¼Œéšè—å±‚çš„æ¿€æ´»å‡½æ•°æˆ‘ä»¬é€‰ç”¨äº†relu()æ¿€æ´»å‡½æ•°ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1ï¼‰ Design model (input, output size, forward pass)</span></span><br><span class="line"><span class="comment"># 2) Construct loss and optimizer</span></span><br><span class="line"><span class="comment"># 3) Training loop</span></span><br><span class="line"><span class="comment">#    - forward pass: compute prediction</span></span><br><span class="line"><span class="comment">#    - backward pass: gradients</span></span><br><span class="line"><span class="comment">#    - update weight</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line">X = torch.tensor([[<span class="number">1</span>],[<span class="number">2</span>],[<span class="number">3</span>],[<span class="number">4</span>],[<span class="number">5</span>],[<span class="number">6</span>],[<span class="number">10</span>]], dtype=torch.float32)</span><br><span class="line">y = torch.tensor([[<span class="number">2</span>],[<span class="number">4</span>],[<span class="number">6</span>],[<span class="number">8</span>],[<span class="number">10</span>],[<span class="number">12</span>],[<span class="number">20</span>]], dtype=torch.float32)</span><br><span class="line">x_test = torch.tensor([<span class="number">5</span>], dtype=torch.float32)</span><br><span class="line"></span><br><span class="line">n_samples, n_features = X.shape</span><br><span class="line"><span class="built_in">print</span>(n_samples, n_features)</span><br><span class="line"></span><br><span class="line">input_size = n_features</span><br><span class="line">output_size = n_features</span><br><span class="line"></span><br><span class="line"><span class="comment"># model = nn.Linear(input_size, output_size)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LinearRegress</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, input_size, output_size</span>):</span><br><span class="line">        <span class="built_in">super</span>(LinearRegress, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="comment"># define layers</span></span><br><span class="line">        <span class="variable language_">self</span>.lin1 = nn.Linear(input_size, <span class="number">2</span>)</span><br><span class="line">        <span class="variable language_">self</span>.lin2 = nn.Linear(<span class="number">2</span>, output_size)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        x =  <span class="variable language_">self</span>.lin1(x)</span><br><span class="line">        x = torch.relu(x)</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.lin2(x)</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">model = LinearRegress(input_size, output_size)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f'Prediction before training: f(5) = <span class="subst">{model(x_test).item():<span class="number">.5</span>f}</span>'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Training</span></span><br><span class="line">learning_rate = <span class="number">0.01</span></span><br><span class="line">n_iters = <span class="number">1000</span></span><br><span class="line"></span><br><span class="line">loss = nn.MSELoss()</span><br><span class="line">optimizer = torch.optim.SGD(model.parameters(), lr=learning_rate)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n_iters):</span><br><span class="line">    y_pred = model(X)</span><br><span class="line">    </span><br><span class="line">    l = loss(y, y_pred)</span><br><span class="line">    </span><br><span class="line">    l.backward()</span><br><span class="line">    optimizer.step()</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">#     w.grad.zero_()</span></span><br><span class="line">    optimizer.zero_grad()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (i+<span class="number">1</span>) %<span class="number">1000</span> == <span class="number">0</span>:</span><br><span class="line"><span class="comment">#         [w, b] = model.parameters()</span></span><br><span class="line"><span class="comment">#         print(f'epoch {i+1}: parameters = {model.parameters()}, loss = {l:.10f}')</span></span><br><span class="line">        <span class="keyword">for</span> parameters <span class="keyword">in</span> model.parameters():</span><br><span class="line">            <span class="built_in">print</span>(parameters)</span><br><span class="line">        </span><br><span class="line"><span class="built_in">print</span>(<span class="string">f'Prediction after training: f(5) = <span class="subst">{model(x_test).item():<span class="number">.5</span>f}</span>'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Now pytorch can do most of the work for us, of course we still have to design our model</span></span><br><span class="line"><span class="comment"># and have to know which loss and optimizer we want to use but we don't have to worry about</span></span><br><span class="line"><span class="comment"># the underlying algorithms anymore.</span></span><br></pre></td></tr></tbody></table></figure></blockquote><h4 id="4-5-ç»¼åˆç¤ºä¾‹1"><a href="#4-5-ç»¼åˆç¤ºä¾‹1" class="headerlink" title="4.5 ç»¼åˆç¤ºä¾‹1"></a>4.5 ç»¼åˆç¤ºä¾‹1</h4><blockquote><p>å­¦ä¹ å®Œäº†4.1-4.3çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯¹å¦‚ä½•æ‰‹å·¥å»ºæ¨¡ä¸€ä¸ªæ¨¡å‹æœ‰äº†åˆæ­¥çš„äº†è§£ï¼Œå¹¶ä¸”çŸ¥é“äº†pytorchå»ºæ¨¡æ·±åº¦å­¦ä¹ çš„ä¸€èˆ¬è¿‡ç¨‹ï¼Œä»¥åŠå®ƒå¯¹åº”çš„æ¯ä¸€ä¸ªéƒ¨åˆ†çš„ä½œç”¨ï¼Œä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç»¼åˆçš„ç¤ºä¾‹æ¥åŠ æ·±å¯¹æ‰€å­¦çŸ¥è¯†çš„ç†è§£ã€‚</p><p>åœ¨è¯¥ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆè°ƒç”¨sklearnçš„datasetsåº“æ¥æ„å»ºå¸¦å™ªå£°çš„é€»è¾‘å›å½’æ•°æ®é›†ï¼Œç„¶åæ„é€ ä¸€ä¸ªçº¿æ€§æ¨¡å‹ï¼Œå¹¶å¯¹çº¿æ€§æ¨¡å‹è¿›è¡Œè®­ç»ƒã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 5. ç»¼åˆç¤ºä¾‹1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 0) create data</span></span><br><span class="line">x_numpy, y_numpy = datasets.make_regression(n_samples=<span class="number">500</span>, n_features=<span class="number">1</span>, noise=<span class="number">20</span>, random_state=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">x,y = torch.from_numpy(x_numpy.astype(np.float32)), torch.from_numpy(y_numpy.astype(np.float32))</span><br><span class="line"><span class="comment"># print(x.shape)</span></span><br><span class="line"><span class="comment"># print(y.shape)</span></span><br><span class="line">y = y.view(y.shape[<span class="number">0</span>], -<span class="number">1</span>)</span><br><span class="line"><span class="comment"># print(y.shape)</span></span><br><span class="line">n_sample, n_features = x.shape</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1) model</span></span><br><span class="line">input_size = n_features</span><br><span class="line">output_size = <span class="number">1</span></span><br><span class="line">model = nn.Linear(input_size, output_size)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2ï¼‰loss and optimizer</span></span><br><span class="line">learning_rate = <span class="number">0.01</span></span><br><span class="line">criterion = nn.MSELoss()</span><br><span class="line">optimizer = torch.optim.SGD(model.parameters(), lr=learning_rate)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3) training loop</span></span><br><span class="line">num_epochs = <span class="number">1000</span></span><br><span class="line">num_iter = <span class="number">100</span></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line"> <span class="comment"># foreard pass and loss</span></span><br><span class="line"> y_pred = model(x)</span><br><span class="line"> loss = criterion(y_pred, y)</span><br><span class="line"> <span class="comment"># backward pass</span></span><br><span class="line"> loss.backward()</span><br><span class="line"> <span class="comment"># updata</span></span><br><span class="line"> optimizer.step()</span><br><span class="line"></span><br><span class="line"> optimizer.zero_grad()</span><br><span class="line"></span><br><span class="line"> <span class="keyword">if</span>(epoch+<span class="number">1</span>)%num_iter == <span class="number">0</span>:</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">f'epoch:<span class="subst">{epoch+<span class="number">1</span>}</span>, loss=<span class="subst">{loss.item():<span class="number">.4</span>f}</span>'</span>)</span><br><span class="line"><span class="comment"># plot</span></span><br><span class="line">predicted = model(x).detach().numpy()</span><br><span class="line">plt.plot(x_numpy, y_numpy, <span class="string">'ro'</span>)</span><br><span class="line">plt.plot(x_numpy, predicted, <span class="string">'b'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210805210347.png" alt="image-20210805210341931" style="zoom:50%;"></blockquote><h4 id="4-6-ç»¼åˆç¤ºä¾‹2"><a href="#4-6-ç»¼åˆç¤ºä¾‹2" class="headerlink" title="4.6  ç»¼åˆç¤ºä¾‹2"></a>4.6  ç»¼åˆç¤ºä¾‹2</h4><blockquote><p>ä¹‹å‰çš„ç¤ºä¾‹ä¸­æˆ‘ä»¬æ²¡æœ‰å¯¹è®­ç»ƒåçš„æ¨¡å‹è¿›è¡Œæµ‹è¯•ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­æˆ‘ä»¬å¢åŠ äº†æ¨¡å‹æµ‹è¯•ï¼Œå¹¶ä¸”è°ƒç”¨sklearnä¸­å†…ç½®çš„â€œä¹³è…ºç™Œâ€æ•°æ®é›†æ¥å®Œæˆç¤ºä¾‹ï¼Œå¹¶ä¸”å¯¹è¾“å…¥ç‰¹å¾åšäº†å½’ä¸€åŒ–å¤„ç†ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 5. ç»¼åˆç¤ºä¾‹2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line"><span class="comment"># 0) prepare data</span></span><br><span class="line">bc = datasets.load_breast_cancer()</span><br><span class="line">X,y = bc.data, bc.target</span><br><span class="line"></span><br><span class="line">n_samples, n_features = X.shape</span><br><span class="line"><span class="comment"># print(X.shape)</span></span><br><span class="line"><span class="comment"># print(y.shape)</span></span><br><span class="line"></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X,y,test_size=<span class="number">0.2</span>, random_state=<span class="number">1234</span>)</span><br><span class="line"><span class="comment"># scale å¯¹æ¯ä¸€åˆ—çš„ç‰¹å¾åšå‡å€¼æ–¹å·®å½’ä¸€åŒ–å¤„ç†ï¼Œå¦‚æœä¸åšçš„è¯å­¦ä¹ å‡ºæ¥çš„æ¨¡å‹çš„å‡†ç¡®ç‡å¤§å¤§é™ä½</span></span><br><span class="line">sc = StandardScaler()</span><br><span class="line"><span class="comment"># print('X_test before transform:', X_test)</span></span><br><span class="line">X_train = sc.fit_transform(X_train)</span><br><span class="line">X_test = sc.fit_transform(X_test)</span><br><span class="line"><span class="comment"># print('X_test after transform:', X_test.mean(), X_test.std())</span></span><br><span class="line"></span><br><span class="line">X_train = torch.from_numpy(X_train.astype(np.float32))</span><br><span class="line">X_test = torch.from_numpy(X_test.astype(np.float32))</span><br><span class="line">y_train = torch.from_numpy(y_train.astype(np.float32))</span><br><span class="line">y_test = torch.from_numpy(y_test.astype(np.float32))</span><br><span class="line"></span><br><span class="line">y_train = y_train.view(y_train.shape[<span class="number">0</span>], <span class="number">1</span>)</span><br><span class="line">y_test = y_test.view(y_test.shape[<span class="number">0</span>], <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1) model</span></span><br><span class="line"><span class="comment"># f = wx + b, sigmoid at the end</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LogisticRegression</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, n_input_features</span>):</span><br><span class="line">        <span class="built_in">super</span>(LogisticRegression, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.linear = nn.Linear(n_input_features, <span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        y_pred = torch.sigmoid(<span class="variable language_">self</span>.linear(x))</span><br><span class="line">        <span class="keyword">return</span> y_pred</span><br><span class="line">    </span><br><span class="line">model = LogisticRegression(n_features)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2) loss and optimizer</span></span><br><span class="line">learning_rate = <span class="number">0.001</span></span><br><span class="line"></span><br><span class="line">criterion = nn.BCELoss()</span><br><span class="line">optimizer = torch.optim.SGD(model.parameters(), lr = learning_rate)</span><br><span class="line"><span class="comment"># 3) training loop</span></span><br><span class="line">num_epochs = <span class="number">1000</span></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line">    <span class="comment"># foreard pass and loss</span></span><br><span class="line">    y_pred = model(X_train)</span><br><span class="line">    loss = criterion(y_pred, y_train)</span><br><span class="line">    <span class="comment"># backward pass</span></span><br><span class="line">    loss.backward()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># updates</span></span><br><span class="line">    optimizer.step()</span><br><span class="line">    </span><br><span class="line">    optimizer.zero_grad()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(epoch+<span class="number">1</span>) % <span class="number">100</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f'epoch:<span class="subst">{epoch+<span class="number">1</span>}</span>, loss = <span class="subst">{loss.item():<span class="number">.4</span>f}</span>'</span>)</span><br><span class="line">        </span><br><span class="line"><span class="keyword">with</span> torch.no_grad():</span><br><span class="line">    y_pred = model(X_test)</span><br><span class="line">    y_pred_cls = y_pred.<span class="built_in">round</span>() <span class="comment"># å¯¹sigmoidå‡ºæ¥çš„å€¼è¿›è¡Œå››èˆäº”å…¥</span></span><br><span class="line"><span class="comment">#     print(f'y_pred={y_pred}, y_pred_cls={y_pred_cls}')</span></span><br><span class="line">    acc = y_pred_cls.eq(y_test).<span class="built_in">sum</span>()/<span class="built_in">float</span>(y_test.shape[<span class="number">0</span>])</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f'acc = <span class="subst">{acc:<span class="number">.4</span>f}</span>'</span>)</span><br></pre></td></tr></tbody></table></figure></blockquote><h3 id="5-Dataset-and-Dataload-Class"><a href="#5-Dataset-and-Dataload-Class" class="headerlink" title="5. Dataset and Dataload Class"></a>5. Dataset and Dataload Class</h3><h4 id="5-1-Dataset-and-Dataload"><a href="#5-1-Dataset-and-Dataload" class="headerlink" title="5.1 Dataset and Dataload"></a>5.1 Dataset and Dataload</h4><blockquote><p>pytorchä¸­ç”±datasetç±»ç®¡ç†æ•°æ®é›†ï¼Œå¯ä»¥é€šè¿‡ç»§æ‰¿datasetç±»æ¥è‡ªå®šä¹‰æ•°æ®é›†ï¼Œä»£ç æ¨¡æ¿å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyDataset</span>(<span class="title class_ inherited__">Dataset</span>):</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line"> <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, index</span>):</span><br><span class="line"> <span class="keyword">return</span> a signel data</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line"> <span class="keyword">return</span> length of dataset</span><br></pre></td></tr></tbody></table></figure><p>å®šä¹‰å¥½datasetä¹‹åï¼Œå¯ä»¥é€šè¿‡DataLoaderæ¥æ„é€ å¯ä¾›è®­ç»ƒçš„è¿­ä»£å™¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dataloader = DataLoader(dataset=dataset, batch_size=<span class="number">4</span>, shuffle=<span class="literal">True</span>, num_workers=<span class="number">2</span>)</span><br></pre></td></tr></tbody></table></figure><p>ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">epoch = 1 forward and backward pass of ALL training samples</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">bach_size = number of training samples in one forward &amp; backward pass</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">number of iterations = number of passes, each pass using [batch_size] number of samples</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">e.g. 100 samples, batch_size = 20 --&gt; 100/20 = 5 iterations for 1 epoch</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> Dataset, DataLoader</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.getcwd().endswith(<span class="string">'pytorchLearning'</span>):</span><br><span class="line"> os.chdir(os.getcwd()+<span class="string">'/Desktop/pytorchLearning'</span>)</span><br><span class="line"><span class="comment"># print (os.getcwd())</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WineDataset</span>(<span class="title class_ inherited__">Dataset</span>):</span><br><span class="line"></span><br><span class="line"> <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">     <span class="comment"># data loading</span></span><br><span class="line">     xy = np.loadtxt(<span class="string">'./data/wine/wine.csv'</span>, delimiter=<span class="string">','</span>, dtype=np.float32, skiprows=<span class="number">1</span>)</span><br><span class="line">     <span class="variable language_">self</span>.x = torch.from_numpy(xy[:,<span class="number">1</span>:])</span><br><span class="line">     <span class="variable language_">self</span>.y = torch.from_numpy(xy[:, [<span class="number">0</span>]])</span><br><span class="line">     <span class="variable language_">self</span>.n_samples = xy.shape[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"> <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, index</span>):</span><br><span class="line">     <span class="keyword">return</span> <span class="variable language_">self</span>.x[index], <span class="variable language_">self</span>.y[index]</span><br><span class="line"></span><br><span class="line"> <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">     <span class="keyword">return</span> <span class="variable language_">self</span>.n_samples</span><br><span class="line"><span class="comment"># # How we can use dataset</span></span><br><span class="line"><span class="comment"># dataset = WineDataset()</span></span><br><span class="line"><span class="comment"># first_data = dataset[0]</span></span><br><span class="line"><span class="comment"># features, label = first_data</span></span><br><span class="line"><span class="comment"># print(features, label)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># # How we can use dataload</span></span><br><span class="line"><span class="comment"># dataloader = DataLoader(dataset=dataset, batch_size=4, shuffle=True, num_workers=2)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># dataiter = iter(dataloader)</span></span><br><span class="line"><span class="comment"># data = dataiter.next()</span></span><br><span class="line"><span class="comment"># features, label = data</span></span><br><span class="line"><span class="comment"># print(features, label)</span></span><br><span class="line"></span><br><span class="line">dataset = WineDataset()</span><br><span class="line">dataloader = DataLoader(dataset=dataset, batch_size=<span class="number">4</span>, shuffle=<span class="literal">True</span>, num_workers=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># training loop</span></span><br><span class="line">num_epochs=<span class="number">2</span></span><br><span class="line">total_samples = <span class="built_in">len</span>(dataset)</span><br><span class="line">n_iterations = math.ceil(total_samples/<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(total_samples, n_iterations)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line"> <span class="keyword">for</span> i,(inputs, label) <span class="keyword">in</span> <span class="built_in">enumerate</span>(dataloader):</span><br><span class="line">     <span class="comment"># forward backward, update</span></span><br><span class="line">     <span class="keyword">if</span> (i+<span class="number">1</span>) % <span class="number">5</span> == <span class="number">0</span>:</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">f'epoch <span class="subst">{epoch+<span class="number">1</span>}</span>/<span class="subst">{num_epochs}</span>, step <span class="subst">{i+<span class="number">1</span>}</span>/<span class="subst">{n_iterations}</span>, inputs <span class="subst">{inputs.shape}</span>'</span>)</span><br></pre></td></tr></tbody></table></figure></blockquote><h4 id="5-2-Transforms-for-the-dataset"><a href="#5-2-Transforms-for-the-dataset" class="headerlink" title="5.2 Transforms for the dataset"></a>5.2 Transforms for the dataset</h4><blockquote><p>pytorché€šè¿‡ä¼ å…¥transformsç±»æ¥å¯¹è¾“å…¥çš„æ•°æ®è¿›è¡ŒæŸç§å˜åŒ–ï¼Œtransformsç±»å¯ä»¥è°ƒç”¨åº“å®šä¹‰å¥½çš„ï¼Œä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦è‡ªå®šä¹‰ã€‚</p><p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">Transforms can be applied to PIL images, tensor, ndarrays, or custom data</span></span><br><span class="line"><span class="string">during criterion of the dataset</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">complete list of built-in transforms:</span></span><br><span class="line"><span class="string">https://pytorch.org/docs/stable/torchvision/transforms.html</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">On images</span></span><br><span class="line"><span class="string">---------</span></span><br><span class="line"><span class="string">CenterCrop, Grayscale, Pad, RandomAffine,</span></span><br><span class="line"><span class="string">RandomCrop, RandomHorizontalFlip, RandomHorizon</span></span><br><span class="line"><span class="string">Resize, scale</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">On Tensors</span></span><br><span class="line"><span class="string">----------</span></span><br><span class="line"><span class="string">LinearTransformation, Normalize, RandomErasing</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Conversion</span></span><br><span class="line"><span class="string">----------</span></span><br><span class="line"><span class="string">ToPILIamage: from tensor or ndarray</span></span><br><span class="line"><span class="string">ToTensor: from numpy.ndarray or PILImage</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Generic</span></span><br><span class="line"><span class="string">-------</span></span><br><span class="line"><span class="string">Use Lambda</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Custom</span></span><br><span class="line"><span class="string">------</span></span><br><span class="line"><span class="string">Write own Class</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Compose mutiple Transforms</span></span><br><span class="line"><span class="string">--------------------------</span></span><br><span class="line"><span class="string">composed = transforms.Compose([Rescale(256),</span></span><br><span class="line"><span class="string">                                RandomCrop(224)])</span></span><br><span class="line"><span class="string">torchvision.transforms.Rescale(256)</span></span><br><span class="line"><span class="string">torchvision.transforms.ToTensor()</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> Dataset</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WineDataset</span>(<span class="title class_ inherited__">Dataset</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, transform=<span class="literal">None</span></span>):</span><br><span class="line">        xy = np.loadtxt(<span class="string">'./data/wine/wine.csv'</span>, delimiter=<span class="string">','</span>, dtype=np.float32, skiprows=<span class="number">1</span>)</span><br><span class="line">        <span class="variable language_">self</span>.n_samples = xy.shape[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># note that we do not convert to tensor here</span></span><br><span class="line">        <span class="variable language_">self</span>.x = xy[:,<span class="number">1</span>:]</span><br><span class="line">        <span class="variable language_">self</span>.y = xy[:, [<span class="number">0</span>]]</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.transform = transform</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, index</span>):</span><br><span class="line">        sample = <span class="variable language_">self</span>.x[index], <span class="variable language_">self</span>.y[index]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.transform:</span><br><span class="line">            sample = <span class="variable language_">self</span>.transform(sample)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> sample</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.n_samples</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ToTensor</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self, sample</span>):</span><br><span class="line">        inputs, targets = sample</span><br><span class="line">        <span class="keyword">return</span> torch.from_numpy(inputs), torch.from_numpy(targets)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MulTransform</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, factor</span>):</span><br><span class="line">        <span class="variable language_">self</span>.factor = factor</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self, sample</span>):</span><br><span class="line">        inputs, target = sample</span><br><span class="line">        inputs *= <span class="variable language_">self</span>.factor</span><br><span class="line">        <span class="keyword">return</span> inputs, target</span><br><span class="line"></span><br><span class="line">dataset = WineDataset(transform=ToTensor())</span><br><span class="line">first_data = dataset[<span class="number">0</span>]</span><br><span class="line">features, label = first_data</span><br><span class="line"><span class="built_in">print</span>(features)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(features), <span class="built_in">type</span>(label))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">composed = torchvision.transforms.Compose([ToTensor(), MulTransform(<span class="number">2</span>)]) <span class="comment"># æŠŠä¸¤ä¸ªtransformsåˆå¹¶ä¸€èµ·åº”ç”¨</span></span><br><span class="line">dataset = WineDataset(transform=composed)</span><br><span class="line">first_data = dataset[<span class="number">0</span>]</span><br><span class="line">features, label = first_data</span><br><span class="line"><span class="built_in">print</span>(features)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(features), <span class="built_in">type</span>(label))</span><br></pre></td></tr></tbody></table></figure></blockquote><h3 id="6-Softmax-and-Cross-Entropy"><a href="#6-Softmax-and-Cross-Entropy" class="headerlink" title="6. Softmax and Cross-Entropy"></a>6. Softmax and Cross-Entropy</h3><h4 id="6-1-Softmax"><a href="#6-1-Softmax" class="headerlink" title="6.1 Softmax"></a>6.1 Softmax</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Softmax</span></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">softmax</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> np.exp(x) / np.<span class="built_in">sum</span>(np.exp(x), axis=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">x = np.array([-<span class="number">2</span>, <span class="number">1</span>, <span class="number">0.1</span>])</span><br><span class="line">outputs = softmax(x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">'softmax numpy:'</span>, outputs)</span><br><span class="line"></span><br><span class="line">x = torch.from_numpy(x)</span><br><span class="line">outputs = torch.softmax(x, axis=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">'softmax torch:'</span>, outputs)</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h4 id="6-2-Cross-entropy"><a href="#6-2-Cross-entropy" class="headerlink" title="6.2 Cross entropy"></a>6.2 Cross entropy</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Cross entropy</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cross_entropy</span>(<span class="params">actual, predicted</span>):</span><br><span class="line">    <span class="keyword">return</span> -np.<span class="built_in">sum</span>(actual*np.log(predicted)).mean()</span><br><span class="line"></span><br><span class="line"><span class="comment"># y must be one hot encoded</span></span><br><span class="line"><span class="comment"># if class 0: [1 0 0]</span></span><br><span class="line"><span class="comment"># if class 1: [0 1 0]</span></span><br><span class="line"><span class="comment"># if class 2: [0 0 1]</span></span><br><span class="line">Y = np.array([<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># y_pred has probabilities</span></span><br><span class="line">y_pred_good = np.array([<span class="number">0.7</span>,<span class="number">0.2</span>,<span class="number">0.1</span>])</span><br><span class="line">y_pred_bad = np.array([<span class="number">0.1</span>, <span class="number">0.3</span>, <span class="number">0.6</span>])</span><br><span class="line">l1 = cross_entropy(Y, y_pred_good)</span><br><span class="line">l2 = cross_entropy(Y, y_pred_bad)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f'Loss1 numpy:<span class="subst">{l1:<span class="number">.4</span>f}</span>'</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f'Loss2 numpy:<span class="subst">{l2:<span class="number">.4</span>f}</span>'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># cross entropy by pytorch</span></span><br><span class="line"><span class="comment"># in pytorch: Use nn.CrossEntropyLoss()</span></span><br><span class="line"><span class="comment"># No softmax at the end!</span></span><br><span class="line">loss = nn.CrossEntropyLoss()</span><br><span class="line"></span><br><span class="line"><span class="comment"># nsamples x nclasses = 1x3</span></span><br><span class="line">y = torch.tensor([<span class="number">0</span>])</span><br><span class="line">y_pred_good = torch.tensor([[<span class="number">2.0</span>, <span class="number">1.0</span>, <span class="number">0.1</span>]])</span><br><span class="line">y_pred_bad = torch.tensor([[<span class="number">0.5</span>, <span class="number">2.0</span>, <span class="number">0.3</span>]])</span><br><span class="line"></span><br><span class="line">l1 = loss(y_pred_good, y)</span><br><span class="line">l2 = loss(y_pred_bad, y)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f'Loss1 numpy:<span class="subst">{l1:<span class="number">.4</span>f}</span>'</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f'Loss2 numpy:<span class="subst">{l2:<span class="number">.4</span>f}</span>'</span>)</span><br><span class="line"></span><br><span class="line">_, prediction1 = torch.<span class="built_in">max</span>(y_pred_good, <span class="number">1</span>)</span><br><span class="line">_, prediction2 = torch.<span class="built_in">max</span>(y_pred_bad, <span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(prediction1)</span><br><span class="line"><span class="built_in">print</span>(prediction2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3 samples</span></span><br><span class="line">y = torch.tensor([<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>])</span><br><span class="line">y_pred_good = torch.tensor([[<span class="number">0.1</span>, <span class="number">1.0</span>, <span class="number">2.0</span>],</span><br><span class="line">                            [<span class="number">2.0</span>, <span class="number">1.0</span>, <span class="number">0.5</span> ],</span><br><span class="line">                            [<span class="number">0.1</span>, <span class="number">2.0</span>, <span class="number">1.0</span>]])</span><br><span class="line">y_pred_bad = torch.tensor([[<span class="number">2.0</span>, <span class="number">1.0</span>, <span class="number">0.1</span>],</span><br><span class="line">                            [<span class="number">1.0</span>, <span class="number">0.1</span>, <span class="number">2.0</span> ],</span><br><span class="line">                            [<span class="number">0.1</span>, <span class="number">1.0</span>, <span class="number">2.0</span>]])</span><br><span class="line"></span><br><span class="line">l1 = loss(y_pred_good, y)</span><br><span class="line">l2 = loss(y_pred_bad, y)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f'Loss1 numpy:<span class="subst">{l1.item():<span class="number">.4</span>f}</span>'</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f'Loss2 numpy:<span class="subst">{l2.item():<span class="number">.4</span>f}</span>'</span>)</span><br><span class="line"></span><br><span class="line">_, prediction1 = torch.<span class="built_in">max</span>(y_pred_good, <span class="number">1</span>)</span><br><span class="line">_, prediction2 = torch.<span class="built_in">max</span>(y_pred_bad, <span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(prediction1)</span><br><span class="line"><span class="built_in">print</span>(prediction2)</span><br></pre></td></tr></tbody></table></figure><h3 id="7-Activation-function"><a href="#7-Activation-function" class="headerlink" title="7. Activation function"></a>7. Activation function</h3><blockquote><p>Activation functions apply a non-linear transform and decide whether a neural should be activated or not.</p><h4 id="Most-popular-activation-functions"><a href="#Most-popular-activation-functions" class="headerlink" title="Most popular activation functions"></a>Most popular activation functions</h4><ol><li>Step function â€“&gt; Not used in practice</li><li>Sigmoid</li><li>TanH</li><li>ReLU</li><li>Leaky ReLU</li><li>Softmax</li></ol></blockquote><h3 id="8-ç»¼åˆç»ƒä¹ -MNIST"><a href="#8-ç»¼åˆç»ƒä¹ -MNIST" class="headerlink" title="8. ç»¼åˆç»ƒä¹  MNIST"></a>8. ç»¼åˆç»ƒä¹  MNIST</h3><blockquote><ol><li><p>MNIST</p></li><li><p>DataLoader, Transformation</p></li><li><p>Multilayer Neural Net, activation function</p></li><li><p>Loss and Optimizer</p></li><li><p>Tra</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">import</span> torchvision.transforms <span class="keyword">as</span> transforms</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line">                                 </span><br><span class="line"><span class="comment"># device config</span></span><br><span class="line"><span class="keyword">from</span> torch.optim <span class="keyword">import</span> optimizer</span><br><span class="line">                                 </span><br><span class="line">device =torch.device(<span class="string">'cuda'</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">'cpu'</span>)</span><br><span class="line">                                 </span><br><span class="line"><span class="comment"># hyper parameters</span></span><br><span class="line">input_size = <span class="number">784</span> <span class="comment"># 28x28</span></span><br><span class="line">hidden_size = <span class="number">128</span></span><br><span class="line">num_classes = <span class="number">10</span></span><br><span class="line">num_epochs = <span class="number">2</span></span><br><span class="line">batch_size = <span class="number">100</span></span><br><span class="line">learning_rate = <span class="number">0.001</span></span><br><span class="line">                                 </span><br><span class="line"><span class="comment"># MNIST DataSet</span></span><br><span class="line">train_dataset = torchvision.datasets.MNIST(root=<span class="string">'./data'</span>, train=<span class="literal">True</span>,</span><br><span class="line">                                           transform=transforms.ToTensor(),download=<span class="literal">True</span>)</span><br><span class="line">test_dataset = torchvision.datasets.MNIST(root=<span class="string">'./data'</span>, train=<span class="literal">False</span>,</span><br><span class="line">                                           transform=transforms.ToTensor())</span><br><span class="line">train_loader = torch.utils.data.DataLoader(dataset=train_dataset,batch_size=batch_size,</span><br><span class="line">                                           shuffle=<span class="literal">True</span>)</span><br><span class="line">test_loader = torch.utils.data.DataLoader(dataset=test_dataset,batch_size=batch_size,</span><br><span class="line">                                           shuffle=<span class="literal">False</span>)</span><br><span class="line">examples = <span class="built_in">iter</span>(train_loader)</span><br><span class="line">features, label = examples.<span class="built_in">next</span>()</span><br><span class="line"><span class="built_in">print</span>(features.shape)</span><br><span class="line"><span class="built_in">print</span>(label.shape)</span><br><span class="line">                                 </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>):</span><br><span class="line">    plt.subplot(<span class="number">2</span>,<span class="number">3</span>, i+<span class="number">1</span>)</span><br><span class="line">    plt.imshow(features[i][<span class="number">0</span>], cmap=<span class="string">'gray'</span>)</span><br><span class="line">plt.show()</span><br><span class="line">                                 </span><br><span class="line"><span class="comment"># model</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NeuralNet</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, input_size, hidden_size, num_classes</span>):</span><br><span class="line">        <span class="built_in">super</span>(NeuralNet, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.l1 = nn.Linear(input_size, hidden_size)</span><br><span class="line">        <span class="variable language_">self</span>.l2 = nn.Linear(hidden_size, num_classes)</span><br><span class="line">                                 </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        out = F.relu(<span class="variable language_">self</span>.l1(x))</span><br><span class="line">        out = <span class="variable language_">self</span>.l2(out)</span><br><span class="line">        <span class="keyword">return</span> out</span><br><span class="line">                                 </span><br><span class="line">model = NeuralNet(input_size, hidden_size, num_classes)</span><br><span class="line"><span class="comment"># loss and optimizer</span></span><br><span class="line">criterion = nn.CrossEntropyLoss()</span><br><span class="line">optimizer = torch.optim.Adam(model.parameters(), lr=learning_rate)</span><br><span class="line">                                 </span><br><span class="line"><span class="comment"># training loop</span></span><br><span class="line">n_total_steps = <span class="built_in">len</span>(train_loader)</span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line">    <span class="keyword">for</span> i, (images, label) <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_loader):</span><br><span class="line">        <span class="comment"># 100, 1, 28, 28</span></span><br><span class="line">        <span class="comment"># 100, 784</span></span><br><span class="line">        images = images.reshape(-<span class="number">1</span>, <span class="number">28</span>*<span class="number">28</span>).to(device)</span><br><span class="line">        label = label.to(device)</span><br><span class="line">                                 </span><br><span class="line">        <span class="comment"># forward</span></span><br><span class="line">        outputs = model(images)</span><br><span class="line">        loss = criterion(outputs, label)</span><br><span class="line">                                 </span><br><span class="line">        <span class="comment"># backward</span></span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">                                 </span><br><span class="line">        <span class="keyword">if</span> (i+<span class="number">1</span>) % <span class="number">100</span> ==<span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f'epoch <span class="subst">{epoch+<span class="number">1</span>}</span> / <span class="subst">{num_epochs}</span>, step <span class="subst">{i+<span class="number">1</span>}</span> / <span class="subst">{n_total_steps}</span>, loss <span class="subst">{loss.item():<span class="number">.4</span>f}</span>'</span>)</span><br><span class="line">                                 </span><br><span class="line"><span class="comment"># test</span></span><br><span class="line"><span class="keyword">with</span> torch.no_grad():</span><br><span class="line">    n_correct = <span class="number">0</span></span><br><span class="line">    n_sample = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> images, label <span class="keyword">in</span> test_loader:</span><br><span class="line">        images = images.reshape(-<span class="number">1</span>, <span class="number">28</span>*<span class="number">28</span>).to(device)</span><br><span class="line">        label = label.to(device)</span><br><span class="line">        outputs = model(images)</span><br><span class="line">        <span class="comment"># print(outputs)</span></span><br><span class="line">                                 </span><br><span class="line">        <span class="comment"># value, index</span></span><br><span class="line">        _, prdiction = torch.<span class="built_in">max</span>(outputs, <span class="number">1</span>)</span><br><span class="line">        n_correct += torch.<span class="built_in">sum</span>(torch.eq(prdiction, label)).item()</span><br><span class="line">        n_sample += label.shape[<span class="number">0</span>]</span><br><span class="line">                                 </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f'Acc: <span class="subst">{<span class="number">100.0</span>*n_correct / n_sample}</span>'</span>)</span><br><span class="line">                                 </span><br></pre></td></tr></tbody></table></figure><p>è¿è¡Œç»“æœï¼š</p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210805213343.png" alt="image-20210805213343033" style="zoom:50%;"></li></ol></blockquote><h3 id="9-Convolutional-Neural-Net-CNN"><a href="#9-Convolutional-Neural-Net-CNN" class="headerlink" title="9.  Convolutional Neural Net(CNN)"></a>9.  Convolutional Neural Net(CNN)</h3><blockquote><p>è¿™é‡Œæˆ‘ä»¬é€šè¿‡æ„é€ CNNæ¨¡å‹å¹¶å¯¹å›¾ç‰‡è¿›è¡Œåˆ†ç±»ï¼Œé‡‡ç”¨â€œCIFAR10â€æ•°æ®é›†ï¼Œç„¶åè‡ªå®šä¹‰Modelï¼Œè°ƒç”¨â€œäº¤å‰ç†µæŸå¤±å‡½æ•°â€å’Œâ€œSGDâ€ä¼˜åŒ–å™¨æ¥å¯¹æ¨¡å‹è®­ç»ƒï¼Œæ¨¡å‹è®­ç»ƒç»“æŸä¹‹åå¯¹åˆ†ç±»å™¨çš„åˆ†ç±»å‡†ç¡®ç‡è¿›è¡Œäº†æµ‹è¯•ã€‚</p><p>å®éªŒä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">import</span> torchvision.transforms <span class="keyword">as</span> transforms</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"></span><br><span class="line"><span class="comment"># device config</span></span><br><span class="line">device =torch.device(<span class="string">'cuda'</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">'cpu'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># hyper parameters</span></span><br><span class="line">num_epochs = <span class="number">4</span></span><br><span class="line">batch_size = <span class="number">4</span></span><br><span class="line">learning_rate =<span class="number">0.001</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># dataset has PILImage images of range[0,1]</span></span><br><span class="line"><span class="comment"># We transform them to Tensor of normalised range[-1, 1]</span></span><br><span class="line">transform = transforms.Compose(</span><br><span class="line">    [</span><br><span class="line">        transforms.ToTensor(),</span><br><span class="line">        transforms.Normalize((<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>),(<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>))</span><br><span class="line">    ]</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">train_dataset = torchvision.datasets.CIFAR10(root=<span class="string">'./data'</span>, train=<span class="literal">True</span>,</span><br><span class="line">                                             download=<span class="literal">True</span>, transform=transform)</span><br><span class="line">test_dataset = torchvision.datasets.CIFAR10(root=<span class="string">'./data'</span>, train=<span class="literal">False</span>,</span><br><span class="line">                                             download=<span class="literal">True</span>, transform=transform)</span><br><span class="line">train_loader = torch.utils.data.DataLoader(dataset=train_dataset, batch_size=batch_size,</span><br><span class="line">                                           shuffle=<span class="literal">True</span>)</span><br><span class="line">test_loader = torch.utils.data.DataLoader(dataset=test_dataset, batch_size=batch_size,</span><br><span class="line">                                           shuffle=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">classes =(<span class="string">'plane'</span>, <span class="string">'car'</span>,<span class="string">'bird'</span>,<span class="string">'cat'</span>,<span class="string">'deer'</span>,<span class="string">'dog'</span>,<span class="string">'frog'</span>,</span><br><span class="line">          <span class="string">'horse'</span>,<span class="string">'ship'</span>,<span class="string">'truck'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">imshow</span>(<span class="params">img</span>):</span><br><span class="line">    img = img / <span class="number">2</span> + <span class="number">0.5</span>  <span class="comment"># unnormalize</span></span><br><span class="line">    npimg = img.numpy()</span><br><span class="line">    plt.imshow(np.transpose(npimg, (<span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>)))</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># model</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConvNet</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(ConvNet, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.conv1 = nn.Conv2d(<span class="number">3</span>,<span class="number">6</span>,<span class="number">5</span>)</span><br><span class="line">        <span class="variable language_">self</span>.pool = nn.MaxPool2d(<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">        <span class="variable language_">self</span>.conv2 = nn.Conv2d(<span class="number">6</span>,<span class="number">16</span>,<span class="number">5</span>)</span><br><span class="line">        <span class="variable language_">self</span>.fc1 = nn.Linear(<span class="number">16</span>*<span class="number">5</span>*<span class="number">5</span>, <span class="number">120</span>)</span><br><span class="line">        <span class="variable language_">self</span>.fc2 = nn.Linear(<span class="number">120</span>, <span class="number">84</span>)</span><br><span class="line">        <span class="variable language_">self</span>.fc3 = nn.Linear(<span class="number">84</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">        x = <span class="variable language_">self</span>.pool( F.relu(<span class="variable language_">self</span>.conv1(x)))</span><br><span class="line">        x = <span class="variable language_">self</span>.pool(F.relu(<span class="variable language_">self</span>.conv2(x)))</span><br><span class="line">        x = x.view(-<span class="number">1</span>,<span class="number">16</span>*<span class="number">5</span>*<span class="number">5</span>)</span><br><span class="line">        x = F.relu(<span class="variable language_">self</span>.fc1(x))</span><br><span class="line">        x = F.relu(<span class="variable language_">self</span>.fc2(x))</span><br><span class="line">        x = <span class="variable language_">self</span>.fc3(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">model = ConvNet().to(device)</span><br><span class="line">criterion = nn.CrossEntropyLoss()</span><br><span class="line">optimizer = torch.optim.SGD(model.parameters(), lr=learning_rate)</span><br><span class="line"></span><br><span class="line">n_total_steps = <span class="built_in">len</span>(train_loader)</span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line">    <span class="keyword">for</span> i,(images, labels) <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_loader):</span><br><span class="line">        <span class="comment"># origin shape:[4,3,32,32] = 4,3, 1024</span></span><br><span class="line">        <span class="comment"># input_layer:3 input channels, 6 output channels, 5 kernel size</span></span><br><span class="line">        images = images.to(device)</span><br><span class="line">        labels = labels.to(device)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Forward pass</span></span><br><span class="line">        outputs = model(images)</span><br><span class="line">        loss = criterion(outputs, labels)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Backward and optimizer</span></span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (i+<span class="number">1</span>) % <span class="number">2000</span> == <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f'Epoch [<span class="subst">{epoch+<span class="number">1</span>}</span>/<span class="subst">{num_epochs}</span>], Step [<span class="subst">{i+<span class="number">1</span>}</span>/<span class="subst">{n_total_steps}</span>], Loss: <span class="subst">{loss.item():<span class="number">.4</span>f}</span>'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># test</span></span><br><span class="line"><span class="keyword">with</span> torch.no_grad():</span><br><span class="line">    n_correct = <span class="number">0</span></span><br><span class="line">    n_samples = <span class="number">0</span></span><br><span class="line">    n_class_correct = [<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line">    n_class_samples = [<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line">    <span class="keyword">for</span> images, labels <span class="keyword">in</span> test_loader:</span><br><span class="line">        images = images.to(device)</span><br><span class="line">        labels = labels.to(device)</span><br><span class="line">        outputs = model(images)</span><br><span class="line">        <span class="comment"># max returns (value ,index)</span></span><br><span class="line">        _, predicted = torch.<span class="built_in">max</span>(outputs, <span class="number">1</span>)</span><br><span class="line">        n_samples += labels.size(<span class="number">0</span>)</span><br><span class="line">        n_correct += (predicted == labels).<span class="built_in">sum</span>().item()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(batch_size):</span><br><span class="line">            label = labels[i]</span><br><span class="line">            pred = predicted[i]</span><br><span class="line">            <span class="keyword">if</span> (label == pred):</span><br><span class="line">                n_class_correct[label] += <span class="number">1</span></span><br><span class="line">            n_class_samples[label] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    acc = <span class="number">100.0</span> * n_correct / n_samples</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f'Accuracy of the network: <span class="subst">{acc}</span> %'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        acc = <span class="number">100.0</span> * n_class_correct[i] / n_class_samples[i]</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f'Accuracy of <span class="subst">{classes[i]}</span>: <span class="subst">{acc}</span> %'</span>)</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></blockquote><h3 id="10-Transfer-Learning"><a href="#10-Transfer-Learning" class="headerlink" title="10. Transfer Learning"></a>10. Transfer Learning</h3><blockquote><p>è¿™é‡Œæˆ‘ä»¬å­¦ä¹ è¿ç§»å­¦ä¹ ï¼Œä¸»è¦å­¦ä¹ å¦‚ä¸‹ä¸‰ä¸ªçŸ¥è¯†ç‚¹ï¼š</p><ol><li><p>ImageFolder: how we can use ImageFolder</p></li><li><p>Scheduler: how we use a scheduler to change the learning rate</p></li><li><p>Transfer Learning</p><p>è¿ç§»å­¦ä¹ æ˜¯æŒ‡åœ¨æŸä¸€ä¸ªä»»åŠ¡ä¸Šè®­ç»ƒå¥½æ¨¡å‹ï¼Œç„¶åå°†è®­ç»ƒå¥½çš„æ¨¡å‹è¿ç§»åˆ°å¦å¤–ä¸€ä¸ªä»»åŠ¡ä¸­ï¼Œå›ºå®šæ¨¡å‹çš„æŸäº›å‚æ•°ï¼Œå¯¹å¦å¤–ä¸€äº›å‚æ•°è¿›è¡Œå­¦ä¹ ï¼Œä»¥ä¾¿æ¨¡å‹èƒ½å¤Ÿé€‚åº”æ–°çš„ä»»åŠ¡ã€‚</p><p>å®éªŒä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Transfer Learning</span></span><br><span class="line">                                 </span><br><span class="line"><span class="comment"># 1) ImageFolder: how we can use ImageFolder</span></span><br><span class="line"><span class="comment"># 2) Scheduler: how we use a scheduler to change the learning rate</span></span><br><span class="line"><span class="comment"># 3) Transfer Learning:</span></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.optim <span class="keyword">as</span> optim</span><br><span class="line"><span class="keyword">from</span> torch.optim <span class="keyword">import</span> lr_scheduler</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> datasets, models, transforms</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line">                                 </span><br><span class="line"><span class="comment"># device config</span></span><br><span class="line">device =torch.device(<span class="string">'cuda'</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">'cpu'</span>)</span><br><span class="line">                                 </span><br><span class="line">mean = np.array([<span class="number">0.485</span>, <span class="number">0.456</span>, <span class="number">0.406</span>])</span><br><span class="line">std = np.array([<span class="number">0.229</span>, <span class="number">0.224</span>, <span class="number">0.225</span>])</span><br><span class="line">                                 </span><br><span class="line">data_transforms = {</span><br><span class="line">    <span class="string">'train'</span>:transforms.Compose([</span><br><span class="line">        transforms.RandomResizedCrop(<span class="number">224</span>),</span><br><span class="line">        transforms.RandomHorizontalFlip(),</span><br><span class="line">        transforms.ToTensor(),</span><br><span class="line">        transforms.Normalize(mean, std)</span><br><span class="line">    ]),</span><br><span class="line">    <span class="string">'val'</span>:transforms.Compose([</span><br><span class="line">        transforms.Resize(<span class="number">256</span>),</span><br><span class="line">        transforms.CenterCrop(<span class="number">224</span>),</span><br><span class="line">        transforms.ToTensor(),</span><br><span class="line">        transforms.Normalize(mean, std)</span><br><span class="line">    ])</span><br><span class="line">}</span><br><span class="line">                                 </span><br><span class="line"><span class="comment"># import data</span></span><br><span class="line">data_dir = <span class="string">'data/hymenoptera_data'</span></span><br><span class="line">sets = [<span class="string">'train'</span>, <span class="string">'val'</span>]</span><br><span class="line">image_datasets = {x:datasets.ImageFolder(os.path.join(data_dir, x),</span><br><span class="line">                                         data_transforms[x])</span><br><span class="line">                    <span class="keyword">for</span> x <span class="keyword">in</span> sets}</span><br><span class="line">dataloaders = {x: torch.utils.data.DataLoader(image_datasets[x], batch_size=<span class="number">4</span>,</span><br><span class="line">                                            shuffle=<span class="literal">True</span>, num_workers=<span class="number">0</span>)</span><br><span class="line">               <span class="keyword">for</span> x <span class="keyword">in</span> sets}</span><br><span class="line">dataset_sizes = {x: <span class="built_in">len</span>(image_datasets[x]) <span class="keyword">for</span> x <span class="keyword">in</span> sets}</span><br><span class="line">class_names = image_datasets[<span class="string">'train'</span>].classes</span><br><span class="line"><span class="built_in">print</span>(class_names)</span><br><span class="line">                             </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">imshow</span>(<span class="params">inp, title</span>):</span><br><span class="line">    <span class="string">"""Imshow for Tensor."""</span></span><br><span class="line">    inp = inp.numpy().transpose((<span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>))</span><br><span class="line">    inp = std * inp + mean</span><br><span class="line">    inp = np.clip(inp, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">    plt.imshow(inp)</span><br><span class="line">    plt.title(title)</span><br><span class="line">    plt.show()</span><br><span class="line">                              </span><br><span class="line"><span class="comment"># Get a batch of training data</span></span><br><span class="line">inputs, classes = <span class="built_in">next</span>(<span class="built_in">iter</span>(dataloaders[<span class="string">'train'</span>]))</span><br><span class="line">                              </span><br><span class="line"><span class="comment"># Make a grid from batch</span></span><br><span class="line">out = torchvision.utils.make_grid(inputs)</span><br><span class="line">                              </span><br><span class="line">imshow(out, title=[class_names[x] <span class="keyword">for</span> x <span class="keyword">in</span> classes])</span><br><span class="line">                              </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">train_model</span>(<span class="params">model, criterion, optimizer, scheduler, num_epochs=<span class="number">25</span></span>):</span><br><span class="line">    since = time.time()</span><br><span class="line">                              </span><br><span class="line">    best_model_wts = copy.deepcopy(model.state_dict())</span><br><span class="line">    best_acc = <span class="number">0.0</span></span><br><span class="line">                                  </span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f'Epoch <span class="subst">{epoch+<span class="number">1</span>}</span> / <span class="subst">{num_epochs}</span>'</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'-'</span>*<span class="number">15</span>)</span><br><span class="line">                                  </span><br><span class="line">        <span class="comment"># Each epoch has a training and validation phase</span></span><br><span class="line">        <span class="keyword">for</span> phase <span class="keyword">in</span> sets:</span><br><span class="line">            <span class="keyword">if</span> phase ==<span class="string">'train'</span>:</span><br><span class="line">                model.train()</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                model.<span class="built_in">eval</span>()</span><br><span class="line">                                  </span><br><span class="line">            running_loss = <span class="number">0.0</span></span><br><span class="line">            running_correct = <span class="number">0.0</span></span><br><span class="line">                                  </span><br><span class="line">            <span class="comment"># Iterate over data.</span></span><br><span class="line">            <span class="keyword">for</span> inputs, labels <span class="keyword">in</span> dataloaders[phase]:</span><br><span class="line">                inputs = inputs.to(device)</span><br><span class="line">                labels = labels.to(device)</span><br><span class="line">                                  </span><br><span class="line">                <span class="comment"># forward</span></span><br><span class="line">                <span class="comment"># track history if only training</span></span><br><span class="line">                <span class="keyword">with</span> torch.set_grad_enabled(phase == <span class="string">'train'</span>):</span><br><span class="line">                    outputs = model(inputs)</span><br><span class="line">                    loss = criterion(outputs, labels)</span><br><span class="line">                    _, preds = torch.<span class="built_in">max</span>(outputs, <span class="number">1</span>)</span><br><span class="line">                                  </span><br><span class="line">                    <span class="comment"># backward + optimizer only if in training phase</span></span><br><span class="line">                    <span class="keyword">if</span> phase == <span class="string">'train'</span>:</span><br><span class="line">                        optimizer.zero_grad()</span><br><span class="line">                        loss.backward()</span><br><span class="line">                        optimizer.step()</span><br><span class="line">                                  </span><br><span class="line">                <span class="comment"># statistics</span></span><br><span class="line">                running_loss += loss.item()*inputs.size(<span class="number">0</span>)</span><br><span class="line">                running_correct += torch.<span class="built_in">sum</span>(preds == labels.data)</span><br><span class="line">                                  </span><br><span class="line">            <span class="keyword">if</span> phase == <span class="string">'train'</span>:</span><br><span class="line">                scheduler.step()</span><br><span class="line">                                  </span><br><span class="line">            epoch_loss = running_loss / dataset_sizes[phase]</span><br><span class="line">            epoch_acc = running_correct.double() / dataset_sizes[phase]</span><br><span class="line">                                  </span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f'<span class="subst">{phase}</span> Loss: <span class="subst">{epoch_loss:<span class="number">.4</span>f}</span> Acc: <span class="subst">{epoch_acc:<span class="number">.4</span>f}</span>'</span>)</span><br><span class="line">                                  </span><br><span class="line">            <span class="comment"># deep copy the model to</span></span><br><span class="line">            <span class="keyword">if</span> phase == <span class="string">'val'</span> <span class="keyword">and</span> epoch_acc &gt; best_acc:</span><br><span class="line">                best_acc = epoch_acc</span><br><span class="line">                best_model_wts = copy.deepcopy(model.state_dict())</span><br><span class="line">                                  </span><br><span class="line">    time_elapsed = time.time()-since</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f'Training complete in <span class="subst">{time_elapsed//<span class="number">60</span>:<span class="number">.0</span>f}</span>m <span class="subst">{time_elapsed%<span class="number">60</span>:<span class="number">.0</span>fs}</span>'</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f'Best val Acc: <span class="subst">{best_acc:4f}</span>'</span>)</span><br><span class="line">                                  </span><br><span class="line">    <span class="comment">#load best model weights</span></span><br><span class="line">    model.load_state_dic(best_model_wts)</span><br><span class="line">    <span class="keyword">return</span> model</span><br><span class="line">                              </span><br><span class="line">model = models.resnet18(pretrained=<span class="literal">True</span>)</span><br><span class="line">                              </span><br><span class="line"><span class="comment"># Here, we need to freeze all the network except the final layer.</span></span><br><span class="line"><span class="comment"># We need to set requires_grad == False to freeze the parameters so that the gradients are not computed in backward()</span></span><br><span class="line"><span class="keyword">for</span> param <span class="keyword">in</span> model.parameters():</span><br><span class="line">    param.requires_grad = <span class="literal">False</span></span><br><span class="line">                              </span><br><span class="line">num_ftrs = model.fc.in_features</span><br><span class="line">                              </span><br><span class="line">model.fc = nn.Linear(num_ftrs, <span class="number">2</span>)</span><br><span class="line">model.to(device)</span><br><span class="line">                              </span><br><span class="line">criterion = nn.CrossEntropyLoss()</span><br><span class="line">                              </span><br><span class="line"><span class="comment"># Observe that all parameters are being optimized</span></span><br><span class="line">optimizer = optim.SGD(model.parameters(), lr=<span class="number">0.001</span>)</span><br><span class="line">                              </span><br><span class="line"><span class="comment"># scheduler</span></span><br><span class="line">step_lr_schedule = lr_scheduler.StepLR(optimizer, step_size=<span class="number">7</span>, gamma=<span class="number">0.1</span>) <span class="comment"># Every 7 stepï¼Œ learning rate multiple by 0.1</span></span><br><span class="line">                              </span><br><span class="line">model = train_model(model, criterion, optimizer, step_lr_schedule, num_epochs=<span class="number">7</span>)</span><br></pre></td></tr></tbody></table></figure></li></ol></blockquote><h3 id="11-Tensorboard"><a href="#11-Tensorboard" class="headerlink" title="11. Tensorboard"></a>11. Tensorboard</h3><blockquote><p>Tensorbardæ˜¯å¾ˆå¥½çš„å¯è§†åŒ–å·¥å…·ï¼Œå…·ä½“å¯ä»¥å‚è€ƒå¦‚ä¸‹çš„ä»£ç ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Tensorboard</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">import</span> torchvision.transforms <span class="keyword">as</span> transforms</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment">############## TENSORBOARD ########################</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"></span><br><span class="line"><span class="comment"># default `log_dir` is "runs" - we'll be more specific here</span></span><br><span class="line">writer = SummaryWriter(<span class="string">'runs/mnist1'</span>)</span><br><span class="line"><span class="comment">###################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Device configuration</span></span><br><span class="line">device = torch.device(<span class="string">'cuda'</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">'cpu'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hyper-parameters</span></span><br><span class="line">input_size = <span class="number">784</span>  <span class="comment"># 28x28</span></span><br><span class="line">hidden_size = <span class="number">500</span></span><br><span class="line">num_classes = <span class="number">10</span></span><br><span class="line">num_epochs = <span class="number">1</span></span><br><span class="line">batch_size = <span class="number">64</span></span><br><span class="line">learning_rate = <span class="number">0.001</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># MNIST dataset</span></span><br><span class="line">train_dataset = torchvision.datasets.MNIST(root=<span class="string">'./data'</span>,</span><br><span class="line">                                           train=<span class="literal">True</span>,</span><br><span class="line">                                           transform=transforms.ToTensor(),</span><br><span class="line">                                           download=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">test_dataset = torchvision.datasets.MNIST(root=<span class="string">'./data'</span>,</span><br><span class="line">                                          train=<span class="literal">False</span>,</span><br><span class="line">                                          transform=transforms.ToTensor())</span><br><span class="line"></span><br><span class="line"><span class="comment"># Data loader</span></span><br><span class="line">train_loader = torch.utils.data.DataLoader(dataset=train_dataset,</span><br><span class="line">                                           batch_size=batch_size,</span><br><span class="line">                                           shuffle=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">test_loader = torch.utils.data.DataLoader(dataset=test_dataset,</span><br><span class="line">                                          batch_size=batch_size,</span><br><span class="line">                                          shuffle=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">examples = <span class="built_in">iter</span>(test_loader)</span><br><span class="line">example_data, example_targets = examples.<span class="built_in">next</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>):</span><br><span class="line">    plt.subplot(<span class="number">2</span>, <span class="number">3</span>, i + <span class="number">1</span>)</span><br><span class="line">    plt.imshow(example_data[i][<span class="number">0</span>], cmap=<span class="string">'gray'</span>)</span><br><span class="line"><span class="comment"># plt.show()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">############## TENSORBOARD ########################</span></span><br><span class="line">img_grid = torchvision.utils.make_grid(example_data)</span><br><span class="line">writer.add_image(<span class="string">'mnist_images'</span>, img_grid)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># writer.close()</span></span><br><span class="line"><span class="comment"># sys.exit()</span></span><br><span class="line"><span class="comment">###################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Fully connected neural network with one hidden layer</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NeuralNet</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, input_size, hidden_size, num_classes</span>):</span><br><span class="line">        <span class="built_in">super</span>(NeuralNet, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.input_size = input_size</span><br><span class="line">        <span class="variable language_">self</span>.l1 = nn.Linear(input_size, hidden_size)</span><br><span class="line">        <span class="variable language_">self</span>.relu = nn.ReLU()</span><br><span class="line">        <span class="variable language_">self</span>.l2 = nn.Linear(hidden_size, num_classes)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        out = <span class="variable language_">self</span>.l1(x)</span><br><span class="line">        out = <span class="variable language_">self</span>.relu(out)</span><br><span class="line">        out = <span class="variable language_">self</span>.l2(out)</span><br><span class="line">        <span class="comment"># no activation and no softmax at the end</span></span><br><span class="line">        <span class="keyword">return</span> out</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">model = NeuralNet(input_size, hidden_size, num_classes).to(device)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Loss and optimizer</span></span><br><span class="line">criterion = nn.CrossEntropyLoss()</span><br><span class="line">optimizer = torch.optim.Adam(model.parameters(), lr=learning_rate)</span><br><span class="line"></span><br><span class="line"><span class="comment">############## TENSORBOARD ########################</span></span><br><span class="line">writer.add_graph(model, example_data.reshape(-<span class="number">1</span>, <span class="number">28</span> * <span class="number">28</span>))</span><br><span class="line"><span class="comment"># writer.close()</span></span><br><span class="line"><span class="comment"># sys.exit()</span></span><br><span class="line"><span class="comment">###################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Train the model</span></span><br><span class="line">running_loss = <span class="number">0.0</span></span><br><span class="line">running_correct = <span class="number">0</span></span><br><span class="line">n_total_steps = <span class="built_in">len</span>(train_loader)</span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line">    <span class="keyword">for</span> i, (images, labels) <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_loader):</span><br><span class="line">        <span class="comment"># origin shape: [100, 1, 28, 28]</span></span><br><span class="line">        <span class="comment"># resized: [100, 784]</span></span><br><span class="line">        images = images.reshape(-<span class="number">1</span>, <span class="number">28</span> * <span class="number">28</span>).to(device)</span><br><span class="line">        labels = labels.to(device)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Forward pass</span></span><br><span class="line">        outputs = model(images)</span><br><span class="line">        loss = criterion(outputs, labels)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Backward and optimize</span></span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line"></span><br><span class="line">        running_loss += loss.item()</span><br><span class="line"></span><br><span class="line">        _, predicted = torch.<span class="built_in">max</span>(outputs.data, <span class="number">1</span>)</span><br><span class="line">        running_correct += (predicted == labels).<span class="built_in">sum</span>().item()</span><br><span class="line">        <span class="keyword">if</span> (i + <span class="number">1</span>) % <span class="number">100</span> == <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f'Epoch [<span class="subst">{epoch + <span class="number">1</span>}</span>/<span class="subst">{num_epochs}</span>], Step [<span class="subst">{i + <span class="number">1</span>}</span>/<span class="subst">{n_total_steps}</span>], Loss: <span class="subst">{loss.item():<span class="number">.4</span>f}</span>'</span>)</span><br><span class="line">            <span class="comment">############## TENSORBOARD ########################</span></span><br><span class="line">            writer.add_scalar(<span class="string">'training loss'</span>, running_loss / <span class="number">100</span>, epoch * n_total_steps + i)</span><br><span class="line">            running_accuracy = running_correct / <span class="number">100</span> / predicted.size(<span class="number">0</span>)</span><br><span class="line">            writer.add_scalar(<span class="string">'accuracy'</span>, running_accuracy, epoch * n_total_steps + i)</span><br><span class="line">            running_correct = <span class="number">0</span></span><br><span class="line">            running_loss = <span class="number">0.0</span></span><br><span class="line">            <span class="comment">###################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Test the model</span></span><br><span class="line"><span class="comment"># In test phase, we don't need to compute gradients (for memory efficiency)</span></span><br><span class="line">class_labels = []</span><br><span class="line">class_preds = []</span><br><span class="line"><span class="keyword">with</span> torch.no_grad():</span><br><span class="line">    n_correct = <span class="number">0</span></span><br><span class="line">    n_samples = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> images, labels <span class="keyword">in</span> test_loader:</span><br><span class="line">        images = images.reshape(-<span class="number">1</span>, <span class="number">28</span> * <span class="number">28</span>).to(device)</span><br><span class="line">        labels = labels.to(device)</span><br><span class="line">        outputs = model(images)</span><br><span class="line">        <span class="comment"># max returns (value ,index)</span></span><br><span class="line">        values, predicted = torch.<span class="built_in">max</span>(outputs.data, <span class="number">1</span>)</span><br><span class="line">        n_samples += labels.size(<span class="number">0</span>)</span><br><span class="line">        n_correct += (predicted == labels).<span class="built_in">sum</span>().item()</span><br><span class="line"></span><br><span class="line">        class_probs_batch = [F.softmax(output, dim=<span class="number">0</span>) <span class="keyword">for</span> output <span class="keyword">in</span> outputs]</span><br><span class="line"></span><br><span class="line">        class_preds.append(class_probs_batch)</span><br><span class="line">        class_labels.append(predicted)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 10000, 10, and 10000, 1</span></span><br><span class="line">    <span class="comment"># stack concatenates tensors along a new dimension</span></span><br><span class="line">    <span class="comment"># cat concatenates tensors in the given dimension</span></span><br><span class="line">    class_preds = torch.cat([torch.stack(batch) <span class="keyword">for</span> batch <span class="keyword">in</span> class_preds])</span><br><span class="line">    class_labels = torch.cat(class_labels)</span><br><span class="line"></span><br><span class="line">    acc = <span class="number">100.0</span> * n_correct / n_samples</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f'Accuracy of the network on the 10000 test images: <span class="subst">{acc}</span> %'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">############## TENSORBOARD ########################</span></span><br><span class="line">    classes = <span class="built_in">range</span>(<span class="number">10</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> classes:</span><br><span class="line">        labels_i = class_labels == i</span><br><span class="line">        preds_i = class_preds[:, i]</span><br><span class="line">        writer.add_pr_curve(<span class="built_in">str</span>(i), labels_i, preds_i, global_step=<span class="number">0</span>)</span><br><span class="line">        writer.close()</span><br><span class="line">    <span class="comment">###################################################</span></span><br></pre></td></tr></tbody></table></figure></blockquote><h3 id="12-Saving-and-Loading-model"><a href="#12-Saving-and-Loading-model" class="headerlink" title="12. Saving and Loading model"></a>12. Saving and Loading model</h3><blockquote> <figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2 DIFFERENT WAYS OF SAVING</span><br><span class="line"># 1) lazy way: save whole model</span><br><span class="line">torch.save(model, PATH)</span><br><span class="line"></span><br><span class="line"># model class must be defined somewhere</span><br><span class="line">model = torch.load(PATH)</span><br><span class="line">model.eval()</span><br><span class="line"></span><br><span class="line"># 2) recommended way: save only the state_dict</span><br><span class="line">torch.save(model.state_dict(), PATH)</span><br><span class="line"></span><br><span class="line"># model must be created again with parameters</span><br><span class="line">model = Model(*args, **kwargs)</span><br><span class="line">model.load_state_dict(torch.load(PATH))</span><br><span class="line">model.eval()</span><br></pre></td></tr></tbody></table></figure><p> ç¤ºä¾‹ä»£ç å¦‚ä¸‹:</p> <figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Model</span>(nn.Module):</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, n_input_features</span>):</span><br><span class="line">    <span class="built_in">super</span>(Model, <span class="variable language_">self</span>).__init__()</span><br><span class="line">    <span class="variable language_">self</span>.linear = nn.Linear(n_input_features, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">    y_pred = torch.sigmoid(<span class="variable language_">self</span>.linear(x))</span><br><span class="line">    <span class="keyword">return</span> y_pred</span><br><span class="line"></span><br><span class="line">model = Model(n_input_features=<span class="number">6</span>)</span><br><span class="line"><span class="comment"># train your model...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">####################save all ######################################</span></span><br><span class="line"><span class="keyword">for</span> param <span class="keyword">in</span> model.parameters():</span><br><span class="line"><span class="built_in">print</span>(param)</span><br><span class="line"></span><br><span class="line"><span class="comment"># save and load entire model</span></span><br><span class="line"></span><br><span class="line">FILE = <span class="string">"model.pth"</span></span><br><span class="line">torch.save(model, FILE)</span><br><span class="line"></span><br><span class="line">loaded_model = torch.load(FILE)</span><br><span class="line">loaded_model.<span class="built_in">eval</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> param <span class="keyword">in</span> loaded_model.parameters():</span><br><span class="line"><span class="built_in">print</span>(param)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">############save only state dict #########################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># save only state dict</span></span><br><span class="line">FILE = <span class="string">"model.pth"</span></span><br><span class="line">torch.save(model.state_dict(), FILE)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(model.state_dict())</span><br><span class="line">loaded_model = Model(n_input_features=<span class="number">6</span>)</span><br><span class="line">loaded_model.load_state_dict(torch.load(FILE)) <span class="comment"># it takes the loaded dictionary, not the path file itself</span></span><br><span class="line">loaded_model.<span class="built_in">eval</span>()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(loaded_model.state_dict())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">###########load checkpoint#####################</span></span><br><span class="line">learning_rate = <span class="number">0.01</span></span><br><span class="line">optimizer = torch.optim.SGD(model.parameters(), lr=learning_rate)</span><br><span class="line"></span><br><span class="line">checkpoint = {</span><br><span class="line"><span class="string">"epoch"</span>: <span class="number">90</span>,</span><br><span class="line"><span class="string">"model_state"</span>: model.state_dict(),</span><br><span class="line"><span class="string">"optim_state"</span>: optimizer.state_dict()</span><br><span class="line">}</span><br><span class="line"><span class="built_in">print</span>(optimizer.state_dict())</span><br><span class="line">FILE = <span class="string">"checkpoint.pth"</span></span><br><span class="line">torch.save(checkpoint, FILE)</span><br><span class="line"></span><br><span class="line">model = Model(n_input_features=<span class="number">6</span>)</span><br><span class="line">optimizer = optimizer = torch.optim.SGD(model.parameters(), lr=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">checkpoint = torch.load(FILE)</span><br><span class="line">model.load_state_dict(checkpoint[<span class="string">'model_state'</span>])</span><br><span class="line">optimizer.load_state_dict(checkpoint[<span class="string">'optim_state'</span>])</span><br><span class="line">epoch = checkpoint[<span class="string">'epoch'</span>]</span><br><span class="line"></span><br><span class="line">model.<span class="built_in">eval</span>()</span><br><span class="line"><span class="comment"># - or -</span></span><br><span class="line"><span class="comment"># model.train()</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(optimizer.state_dict())</span><br><span class="line"></span><br><span class="line"><span class="comment"># Remember that you must call model.eval() to set dropout and batch normalization layers </span></span><br><span class="line"><span class="comment"># to evaluation mode before running inference. Failing to do this will yield </span></span><br><span class="line"><span class="comment"># inconsistent inference results. If you wish to resuming training, </span></span><br><span class="line"><span class="comment"># call model.train() to ensure these layers are in training mode.</span></span><br><span class="line"></span><br><span class="line"><span class="string">""" SAVING ON GPU/CPU </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 1) Save on GPU, Load on CPU</span></span><br><span class="line"><span class="string">device = torch.device("cuda")</span></span><br><span class="line"><span class="string">model.to(device)</span></span><br><span class="line"><span class="string">torch.save(model.state_dict(), PATH)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">device = torch.device('cpu')</span></span><br><span class="line"><span class="string">model = Model(*args, **kwargs)</span></span><br><span class="line"><span class="string">model.load_state_dict(torch.load(PATH, map_location=device))</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 2) Save on GPU, Load on GPU</span></span><br><span class="line"><span class="string">device = torch.device("cuda")</span></span><br><span class="line"><span class="string">model.to(device)</span></span><br><span class="line"><span class="string">torch.save(model.state_dict(), PATH)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">model = Model(*args, **kwargs)</span></span><br><span class="line"><span class="string">model.load_state_dict(torch.load(PATH))</span></span><br><span class="line"><span class="string">model.to(device)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># Note: Be sure to use the .to(torch.device('cuda')) function </span></span><br><span class="line"><span class="string"># on all model inputs, too!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 3) Save on CPU, Load on GPU</span></span><br><span class="line"><span class="string">torch.save(model.state_dict(), PATH)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">device = torch.device("cuda")</span></span><br><span class="line"><span class="string">model = Model(*args, **kwargs)</span></span><br><span class="line"><span class="string">model.load_state_dict(torch.load(PATH, map_location="cuda:0"))  # Choose whatever GPU device number you want</span></span><br><span class="line"><span class="string">model.to(device)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># This loads the model to a given GPU device. </span></span><br><span class="line"><span class="string"># Next, be sure to call model.to(torch.device('cuda')) to convert the modelâ€™s parameter tensors to CUDA tensors</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></tbody></table></figure></blockquote><h3 id="13-Summary"><a href="#13-Summary" class="headerlink" title="13. Summary"></a>13. Summary</h3><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210805230250.png" alt="pytorch" style="zoom:50%;">]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> pytorch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Huggingface é¢„è®­ç»ƒæ¨¡å‹æƒé‡ä¸‹è½½çš„é—®é¢˜</title>
      <link href="/2021/07/01/huggingface-yu-xun-lian-mo-xing-quan-chong-xia-zai-de-wen-ti/"/>
      <url>/2021/07/01/huggingface-yu-xun-lian-mo-xing-quan-chong-xia-zai-de-wen-ti/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡è½¬è‡ª<a href="https://www.bilibili.com/read/cv8231417">Hugging faceé¢„è®­ç»ƒæ¨¡å‹</a>å’Œ<a href="https://cloud.tencent.com/developer/article/1745037">Huggingface é¢„è®­ç»ƒæ¨¡å‹æƒé‡ä¸‹è½½çš„é—®é¢˜</a></p></blockquote><p>Hugging faceæ˜¯ä¸€ä¸ªä¸“æ³¨äºNLPçš„å…¬å¸ï¼Œæ‹¥æœ‰ä¸€ä¸ªå¼€æºçš„é¢„è®­ç»ƒæ¨¡å‹åº“&nbsp;Transformers&nbsp;ï¼Œé‡Œé¢å›Šæ‹¬äº†éå¸¸å¤šçš„æ¨¡å‹ä¾‹å¦‚&nbsp;BERT&nbsp;GPT&nbsp;ç­‰.</p><h4 id="æ¨¡å‹åº“"><a href="#æ¨¡å‹åº“" class="headerlink" title="æ¨¡å‹åº“"></a>æ¨¡å‹åº“</h4><p>å®˜ç½‘çš„æ¨¡å‹åº“çš„åœ°å€å¦‚ä¸‹ï¼š<a href="https://huggingface.co/models">https://huggingface.co/models</a> </p><h4 id="ä½¿ç”¨æ¨¡å‹"><a href="#ä½¿ç”¨æ¨¡å‹" class="headerlink" title="ä½¿ç”¨æ¨¡å‹"></a>ä½¿ç”¨æ¨¡å‹</h4><p>é¦–å…ˆéœ€è¦å®‰è£…transformersåº“ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install transformers</span><br></pre></td></tr></tbody></table></figure><p>æ¥ä¸‹æ¥åœ¨ä»£ç ä¸­è°ƒç”¨ <font color="red"> AutoTokenizer.from_pretrained</font> å’Œ <font color="red"> AutoModel.from_pretrained </font>å³å¯, ä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> *</span><br><span class="line">model_name = <span class="string">'hfl/chinese-xlnet-base'</span></span><br><span class="line">tokenizer = AutoTokenizer.from_pretrained(model_name)</span><br><span class="line">model = AutoModel.from_pretrained(model_name)</span><br></pre></td></tr></tbody></table></figure><p>è¿è¡Œåç³»ç»Ÿä¼šè‡ªåŠ¨ä¸‹è½½ç›¸å…³çš„æ¨¡å‹æ–‡ä»¶å¹¶å­˜æ”¾åœ¨ç”µè„‘ä¸­ã€‚ä½¿ç”¨Windowsæ¨¡å‹ä¿å­˜çš„è·¯å¾„åœ¨ <font color="red"> C:\Users[ç”¨æˆ·å].cache\torch\transformers</font>ç›®å½•ä¸‹ï¼Œæ ¹æ®æ¨¡å‹çš„ä¸åŒä¸‹è½½çš„ä¸œè¥¿ä¹Ÿä¸ç›¸åŒ</p><p>ä½¿ç”¨Linuxæ¨¡å‹ä¿å­˜çš„è·¯å¾„åœ¨ <font color="red"> ~/.cache/torch/transformers/ </font>ç›®å½•ä¸‹ã€‚</p><h4 id="å­˜åœ¨çš„é—®é¢˜"><a href="#å­˜åœ¨çš„é—®é¢˜" class="headerlink" title="å­˜åœ¨çš„é—®é¢˜"></a>å­˜åœ¨çš„é—®é¢˜</h4><p>è¿™äº›å‰ææ˜¯ä½ çš„ç”µè„‘æœ‰ç½‘ç»œå¯ä»¥ç›´æ¥ä½¿ç”¨ä»£ç ä¸‹è½½ç›¸åº”çš„æ¨¡å‹æ–‡ä»¶ï¼Œä½†æ˜¯é—®é¢˜æ˜¯æœ‰äº›æœºå™¨æ˜¯æ²¡æœ‰å¤–ç½‘è¿æ¥æƒé™æˆ–è€…ä¸‹è½½é€Ÿåº¦éå¸¸æ…¢ã€‚</p><p>è¿™æ—¶å€™å°±éœ€è¦æŠŠæ¨¡å‹æ–‡ä»¶ä¸‹è½½ååœ¨å¯¼å…¥ä»£ç ä¸­ï¼Œè¿˜æ˜¯ä»¥åˆšæ‰çš„  <font color="red"> hfl/chinese-xlnet-base </font>æ¨¡å‹ä¸ºä¾‹ï¼Œç›´æ¥åœ¨å®˜ç½‘æœç´¢æ¨¡å‹ï¼Œç‚¹å‡»è¿›å…¥æ¨¡å‹çš„è¯¦æƒ…ç•Œé¢</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210701024119.png" alt="20210701024119"></p><p>åœ¨ç•Œé¢ä¸­æ‰¾åˆ° Files</p><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210701024235.png" alt="20210701024235"></p><p>æŠŠå¼¹çª—å†…çš„æ–‡ä»¶å…¨éƒ¨ä¸‹è½½ä¸‹æ¥</p><p>æˆ‘ä»¬å‡è®¾æ–‡ä»¶ä¿å­˜åœ¨<font color="red"> E:\models\hfl\chinese-xlnet-base\ </font>ç›®å½•ä¸‹</p><p>æˆ‘ä»¬åªéœ€è¦æŠŠ<font color="red">model_name </font>ä¿®æ”¹ä¸ºä¸‹è½½çš„æ–‡ä»¶å¤¹å³å¯</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> *</span><br><span class="line">model_name = <span class="string">'E:/models/hfl/chinese-xlnet-base/'</span></span><br><span class="line">tokenizer = AutoTokenizer.from_pretrained(model_name)</span><br><span class="line">model = AutoModel.from_pretrained(model_name)</span><br></pre></td></tr></tbody></table></figure><p>è¿™æ ·é—®é¢˜å°±è§£å†³äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> äººå·¥æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¢„è®­ç»ƒæ¨¡å‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jupyter notebook æœ¬åœ°æœåŠ¡å™¨æ­å»º</title>
      <link href="/2021/06/21/jupyter-notebook-ben-di-fu-wu-qi-da-jian/"/>
      <url>/2021/06/21/jupyter-notebook-ben-di-fu-wu-qi-da-jian/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©åœ¨å®éªŒå®¤çš„æœåŠ¡å™¨ä¸»æœºä¸Šé¢æ­å»ºäº†jupyter notebookæœåŠ¡å™¨ï¼Œè®°å½•ä¸€ä¸‹æ­å»ºæ­¥éª¤ï¼Œæ–¹ä¾¿ä»¥åæŸ¥çœ‹ã€‚</p><h4 id="æœåŠ¡å™¨ç«¯æ“ä½œ"><a href="#æœåŠ¡å™¨ç«¯æ“ä½œ" class="headerlink" title="æœåŠ¡å™¨ç«¯æ“ä½œ"></a>æœåŠ¡å™¨ç«¯æ“ä½œ</h4><h5 id="ç”ŸæˆJupyter-Notebooké…ç½®æ–‡ä»¶"><a href="#ç”ŸæˆJupyter-Notebooké…ç½®æ–‡ä»¶" class="headerlink" title="ç”ŸæˆJupyter Notebooké…ç½®æ–‡ä»¶"></a>ç”ŸæˆJupyter Notebooké…ç½®æ–‡ä»¶</h5><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jupyter notebook --generate-config</span><br></pre></td></tr></tbody></table></figure><h5 id="è®¾ç½®ç™»å½•å¯†ç "><a href="#è®¾ç½®ç™»å½•å¯†ç " class="headerlink" title="è®¾ç½®ç™»å½•å¯†ç "></a>è®¾ç½®ç™»å½•å¯†ç </h5><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨å‘½ä»¤è¡Œè¾“å…¥pythonå‘½ä»¤ï¼Œè¿›å…¥pythonäº¤äº’ç•Œé¢ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤</span></span><br><span class="line">from notebook.auth import passwd</span><br><span class="line">passwd()</span><br><span class="line">Enter password:</span><br><span class="line">Verify password:</span><br><span class="line">Out[2]: <span class="string">'sha1:67c9e60bb8b6:9ffede0825894254b2e042ea597d771089e11aed'</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>å°†ç”Ÿæˆçš„ä»£ç æ·»åŠ åˆ°é…ç½®æ–‡ä»¶ä¸­</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.password = u<span class="string">'sha1:67c9e60bb8b6:9ffede0825894254b2e042ea597d771089e11aed'</span></span><br></pre></td></tr></tbody></table></figure><h5 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h5><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim ~/.jupyter/jupyter_notebook_config.py</span><br></pre></td></tr></tbody></table></figure><p>åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.allow_origin = <span class="string">'*'</span></span><br><span class="line">c.NotebookApp.ip = <span class="string">'0.0.0.0'</span> <span class="comment">#æ‰€æœ‰ç»‘å®šæœåŠ¡å™¨çš„IPéƒ½èƒ½è®¿é—®ï¼Œè‹¥æƒ³åªåœ¨ç‰¹å®šipè®¿é—®ï¼Œè¾“å…¥ipåœ°å€å³å¯</span></span><br><span class="line">c.NotebookApp.port = 2021 <span class="comment">#å°†ç«¯å£è®¾ç½®ä¸ºè‡ªå·±å–œæ¬¢çš„å§ï¼Œé»˜è®¤æ˜¯8888</span></span><br><span class="line">c.NotebookApp.open_browser = False <span class="comment">#æˆ‘ä»¬å¹¶ä¸æƒ³åœ¨æœåŠ¡å™¨ä¸Šç›´æ¥æ‰“å¼€Jupyter Notebookï¼Œæ‰€ä»¥è®¾ç½®æˆFalse</span></span><br><span class="line">c.NotebookApp.notebook_dir = <span class="string">'/home/jupyter_projects'</span> <span class="comment">#è¿™é‡Œæ˜¯è®¾ç½®Jupyterçš„æ ¹ç›®å½•ï¼Œè‹¥ä¸è®¾ç½®å°†é»˜è®¤rootçš„æ ¹ç›®å½•ï¼Œä¸å®‰å…¨</span></span><br><span class="line">c.NotebookApp.allow_root = True <span class="comment"># ä¸ºäº†å®‰å…¨ï¼ŒJupyteré»˜è®¤ä¸å…è®¸ä»¥rootæƒé™å¯åŠ¨jupyter</span></span><br><span class="line">c.NotebookApp.allow_remote_access = True</span><br><span class="line">c.NotebookApp.password = u<span class="string">'sha1:67c9e60bb8b6:9ffede0825894254b2e042ea597d771089e11aed'</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h5 id="å¯åŠ¨jupyter-notebook"><a href="#å¯åŠ¨jupyter-notebook" class="headerlink" title="å¯åŠ¨jupyter notebook"></a>å¯åŠ¨jupyter notebook</h5><p>åœ¨ç»ˆç«¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤å¯åŠ¨jupyter notebookï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook</span><br></pre></td></tr></tbody></table></figure><h4 id="å®¢æœç«¯ç”µè„‘æ“ä½œ"><a href="#å®¢æœç«¯ç”µè„‘æ“ä½œ" class="headerlink" title="å®¢æœç«¯ç”µè„‘æ“ä½œ"></a>å®¢æœç«¯ç”µè„‘æ“ä½œ</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ssh username@ipaddress -L 2021:127.0.0.1:2021</span><br></pre></td></tr></tbody></table></figure><p>æœ€ååœ¨æœ¬åœ°æµè§ˆå™¨è¾“å…¥åœ°å€ï¼š127.0.0.1:2021 è®¿é—®</p>]]></content>
      
      
      <categories>
          
          <category> çˆ¬å‘æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jupyter notebook </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœºå™¨å­¦ä¹ ä¸­çš„å„ç§ç†µ</title>
      <link href="/2021/04/16/ji-qi-xue-xi-zhong-de-ge-chong-shang/"/>
      <url>/2021/04/16/ji-qi-xue-xi-zhong-de-ge-chong-shang/</url>
      
        <content type="html"><![CDATA[<h3 id="æ¦‚å¿µå’Œå®šä¹‰"><a href="#æ¦‚å¿µå’Œå®šä¹‰" class="headerlink" title="æ¦‚å¿µå’Œå®šä¹‰"></a>æ¦‚å¿µå’Œå®šä¹‰</h3><h4 id="ç†µ"><a href="#ç†µ" class="headerlink" title="ç†µ"></a>ç†µ</h4><h4 id="æ¡ä»¶ç†µ"><a href="#æ¡ä»¶ç†µ" class="headerlink" title="æ¡ä»¶ç†µ"></a>æ¡ä»¶ç†µ</h4><h4 id="äº¤å‰ç†µ"><a href="#äº¤å‰ç†µ" class="headerlink" title="äº¤å‰ç†µ"></a>äº¤å‰ç†µ</h4><h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><ul><li><p><a href="https://www.cnblogs.com/Arborday/p/10727147.html">https://www.cnblogs.com/Arborday/p/10727147.html</a></p></li><li><p><a href="https://zhuanlan.zhihu.com/p/35379531">https://zhuanlan.zhihu.com/p/35379531</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> æœºå™¨å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç†µ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitå¸¸ç”¨å‘½ä»¤</title>
      <link href="/2021/04/08/git-chang-yong-ming-ling/"/>
      <url>/2021/04/08/git-chang-yong-ming-ling/</url>
      
        <content type="html"><![CDATA[<h4 id="gitåŸºäºå†å²commitåˆ›å»ºåˆ†æ”¯"><a href="#gitåŸºäºå†å²commitåˆ›å»ºåˆ†æ”¯" class="headerlink" title="gitåŸºäºå†å²commitåˆ›å»ºåˆ†æ”¯"></a>gitåŸºäºå†å²commitåˆ›å»ºåˆ†æ”¯</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br><span class="line">git branch &lt;branch name&gt; &lt;SHA1&gt; </span><br><span class="line">git checkout &lt;branch name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¹Ÿå¯ä»¥ç›´æ¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</span></span><br><span class="line">git checkout -b &lt;branch name&gt; &lt;SHA1&gt; </span><br></pre></td></tr></tbody></table></figure><h4 id="gitå¯¹åˆ†æ”¯çš„æ“ä½œ"><a href="#gitå¯¹åˆ†æ”¯çš„æ“ä½œ" class="headerlink" title="gitå¯¹åˆ†æ”¯çš„æ“ä½œ"></a>gitå¯¹åˆ†æ”¯çš„æ“ä½œ</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git branch -a</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">git branch</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ›å»ºåˆ†æ”¯</span></span><br><span class="line">git branch branch_name</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ‡æ¢åˆ°åˆ†æ”¯</span></span><br><span class="line">git checkout branch_name</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">git branch -d branch_name</span><br><span class="line"></span><br><span class="line"><span class="comment">#é‡å‘½åæœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">git branch -m old new</span><br><span class="line"></span><br><span class="line"><span class="comment">#é‡å‘½åè¿œç¨‹åˆ†æ”¯ï¼šå°†è¿œç¨‹åˆ†æ”¯åˆ é™¤ï¼Œç„¶åå°†æœ¬åœ°åˆ†æ”¯é‡å‘½åï¼Œæœ€åå°†æœ¬åœ°åˆ†æ”¯æ¨åˆ°è¿œç¨‹</span></span><br><span class="line">git push --delete origin old <span class="comment">#åˆ é™¤è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git branch -m old new <span class="comment">#é‡å‘½åæœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">git push origin new <span class="comment">#å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h4 id="gitå¯¹æ¯”ä¸¤ä¸ªåˆ†æ”¯å·®å¼‚"><a href="#gitå¯¹æ¯”ä¸¤ä¸ªåˆ†æ”¯å·®å¼‚" class="headerlink" title="gitå¯¹æ¯”ä¸¤ä¸ªåˆ†æ”¯å·®å¼‚"></a><a href="https://www.jianshu.com/p/bb97fabb475e">gitå¯¹æ¯”ä¸¤ä¸ªåˆ†æ”¯å·®å¼‚</a></h4>]]></content>
      
      
      <categories>
          
          <category> çˆ¬å‘æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NLPçŸ¥è¯†ä½“ç³»</title>
      <link href="/2021/04/08/nlp-zhi-shi-ti-xi/"/>
      <url>/2021/04/08/nlp-zhi-shi-ti-xi/</url>
      
        <content type="html"><![CDATA[<h3 id="ç¬¬ä¸€éƒ¨åˆ†ï¼šæœºå™¨å­¦ä¹ åŸºç¡€ç¯‡"><a href="#ç¬¬ä¸€éƒ¨åˆ†ï¼šæœºå™¨å­¦ä¹ åŸºç¡€ç¯‡" class="headerlink" title="ç¬¬ä¸€éƒ¨åˆ†ï¼šæœºå™¨å­¦ä¹ åŸºç¡€ç¯‡"></a>ç¬¬ä¸€éƒ¨åˆ†ï¼šæœºå™¨å­¦ä¹ åŸºç¡€ç¯‡</h3><h4 id="ç¬¬ä¸€ç« ï¼šè‡ªç„¶è¯­è¨€å¤„ç†æ¦‚è¿°"><a href="#ç¬¬ä¸€ç« ï¼šè‡ªç„¶è¯­è¨€å¤„ç†æ¦‚è¿°" class="headerlink" title="ç¬¬ä¸€ç« ï¼šè‡ªç„¶è¯­è¨€å¤„ç†æ¦‚è¿°"></a>ç¬¬ä¸€ç« ï¼šè‡ªç„¶è¯­è¨€å¤„ç†æ¦‚è¿°</h4><ul><li><p>è‡ªç„¶è¯­è¨€å¤„ç†çš„ç°çŠ¶ä¸å‰æ™¯</p></li><li><p>è‡ªç„¶è¯­è¨€å¤„ç†åº”ç”¨</p></li><li><p>è‡ªç„¶è¯­è¨€å¤„ç†ç»å…¸ä»»åŠ¡</p></li></ul><h4 id="ç¬¬äºŒç« ï¼šæ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€"><a href="#ç¬¬äºŒç« ï¼šæ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€" class="headerlink" title="ç¬¬äºŒç« ï¼šæ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€"></a>ç¬¬äºŒç« ï¼šæ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€</h4><ul><li><p>æ—¶é—´å¤æ‚åº¦ã€ç©ºé—´å¤æ‚åº¦</p></li><li><p>åŠ¨æ€è§„åˆ’</p></li><li><p>è´ªå¿ƒç®—æ³•</p></li><li><p>å„ç§æ’åºç®—æ³•</p></li></ul><h4 id="ç¬¬ä¸‰ç« ï¼šåˆ†ç±»ä¸é€»è¾‘å›å½’"><a href="#ç¬¬ä¸‰ç« ï¼šåˆ†ç±»ä¸é€»è¾‘å›å½’" class="headerlink" title="ç¬¬ä¸‰ç« ï¼šåˆ†ç±»ä¸é€»è¾‘å›å½’"></a>ç¬¬ä¸‰ç« ï¼šåˆ†ç±»ä¸é€»è¾‘å›å½’</h4><ul><li><p>é€»è¾‘å›å½’</p></li><li><p>æœ€å¤§ä¼¼ç„¶ä¼°è®¡</p></li><li><p>ä¼˜åŒ–ä¸æ¢¯åº¦ä¸‹é™æ³•</p></li><li><p>éšæœºæ¢¯åº¦ä¸‹é™æ³•</p></li></ul><h4 id="ç¬¬å››ç« ï¼šæ¨¡å‹æ³›åŒ–ä¸è°ƒå‚"><a href="#ç¬¬å››ç« ï¼šæ¨¡å‹æ³›åŒ–ä¸è°ƒå‚" class="headerlink" title="ç¬¬å››ç« ï¼šæ¨¡å‹æ³›åŒ–ä¸è°ƒå‚"></a>ç¬¬å››ç« ï¼šæ¨¡å‹æ³›åŒ–ä¸è°ƒå‚</h4><ul><li><p>ç†è§£è¿‡æ‹Ÿåˆã€é˜²æ­¢è¿‡æ‹Ÿåˆ</p></li><li><p>L1ä¸L2æ­£åˆ™</p></li><li><p>äº¤å‰éªŒè¯</p></li><li><p>æ­£åˆ™ä¸MAPä¼°è®¡</p></li></ul><h3 id="ç¬¬äºŒéƒ¨åˆ†ï¼šæ–‡æœ¬å¤„ç†ç¯‡"><a href="#ç¬¬äºŒéƒ¨åˆ†ï¼šæ–‡æœ¬å¤„ç†ç¯‡" class="headerlink" title="ç¬¬äºŒéƒ¨åˆ†ï¼šæ–‡æœ¬å¤„ç†ç¯‡"></a>ç¬¬äºŒéƒ¨åˆ†ï¼šæ–‡æœ¬å¤„ç†ç¯‡</h3><h4 id="ç¬¬äº”ç« ï¼šæ–‡æœ¬é¢„å¤„ç†ä¸è¡¨ç¤º"><a href="#ç¬¬äº”ç« ï¼šæ–‡æœ¬é¢„å¤„ç†ä¸è¡¨ç¤º" class="headerlink" title="ç¬¬äº”ç« ï¼šæ–‡æœ¬é¢„å¤„ç†ä¸è¡¨ç¤º"></a>ç¬¬äº”ç« ï¼šæ–‡æœ¬é¢„å¤„ç†ä¸è¡¨ç¤º</h4><ul><li><p>å„ç±»åˆ†è¯ç®—æ³•</p></li><li><p>è¯çš„æ ‡å‡†åŒ–</p></li><li><p>æ‹¼å†™çº é”™ã€åœç”¨è¯</p></li><li><p>ç‹¬çƒ­ç¼–ç è¡¨ç¤º</p></li><li><p>tf-idfä¸ç›¸ä¼¼åº¦</p></li><li><p>åˆ†å¸ƒå¼è¡¨ç¤ºä¸è¯å‘é‡</p></li><li><p>è¯å‘é‡å¯è§†åŒ–ä¸è¯„ä¼°</p></li></ul><h4 id="ç¬¬å…­ç« ï¼šè¯å‘é‡æŠ€æœ¯"><a href="#ç¬¬å…­ç« ï¼šè¯å‘é‡æŠ€æœ¯" class="headerlink" title="ç¬¬å…­ç« ï¼šè¯å‘é‡æŠ€æœ¯"></a>ç¬¬å…­ç« ï¼šè¯å‘é‡æŠ€æœ¯</h4><ul><li><p>ç‹¬çƒ­ç¼–ç çš„ä¼˜ç¼ºç‚¹</p></li><li><p>åˆ†å¸ƒå¼è¡¨ç¤ºçš„ä¼˜ç‚¹</p></li><li><p>é™æ€è¯å‘é‡ä¸åŠ¨æ€è¯å‘é‡</p></li><li><p>SkipGramä¸CBOW</p></li><li><p>SkipGramè¯¦è§£</p></li><li><p>Negative  Sampling</p></li></ul><h4 id="ç¬¬ä¸ƒç« ï¼šè¯­è¨€æ¨¡å‹"><a href="#ç¬¬ä¸ƒç« ï¼šè¯­è¨€æ¨¡å‹" class="headerlink" title="ç¬¬ä¸ƒç« ï¼šè¯­è¨€æ¨¡å‹"></a>ç¬¬ä¸ƒç« ï¼šè¯­è¨€æ¨¡å‹</h4><ul><li><p>è¯­è¨€æ¨¡å‹çš„ä½œç”¨</p></li><li><p>é©¬å°”ç§‘å¤«å‡è®¾</p></li><li><p>UniGram, BiGram, NGramæ¨¡å‹</p></li><li><p>è¯­è¨€æ¨¡å‹çš„è¯„ä¼°</p></li><li><p>è¯­è¨€æ¨¡å‹çš„å¹³æ»‘æŠ€æœ¯</p></li></ul><h3 id="ç¬¬ä¸‰éƒ¨åˆ†ï¼šåºåˆ—æ¨¡å‹ç¯‡"><a href="#ç¬¬ä¸‰éƒ¨åˆ†ï¼šåºåˆ—æ¨¡å‹ç¯‡" class="headerlink" title="ç¬¬ä¸‰éƒ¨åˆ†ï¼šåºåˆ—æ¨¡å‹ç¯‡"></a>ç¬¬ä¸‰éƒ¨åˆ†ï¼šåºåˆ—æ¨¡å‹ç¯‡</h3><h4 id="ç¬¬å…«ç« ï¼šéšé©¬å°”ç§‘å¤«æ¨¡å‹"><a href="#ç¬¬å…«ç« ï¼šéšé©¬å°”ç§‘å¤«æ¨¡å‹" class="headerlink" title="ç¬¬å…«ç« ï¼šéšé©¬å°”ç§‘å¤«æ¨¡å‹"></a>ç¬¬å…«ç« ï¼šéšé©¬å°”ç§‘å¤«æ¨¡å‹</h4><ul><li><p>HMMçš„åº”ç”¨</p></li><li><p>HMMçš„Inference</p></li><li><p>ç»´ç‰¹æ¯”ç®—æ³•</p></li><li><p>å‰å‘ã€åå‘ç®—æ³•</p></li><li><p>HMMçš„å‚æ•°ä¼°è®¡è¯¦è§£</p></li></ul><h4 id="ç¬¬ä¹ç« ï¼šçº¿æ€§æ¡ä»¶éšæœºåœº"><a href="#ç¬¬ä¹ç« ï¼šçº¿æ€§æ¡ä»¶éšæœºåœº" class="headerlink" title="ç¬¬ä¹ç« ï¼šçº¿æ€§æ¡ä»¶éšæœºåœº"></a>ç¬¬ä¹ç« ï¼šçº¿æ€§æ¡ä»¶éšæœºåœº</h4><ul><li><p>æœ‰å‘å›¾ä¸æ— å‘å›¾</p></li><li><p>ç”Ÿæˆæ¨¡å‹ä¸åˆ¤åˆ«æ¨¡å‹</p></li><li><p>ä»HMMä¸MEMM</p></li><li><p>MEMMä¸­çš„æ ‡ç­¾åç½®</p></li><li><p>Log-Linearæ¨¡å‹ä»‹ç»</p></li><li><p>ä»Log-Linearåˆ°LinearCRF</p></li><li><p>LinearCRFçš„å‚æ•°ä¼°è®¡</p></li></ul><h3 id="ç¬¬å››éƒ¨åˆ†ï¼šæ·±åº¦å­¦ä¹ ä¸é¢„è®­ç»ƒç¯‡"><a href="#ç¬¬å››éƒ¨åˆ†ï¼šæ·±åº¦å­¦ä¹ ä¸é¢„è®­ç»ƒç¯‡" class="headerlink" title="ç¬¬å››éƒ¨åˆ†ï¼šæ·±åº¦å­¦ä¹ ä¸é¢„è®­ç»ƒç¯‡"></a>ç¬¬å››éƒ¨åˆ†ï¼šæ·±åº¦å­¦ä¹ ä¸é¢„è®­ç»ƒç¯‡</h3><h4 id="ç¬¬åç« ï¼šæ·±åº¦å­¦ä¹ åŸºç¡€"><a href="#ç¬¬åç« ï¼šæ·±åº¦å­¦ä¹ åŸºç¡€" class="headerlink" title="ç¬¬åç« ï¼šæ·±åº¦å­¦ä¹ åŸºç¡€"></a>ç¬¬åç« ï¼šæ·±åº¦å­¦ä¹ åŸºç¡€</h4><ul><li><p>ç†è§£ç¥ç»ç½‘ç»œ</p></li><li><p>å„ç§å¸¸è§çš„æ¿€æ´»å‡½æ•°</p></li><li><p>åå‘ä¼ æ’­ç®—æ³•</p></li><li><p>æµ…å±‚æ¨¡å‹ä¸æ·±åº¦æ¨¡å‹å¯¹æ¯”</p></li><li><p>æ·±åº¦å­¦ä¹ ä¸­çš„å±‚æ¬¡è¡¨ç¤º</p></li><li><p>æ·±åº¦å­¦ä¹ ä¸­çš„è¿‡æ‹Ÿåˆ</p></li></ul><h4 id="ç¬¬åä¸€ç« ï¼šRNNä¸LSTM"><a href="#ç¬¬åä¸€ç« ï¼šRNNä¸LSTM" class="headerlink" title="ç¬¬åä¸€ç« ï¼šRNNä¸LSTM"></a>ç¬¬åä¸€ç« ï¼šRNNä¸LSTM</h4><ul><li><p>ä»HMMåˆ°RNNæ¨¡å‹</p></li><li><p>RNNä¸­çš„æ¢¯åº¦é—®é¢˜</p></li><li><p>æ¢¯åº¦æ¶ˆå¤±ä¸LSTM</p></li><li><p>LSTMåˆ°GRU</p></li><li><p>åŒå‘LSTM</p></li><li><p>åŒå‘æ·±åº¦LSTM</p></li></ul><h4 id="ç¬¬åäºŒç« ï¼šSeq2Seqæ¨¡å‹ä¸æ³¨æ„åŠ›æœºåˆ¶"><a href="#ç¬¬åäºŒç« ï¼šSeq2Seqæ¨¡å‹ä¸æ³¨æ„åŠ›æœºåˆ¶" class="headerlink" title="ç¬¬åäºŒç« ï¼šSeq2Seqæ¨¡å‹ä¸æ³¨æ„åŠ›æœºåˆ¶"></a>ç¬¬åäºŒç« ï¼šSeq2Seqæ¨¡å‹ä¸æ³¨æ„åŠ›æœºåˆ¶</h4><ul><li><p>Seq2Seqæ¨¡å‹</p></li><li><p>Greedy Decoding</p></li><li><p>Beam Search</p></li><li><p>é•¿ä¾èµ–æ‰€å­˜åœ¨çš„é—®é¢˜</p></li><li><p>æ³¨æ„åŠ›æœºåˆ¶çš„å®ç°</p></li></ul><h4 id="ç¬¬åä¸‰ç« ï¼šåŠ¨æ€è¯å‘é‡ä¸ELMoæŠ€æœ¯"><a href="#ç¬¬åä¸‰ç« ï¼šåŠ¨æ€è¯å‘é‡ä¸ELMoæŠ€æœ¯" class="headerlink" title="ç¬¬åä¸‰ç« ï¼šåŠ¨æ€è¯å‘é‡ä¸ELMoæŠ€æœ¯"></a>ç¬¬åä¸‰ç« ï¼šåŠ¨æ€è¯å‘é‡ä¸ELMoæŠ€æœ¯</h4><ul><li><p>åŸºäºä¸Šä¸‹æ–‡çš„è¯å‘é‡æŠ€æœ¯</p></li><li><p>å›¾åƒè¯†åˆ«ä¸­çš„å±‚æ¬¡è¡¨ç¤º</p></li><li><p>æ–‡æœ¬é¢†åŸŸä¸­çš„å±‚æ¬¡è¡¨ç¤º</p></li><li><p>ELMoæ¨¡å‹</p></li><li><p>ELMoçš„é¢„è®­ç»ƒä¸æµ‹è¯•</p></li><li><p>ELMoçš„ä¼˜ç¼ºç‚¹</p></li></ul><h4 id="ç¬¬åå››ç« ï¼šè‡ªæ³¨æ„åŠ›æœºåˆ¶ä¸Transformer"><a href="#ç¬¬åå››ç« ï¼šè‡ªæ³¨æ„åŠ›æœºåˆ¶ä¸Transformer" class="headerlink" title="ç¬¬åå››ç« ï¼šè‡ªæ³¨æ„åŠ›æœºåˆ¶ä¸Transformer"></a>ç¬¬åå››ç« ï¼šè‡ªæ³¨æ„åŠ›æœºåˆ¶ä¸Transformer</h4><ul><li><p>LSTMæ¨¡å‹çš„ç¼ºç‚¹</p></li><li><p>Transformeræ¦‚è¿°</p></li><li><p>ç†è§£è‡ªæ³¨æ„åŠ›æœºåˆ¶</p></li><li><p>ä½ç½®ä¿¡æ¯çš„ç¼–ç </p></li><li><p>ç†è§£Encoderå’ŒDecoderåŒºåˆ«</p></li><li><p>ç†è§£Transformerçš„è®­ç»ƒä¸é¢„æµ‹</p></li><li><p>Transformerçš„ç¼ºç‚¹</p></li></ul><h4 id="ç¬¬åäº”ç« ï¼šBERTä¸ALBERT"><a href="#ç¬¬åäº”ç« ï¼šBERTä¸ALBERT" class="headerlink" title="ç¬¬åäº”ç« ï¼šBERTä¸ALBERT"></a>ç¬¬åäº”ç« ï¼šBERTä¸ALBERT</h4><ul><li><p>è‡ªç¼–ç ä»‹ç»</p></li><li><p>Transformer Encoder</p></li><li><p>Maskedè¯­è¨€æ¨¡å‹</p></li><li><p>BERTæ¨¡å‹</p></li><li><p>BERTçš„ä¸åŒè®­ç»ƒæ–¹å¼</p></li><li><p>ALBERT</p></li></ul><h4 id="ç¬¬åå…­ç« ï¼šBERTçš„å…¶ä»–å˜ç§"><a href="#ç¬¬åå…­ç« ï¼šBERTçš„å…¶ä»–å˜ç§" class="headerlink" title="ç¬¬åå…­ç« ï¼šBERTçš„å…¶ä»–å˜ç§"></a>ç¬¬åå…­ç« ï¼šBERTçš„å…¶ä»–å˜ç§</h4><ul><li><p>RoBERTaæ¨¡å‹</p></li><li><p>SpanBERTæ¨¡å‹</p></li><li><p>FinBERTæ¨¡å‹</p></li><li><p>å¼•å…¥å…ˆéªŒçŸ¥è¯†</p></li><li><p>K-BERT</p></li><li><p>KG-BERT</p></li></ul><h4 id="ç¬¬åä¸ƒç« ï¼šGPTä¸XLNet"><a href="#ç¬¬åä¸ƒç« ï¼šGPTä¸XLNet" class="headerlink" title="ç¬¬åä¸ƒç« ï¼šGPTä¸XLNet"></a>ç¬¬åä¸ƒç« ï¼šGPTä¸XLNet</h4><ul><li><p>Transformer Encoderå›é¡¾</p></li><li><p>GPT-1, GPT-2,  GPT-3</p></li><li><p>ELMoçš„ç¼ºç‚¹</p></li><li><p>è¯­è¨€æ¨¡å‹ä¸‹åŒæ—¶è€ƒè™‘ä¸Šä¸‹æ–‡</p></li><li><p>Permutation LM</p></li><li><p>åŒæµè‡ªæ³¨æ„åŠ›æœºåˆ¶</p></li></ul><h3 id="ç¬¬äº”éƒ¨åˆ†ï¼šä¿¡æ¯æŠ½å–ä¸çŸ¥è¯†å›¾è°±ç¯‡"><a href="#ç¬¬äº”éƒ¨åˆ†ï¼šä¿¡æ¯æŠ½å–ä¸çŸ¥è¯†å›¾è°±ç¯‡" class="headerlink" title="ç¬¬äº”éƒ¨åˆ†ï¼šä¿¡æ¯æŠ½å–ä¸çŸ¥è¯†å›¾è°±ç¯‡"></a>ç¬¬äº”éƒ¨åˆ†ï¼šä¿¡æ¯æŠ½å–ä¸çŸ¥è¯†å›¾è°±ç¯‡</h3><h4 id="ç¬¬åå…«ç« ï¼šå‘½åè¯†åˆ«ä¸å®ä½“æ¶ˆæ­§"><a href="#ç¬¬åå…«ç« ï¼šå‘½åè¯†åˆ«ä¸å®ä½“æ¶ˆæ­§" class="headerlink" title="ç¬¬åå…«ç« ï¼šå‘½åè¯†åˆ«ä¸å®ä½“æ¶ˆæ­§"></a>ç¬¬åå…«ç« ï¼šå‘½åè¯†åˆ«ä¸å®ä½“æ¶ˆæ­§</h4><ul><li><p>ä¿¡æ¯æŠ½å–çš„åº”ç”¨å’Œå…³é”®æŠ€æœ¯</p></li><li><p>å‘½åå®ä½“è¯†åˆ«</p></li><li><p>NERè¯†åˆ«å¸¸ç”¨æŠ€æœ¯</p></li><li><p>å®ä½“ç»Ÿä¸€æŠ€æœ¯</p></li><li><p>å®ä½“æ¶ˆæ­§æŠ€æœ¯</p></li><li><p>æŒ‡ä»£æ¶ˆè§£</p></li></ul><h4 id="ç¬¬åä¹ç« ï¼šå…³ç³»æŠ½å–"><a href="#ç¬¬åä¹ç« ï¼šå…³ç³»æŠ½å–" class="headerlink" title="ç¬¬åä¹ç« ï¼šå…³ç³»æŠ½å–"></a>ç¬¬åä¹ç« ï¼šå…³ç³»æŠ½å–</h4><ul><li><p>å…³ç³»æŠ½å–çš„åº”ç”¨</p></li><li><p>åŸºäºè§„åˆ™çš„æ–¹æ³•</p></li><li><p>åŸºäºç›‘ç£å­¦ä¹ çš„æ–¹æ³•</p></li><li><p>Bootstrapæ–¹æ³•</p></li><li><p>Distant Supervisionæ–¹æ³•</p></li></ul><h4 id="ç¬¬äºŒåç« ï¼šå¥æ³•åˆ†æ"><a href="#ç¬¬äºŒåç« ï¼šå¥æ³•åˆ†æ" class="headerlink" title="ç¬¬äºŒåç« ï¼šå¥æ³•åˆ†æ"></a>ç¬¬äºŒåç« ï¼šå¥æ³•åˆ†æ</h4><ul><li><p>å¥æ³•åˆ†æçš„åº”ç”¨</p></li><li><p>CFGä»‹ç»</p></li><li><p>ä»CFGåˆ°PCFG</p></li><li><p>è¯„ä¼°è¯­æ³•æ ‘</p></li><li><p>å¯»æ‰¾æœ€å¥½çš„è¯­æ³•æ ‘</p></li><li><p>CKYç®—æ³•</p></li></ul><h4 id="ç¬¬äºŒåä¸€ç« ï¼šä¾å­˜æ–‡æ³•åˆ†æ"><a href="#ç¬¬äºŒåä¸€ç« ï¼šä¾å­˜æ–‡æ³•åˆ†æ" class="headerlink" title="ç¬¬äºŒåä¸€ç« ï¼šä¾å­˜æ–‡æ³•åˆ†æ"></a>ç¬¬äºŒåä¸€ç« ï¼šä¾å­˜æ–‡æ³•åˆ†æ</h4><ul><li><p>ä»è¯­æ³•åˆ†æåˆ°ä¾å­˜æ–‡æ³•åˆ†æ</p></li><li><p>ä¾å­˜æ–‡æ³•åˆ†æçš„åº”ç”¨</p></li><li><p>åŸºäºå›¾ç®—æ³•çš„ä¾å­˜æ–‡æ³•åˆ†æ</p></li><li><p>åŸºäºTransition-basedçš„ä¾å­˜æ–‡æ³•åˆ†æ</p></li><li><p>ä¾å­˜æ–‡æ³•çš„åº”ç”¨æ¡ˆä¾‹</p></li></ul><h4 id="ç¬¬äºŒåäºŒç« ï¼šçŸ¥è¯†å›¾è°±"><a href="#ç¬¬äºŒåäºŒç« ï¼šçŸ¥è¯†å›¾è°±" class="headerlink" title="ç¬¬äºŒåäºŒç« ï¼šçŸ¥è¯†å›¾è°±"></a>ç¬¬äºŒåäºŒç« ï¼šçŸ¥è¯†å›¾è°±</h4><ul><li><p>çŸ¥è¯†å›¾è°±çš„é‡è¦æ€§</p></li><li><p>çŸ¥è¯†å›¾è°±ä¸­çš„å®ä½“ä¸å…³ç³»</p></li><li><p>éç»“æ„åŒ–æ•°æ®ä¸æ„é€ çŸ¥è¯†å›¾è°±</p></li><li><p>çŸ¥è¯†å›¾è°±è®¾è®¡</p></li><li><p>å›¾ç®—æ³•çš„åº”ç”¨</p></li></ul><h3 id="ç¬¬å…­éƒ¨åˆ†ï¼šæ¨¡å‹å‹ç¼©ä¸å›¾ç¥ç»ç½‘ç»œç¯‡"><a href="#ç¬¬å…­éƒ¨åˆ†ï¼šæ¨¡å‹å‹ç¼©ä¸å›¾ç¥ç»ç½‘ç»œç¯‡" class="headerlink" title="ç¬¬å…­éƒ¨åˆ†ï¼šæ¨¡å‹å‹ç¼©ä¸å›¾ç¥ç»ç½‘ç»œç¯‡"></a>ç¬¬å…­éƒ¨åˆ†ï¼šæ¨¡å‹å‹ç¼©ä¸å›¾ç¥ç»ç½‘ç»œç¯‡</h3><h4 id="ç¬¬äºŒåä¸‰ç« ï¼šæ¨¡å‹çš„å‹ç¼©"><a href="#ç¬¬äºŒåä¸‰ç« ï¼šæ¨¡å‹çš„å‹ç¼©" class="headerlink" title="ç¬¬äºŒåä¸‰ç« ï¼šæ¨¡å‹çš„å‹ç¼©"></a>ç¬¬äºŒåä¸‰ç« ï¼šæ¨¡å‹çš„å‹ç¼©</h4><ul><li><p>æ¨¡å‹å‹ç¼©é‡è¦æ€§</p></li><li><p>å¸¸è§çš„æ¨¡å‹å‹ç¼©æ€»è§ˆ</p></li><li><p>åŸºäºçŸ©é˜µåˆ†è§£çš„å‹ç¼©æŠ€æœ¯</p></li><li><p>åŸºäºè’¸é¦çš„å‹ç¼©æŠ€æœ¯</p></li><li><p>åŸºäºè´å¶æ–¯æ¨¡å‹çš„å‹ç¼©æŠ€æœ¯</p></li><li><p>æ¨¡å‹çš„é‡åŒ–</p></li></ul><h4 id="ç¬¬äºŒåå››ç« ï¼šåŸºäºå›¾çš„å­¦ä¹ "><a href="#ç¬¬äºŒåå››ç« ï¼šåŸºäºå›¾çš„å­¦ä¹ " class="headerlink" title="ç¬¬äºŒåå››ç« ï¼šåŸºäºå›¾çš„å­¦ä¹ "></a>ç¬¬äºŒåå››ç« ï¼šåŸºäºå›¾çš„å­¦ä¹ </h4><ul><li><p>å›¾çš„è¡¨ç¤º</p></li><li><p>å›¾ä¸çŸ¥è¯†å›¾è°±</p></li><li><p>å…³äºå›¾çš„å¸¸è§ç®—æ³•</p></li><li><p>Deepwalkå’ŒNode2vec</p></li><li><p>TransEå›¾åµŒå…¥ç®—æ³•</p></li><li><p>DSNEå›¾åµŒå…¥ç®—æ³•</p></li></ul><h4 id="ç¬¬äºŒåäº”ç« ï¼šå›¾ç¥ç»ç½‘ç»œ"><a href="#ç¬¬äºŒåäº”ç« ï¼šå›¾ç¥ç»ç½‘ç»œ" class="headerlink" title="ç¬¬äºŒåäº”ç« ï¼šå›¾ç¥ç»ç½‘ç»œ"></a>ç¬¬äºŒåäº”ç« ï¼šå›¾ç¥ç»ç½‘ç»œ</h4><ul><li><p>å·ç§¯ç¥ç»ç½‘ç»œå›é¡¾</p></li><li><p>åœ¨å›¾ä¸­è®¾è®¡å·ç§¯æ“ä½œ</p></li><li><p>å›¾ä¸­çš„ä¿¡æ¯ä¼ é€’</p></li><li><p>å›¾å·ç§¯ç¥ç»ç½‘ç»œ</p></li><li><p>å›¾å·ç§¯ç¥ç»ç½‘ç»œçš„ç»å…¸åº”ç”¨</p></li></ul><h4 id="ç¬¬äºŒåå…­ç« ï¼šGraphSageä¸GAT"><a href="#ç¬¬äºŒåå…­ç« ï¼šGraphSageä¸GAT" class="headerlink" title="ç¬¬äºŒåå…­ç« ï¼šGraphSageä¸GAT"></a>ç¬¬äºŒåå…­ç« ï¼šGraphSageä¸GAT</h4><ul><li><p>ä»GCNåˆ°GraphSAge</p></li><li><p>æ³¨æ„åŠ›æœºåˆ¶å›å½’</p></li><li><p>GATæ¨¡å‹è¯¦è§£</p></li><li><p>GATä¸GCNæ¯”è¾ƒ</p></li><li><p>å¯¹äºå¼‚æ„æ•°æ®çš„å¤„ç†</p></li></ul><h4 id="ç¬¬äºŒåä¸ƒç« ï¼šå›¾ç¥ç»ç½‘ç»œçš„å…¶ä»–åº”ç”¨"><a href="#ç¬¬äºŒåä¸ƒç« ï¼šå›¾ç¥ç»ç½‘ç»œçš„å…¶ä»–åº”ç”¨" class="headerlink" title="ç¬¬äºŒåä¸ƒç« ï¼šå›¾ç¥ç»ç½‘ç»œçš„å…¶ä»–åº”ç”¨"></a>ç¬¬äºŒåä¸ƒç« ï¼šå›¾ç¥ç»ç½‘ç»œçš„å…¶ä»–åº”ç”¨</h4><ul><li><p>Node Classification</p></li><li><p>Graph Classification</p></li><li><p>Link Prediction</p></li><li><p>ç¤¾åŒºæŒ–æ˜</p></li><li><p>æ¨èç³»ç»Ÿ</p></li><li><p>å›¾ç¥ç»ç½‘ç»œçš„æœªæ¥å‘å±•</p></li></ul><h3 id="éƒ¨åˆ†å¯ç»ƒä¹ çš„æ¡ˆä¾‹"><a href="#éƒ¨åˆ†å¯ç»ƒä¹ çš„æ¡ˆä¾‹" class="headerlink" title="éƒ¨åˆ†å¯ç»ƒä¹ çš„æ¡ˆä¾‹"></a>éƒ¨åˆ†å¯ç»ƒä¹ çš„æ¡ˆä¾‹</h3><ol><li>å®ç°ä¸€ä¸ªæ‹¼å†™çº é”™å™¨</li><li>ä»é›¶å®ç°Word2Vecè¯å‘é‡</li><li>åˆ©ç”¨SkipGramåšæ¨è</li><li>ä»é›¶å®ç°HMMæ¨¡å‹</li><li>åŸºäºLinear-CRFçš„è¯æ€§åˆ†ç±»å™¨å®ç°</li><li>ä»é›¶å®ç°æ·±åº¦å­¦ä¹ åå‘ä¼ æ’­ç®—æ³•</li><li>å®ç°AIç¨‹åºå¸®åŠ©å†™ç¨‹åº</li><li>å®ç°AIç¨‹åºå¸®åŠ©å†™æ–‡ç« </li><li>åŸºäºTransformerçš„æœºå™¨ç¿»è¯‘</li><li>åŸºäºKG-BERTçš„çŸ¥è¯†å›¾è°±å­¦ä¹ </li><li>åŸºäºçŸ¥è¯†å›¾è°±çš„é£æ§ç³»ç»Ÿ</li><li>åŸºäºçŸ¥è¯†å›¾è°±çš„ä¸ªæ€§åŒ–æ•™å­¦</li><li>åˆ©ç”¨è’¸é¦ç®—æ³•å‹ç¼©Transformer</li><li>åˆ©ç”¨GCNå®ç°ç¤¾äº¤æ¨è</li><li>åŸºäºGATçš„è™šå‡æ–°é—»æ£€æµ‹</li></ol><h3 id="é¡¹ç›®ä½œä¸š"><a href="#é¡¹ç›®ä½œä¸š" class="headerlink" title="é¡¹ç›®ä½œä¸š"></a>é¡¹ç›®ä½œä¸š</h3><ol><li><p>è±†ç“£ç”µå½±è¯„åˆ†é¢„æµ‹</p><p> æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹ï¼š</p><ul><li><p>ä¸­æ–‡åˆ†è¯æŠ€æœ¯</p></li><li><p>ç‹¬çƒ­ç¼–ç ã€tf-idf</p></li><li><p>åˆ†å¸ƒå¼è¡¨ç¤ºä¸Word2Vec</p></li><li><p>BERTå‘é‡ã€å¥å­å‘é‡</p></li></ul></li><li><p>æ™ºèƒ½å®¢æœé—®ç­”ç³»ç»Ÿ</p><p> æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹ï¼š</p><ul><li><p>é—®ç­”ç³»ç»Ÿæ­å»ºæµç¨‹</p></li><li><p>æ–‡æœ¬çš„å‘é‡åŒ–è¡¨ç¤º</p></li><li><p>FastText</p></li><li><p>å€’æ’è¡¨</p></li><li><p>é—®ç­”ç³»ç»Ÿä¸­çš„å¬å›ã€æ’åº</p></li></ul></li><li><p>åŸºäºLinear-CRFçš„åŒ»ç–—å®ä½“è¯†åˆ«</p><p> æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹ï¼š</p><ul><li><p>å‘½åå®ä½“è¯†åˆ«</p></li><li><p>ç‰¹å¾å·¥ç¨‹</p></li><li><p>è¯„ä¼°æ ‡å‡†</p></li><li><p>è¿‡æ‹Ÿåˆ</p></li></ul></li><li><p>åŸºäºé—²èŠçš„å¯¹è¯ç³»ç»Ÿæ­å»º</p><p> æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹ï¼š</p><ul><li><p>å¸¸è§çš„å¯¹è¯ç³»ç»ŸæŠ€æœ¯</p></li><li><p>é—²èŠå‹å¯¹è¯ç³»ç»Ÿæ¡†æ¶</p></li><li><p>æ•°æ®çš„å¤„ç†æŠ€æœ¯</p></li><li><p>BERTçš„ä½¿ç”¨</p></li><li><p>Transformerçš„ä½¿ç”¨</p></li></ul></li><li><p>æ­å»ºåŸºäºåŒ»ç–—çŸ¥è¯†å›¾è°±çš„é—®ç­”ç³»ç»Ÿ</p><p> æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹ï¼š</p><ul><li><p>åŒ»ç–—ä¸“ä¸šè¯æ±‡çš„ä½¿ç”¨</p></li><li><p>è·å–é—®å¥çš„æ„å›¾</p></li><li><p>é—®å¥çš„è§£é‡Šã€æå–å…³é”®å®ä½“</p></li><li><p>è½¬åŒ–ä¸ºæŸ¥è¯¢è¯­å¥</p></li></ul></li><li><p>æ­å»ºåŸºäºåŒ»ç–—çŸ¥è¯†å›¾è°±çš„é—®ç­”ç³»ç»Ÿ</p><p> æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹ï¼š</p><ul><li><p>æ–‡æœ¬æ‘˜è¦ç”Ÿæˆä»‹ç»</p></li><li><p>å…³é”®è¯æå–æŠ€æœ¯</p></li><li><p>å›¾ç¥ç»ç½‘ç»œçš„æ‘˜è¦ç”Ÿæˆ</p></li><li><p>åŸºäºç”Ÿæˆå¼çš„æ‘˜è¦æå–æŠ€æœ¯</p></li><li><p>æ–‡æœ¬æ‘˜è¦è´¨é‡çš„è¯„ä¼°</p></li></ul></li></ol><h3 id="è®ºæ–‡"><a href="#è®ºæ–‡" class="headerlink" title="è®ºæ–‡"></a>è®ºæ–‡</h3><table><thead><tr><th>ä¸»é¢˜</th><th>è®ºæ–‡åç§°</th></tr></thead><tbody><tr><td>æœºå™¨å­¦ä¹ </td><td>XGBoost: A Scalable Tree Boosting System</td></tr><tr><td>æœºå™¨å­¦ä¹ </td><td>Regularization and Variable Selection via the Elastic Net</td></tr><tr><td>è¯å‘é‡</td><td>Evaluation methods for unsupervised word embeddings</td></tr><tr><td>è¯å‘é‡</td><td>Evaluation methods for unsupervised word embeddings</td></tr><tr><td>è¯å‘é‡</td><td>GloVe: Global Vectors for Word Representation</td></tr><tr><td>è¯å‘é‡</td><td>Deep Contexualized Word Representations</td></tr><tr><td>è¯å‘é‡</td><td>Attention is All You Need</td></tr><tr><td>è¯å‘é‡</td><td>BERT: Pretraining of Deep Bidirectional Transformers for Language Understanding</td></tr><tr><td>è¯å‘é‡</td><td>XLNet: Generalized Autoregressive Pretraining for Language Understanding</td></tr><tr><td>è¯å‘é‡</td><td>KG-BERT: BERT for Knowledge Graph Completion</td></tr><tr><td>è¯å‘é‡</td><td>Language Models are Few-shot Learners</td></tr><tr><td>å›¾å­¦ä¹ </td><td>Semi-supervised Classification with Graph Convolutional Networks</td></tr><tr><td>å›¾å­¦ä¹ </td><td>Graph Attention Networks</td></tr><tr><td>å›¾å­¦ä¹ </td><td>GraphSAGE: Inductive Representation Learning on Large Graphs</td></tr><tr><td>å›¾å­¦ä¹ </td><td>Node2Vec: Scalable Feature Learning for Networks</td></tr></tbody></table><p>å‚è€ƒé“¾æ¥: <a href="https://mp.weixin.qq.com/s/GPCmLavk7NjHVwgWIb02-g">https://mp.weixin.qq.com/s/GPCmLavk7NjHVwgWIb02-g</a></p>]]></content>
      
      
      <categories>
          
          <category> çŸ¥è¯†æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nlp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€æ¯æ—¥ç®—æ³•ã€‘2021å¹´03æœˆ31æ—¥ å°é›¨ æœ€å°è·¯å¾„å’Œ</title>
      <link href="/2021/04/01/zui-xiao-lu-jing-he/"/>
      <url>/2021/04/01/zui-xiao-lu-jing-he/</url>
      
        <content type="html"><![CDATA[<p>è¿™é“é¢˜æ˜¯LeeCodeç¬¬<a href="https://leetcode-cn.com/problems/minimum-path-sum/">64</a>é¢˜ï¼Œå’Œä¹‹å‰çš„ç¬¬62é¢˜ä¸€æ ·ï¼Œå±äºåŠ¨æ€è§„åˆ’ä¸­çš„ä¸­ç­‰éš¾åº¦é¢˜ç›®ã€‚</p><span id="more"></span><h4 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h4><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210401021549.png"></p><h4 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><p>æœ¬é¢˜çš„è§£é¢˜æ€è·¯å’Œä¹‹å‰çš„ç¬¬<a href="https://ailyong.cn/2021/03/30/bu-tong-lu-jing/">62é¢˜</a>å¾ˆç›¸ä¼¼ï¼Œå®šä¹‰dp[i][j]ä¸ºä»ç¬¬(i, j)ç‚¹èµ°åˆ°å³ä¸‹è§’çš„æœ€çŸ­è·¯å¾„ï¼Œåˆ™æœ‰dp[i][j] = dp[i+1][j] + dp[i][j+1].</p><p>ç„¶åæˆ‘ä»¬æ¥è€ƒè™‘è¾¹ç•Œæ¡ä»¶ï¼Œæ­¤é¢˜çš„è¾¹é™…å’Œç¬¬62é¢˜çš„è¾¹é™…ä¸€æ ·ï¼Œä¸åŒçš„æ˜¯è¾¹ç•Œä¸Šé¢dpå€¼ï¼Œå½“åœ¨ä¸‹è¾¹ç•Œçš„æ—¶å€™dp[m-1][j] = sum(gird[m-1][j:-1]), åœ¨å·¦è¾¹ç•Œçš„æ—¶å€™<br>dp[i][n-1] = sum(grid[i:-1][n-1])ï¼Œ dp[m-1][n-1] = grid[m-1][n-1].</p><p>æœ€ç»ˆç­”æ¡ˆä¸º: dp[0][0]</p><h4 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">minPathSum</span>(<span class="params">self, grid: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        m = <span class="built_in">len</span>(grid)</span><br><span class="line">        n = <span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        dp = [[<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m)] <span class="comment">#è¿™é‡Œçº ç»“äº†ä¸å°‘æ—¶é—´</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n-<span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            dp[m-<span class="number">1</span>][j] = <span class="built_in">sum</span>(grid[m-<span class="number">1</span>]) - <span class="built_in">sum</span>(grid[m-<span class="number">1</span>][<span class="number">0</span>:j]) </span><br><span class="line">        col = [x[n-<span class="number">1</span>] <span class="keyword">for</span> x <span class="keyword">in</span> grid]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m-<span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            dp[i][n-<span class="number">1</span>] = <span class="built_in">sum</span>(col)-<span class="built_in">sum</span>(col[<span class="number">0</span>:i])</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m-<span class="number">2</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n-<span class="number">2</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">                dp[i][j] = grid[i][j] + <span class="built_in">min</span>(dp[i+<span class="number">1</span>][j], dp[i][j+<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>][<span class="number">0</span>]</span><br></pre></td></tr></tbody></table></figure><h4 id="æ„Ÿæƒ³"><a href="#æ„Ÿæƒ³" class="headerlink" title="æ„Ÿæƒ³"></a>æ„Ÿæƒ³</h4><p>ä¸€å¼€å§‹å£°æ˜äºŒç»´æ•°ç»„çš„æ—¶å€™ç”¨äº†æµ…æ‹·è´ï¼Œæ”¹å˜æŸä¸€è¡Œçš„å€¼çš„æ—¶å€™ï¼Œå…¶ä»–è¡Œçš„å€¼ä¹Ÿä¼šè·Ÿç€æ”¹å˜ï¼Œä½†æ˜¯æˆ‘è¿™ä¹ˆæï¼Œç«Ÿç„¶é€šè¿‡äº†60å¤šä¸ªæ ·ä¾‹ï¼Œå¥½åƒæ˜¯åœ¨ç¬¬63ä¸ªæ ·ä¾‹çš„æ—¶å€™å¡ä½äº†ï¼ˆæŒ å¤´ï¼‰ï¼Œåé¢ä¸€ä¸ªä¸ªçš„æŠŠdpé‡Œé¢çš„å€¼æ‰“å°å‡ºæ¥çœ‹ï¼Œæ‰å‘ç°åŸæ¥æ˜¯ç”¨äº†æµ…æ‹·è´ï¼Œå¯¼è‡´è¿™æ ·çš„é—®é¢˜ï¼Œæ¢æˆäº†è¿­ä»£ç”Ÿæˆå¼åï¼Œç»ˆäºACäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŠ¨æ€è§„åˆ’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitLabæ­å»ºç¬”è®°</title>
      <link href="/2021/03/31/gitlab-da-jian-bi-ji/"/>
      <url>/2021/03/31/gitlab-da-jian-bi-ji/</url>
      
        <content type="html"><![CDATA[<h4 id="å®‰è£…gitlabï¼š"><a href="#å®‰è£…gitlabï¼š" class="headerlink" title="å®‰è£…gitlabï¼š"></a><a href="https://packages.gitlab.com/gitlab/gitlab-ee/packages/ubuntu/focal/gitlab-ee_13.8.7-ee.0_amd64.deb">å®‰è£…gitlab</a>ï¼š</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -s https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/</span><br><span class="line">script.deb.sh | <span class="built_in">sudo</span> bash</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h4 id="é˜²ç«å¢™è®¾ç½®"><a href="#é˜²ç«å¢™è®¾ç½®" class="headerlink" title="é˜²ç«å¢™è®¾ç½®"></a>é˜²ç«å¢™è®¾ç½®</h4><p> ä¹‹å‰å·²ç»é…ç½®å¥½äº†ï¼Œç•¥</p><h4 id="gitlabé…ç½®"><a href="#gitlabé…ç½®" class="headerlink" title="gitlabé…ç½®"></a><a href="https://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab">gitlabé…ç½®</a></h4><p>æ‰“å¼€/etc/gitlab/gitlab.rb</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">external_url <span class="string">'http://gitlab.bytenlp.site'</span></span><br><span class="line"><span class="comment"># ç³»ç»Ÿç«¯å£å†²çªï¼Œæˆ‘æŠŠç«¯å£æ”¹ä¸ºäº†85</span></span><br><span class="line">nginx[<span class="string">'listen_port'</span>] = 85</span><br></pre></td></tr></tbody></table></figure><h4 id="è®©é…ç½®ç”Ÿæ•ˆï¼Œå¹¶é‡å¯gitlabæœåŠ¡"><a href="#è®©é…ç½®ç”Ÿæ•ˆï¼Œå¹¶é‡å¯gitlabæœåŠ¡" class="headerlink" title="è®©é…ç½®ç”Ÿæ•ˆï¼Œå¹¶é‡å¯gitlabæœåŠ¡"></a>è®©é…ç½®ç”Ÿæ•ˆï¼Œå¹¶é‡å¯gitlabæœåŠ¡</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é‡æ–°é…ç½®gitlab</span></span><br><span class="line"><span class="built_in">sudo</span> gitlab-ctl reconfigure</span><br><span class="line"><span class="comment"># é‡å¯gitlab</span></span><br><span class="line">gitlab-ctl restart </span><br></pre></td></tr></tbody></table></figure><h4 id="åœ¨æµè§ˆå™¨è¾“å…¥â€ip-ç«¯å£å·â€æŸ¥çœ‹æ•ˆæœï¼Œè¯¦ç»†å‚è€ƒè¿™é‡Œ"><a href="#åœ¨æµè§ˆå™¨è¾“å…¥â€ip-ç«¯å£å·â€æŸ¥çœ‹æ•ˆæœï¼Œè¯¦ç»†å‚è€ƒè¿™é‡Œ" class="headerlink" title="åœ¨æµè§ˆå™¨è¾“å…¥â€ip:ç«¯å£å·â€æŸ¥çœ‹æ•ˆæœï¼Œè¯¦ç»†å‚è€ƒè¿™é‡Œ"></a>åœ¨æµè§ˆå™¨è¾“å…¥â€ip:ç«¯å£å·â€æŸ¥çœ‹æ•ˆæœï¼Œè¯¦ç»†å‚è€ƒ<a href="https://www.jianshu.com/p/ade38a53b1ac">è¿™é‡Œ</a></h4><p>å‚è€ƒæ•™ç¨‹ï¼š</p><ul><li><a href="https://www.jianshu.com/p/bf7b09e234c8">https://www.jianshu.com/p/bf7b09e234c8</a></li><li><a href="https://lil-xing.top/2019/08/26/GitLab%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/">https://lil-xing.top/2019/08/26/GitLab%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</a><br>sudo apt-get install gitlab-ee=13.8.7-ee.0</li><li><a href="https://www.jianshu.com/p/ade38a53b1ac">https://www.jianshu.com/p/ade38a53b1ac</a></li></ul><p>æµ‹è¯•ä¸€ä¸‹</p>]]></content>
      
      
      <categories>
          
          <category> çˆ¬å‘æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitLab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‹±è¯­å£è¯­ç»ƒä¹ ç”µå½±æ¨è</title>
      <link href="/2021/03/31/ying-yu-kou-yu-lian-xi-dian-ying-tui-jian/"/>
      <url>/2021/03/31/ying-yu-kou-yu-lian-xi-dian-ying-tui-jian/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘æ˜¯ä»å–œé©¬æ‹‰é›…è·¯è½¬ç²‰è¿‡æ¥å¬è¯¾çš„ï¼Œ<a href="https://www.ximalaya.com/waiyu/19111514/">å¼ è€å¸ˆ</a>æ¨èçš„ä¸œè¥¿å¿…ç„¶æ˜¯å¹²è´§ã€‚å› æ­¤åˆ©ç”¨å‘¨æœ«æ—¶é—´æœé›†æ•´ç†äº†ä¸€äº›è€å¸ˆè¯¾ä¸Šæ¨èçš„è§†é¢‘èµ„æºï¼Œæ–¹ä¾¿è‡ªå·±ä¹Ÿåˆ†äº«ç»™å¤§å®¶ã€‚</p><h4 id="ç”µå½±æ¨è"><a href="#ç”µå½±æ¨è" class="headerlink" title="ç”µå½±æ¨è"></a>ç”µå½±æ¨è</h4><ul><li><p><a href="https://pan.baidu.com/s/1f1MKRhiGnhXPakdql9BFcQ">The Queen</a> (æå–ç :gysn)</p></li><li><p><a href="https://pan.baidu.com/s/1thHrc_mUaHD8pFyZwI4g2g">The Kingâ€™s Speech</a> (æå–ç :gr42ï¼‰</p></li><li><p><a href="https://pan.baidu.com/s/1hIyXIJ53H-p_rsCxR0f22Q">Downton Abbey</a> (æå–ç :cyb9)</p></li><li><p><a href="https://pan.baidu.com/s/1cFcyl3ZZ5TomwZnk0IbbTg">The Holiday</a> (æå–ç :48ks) å­—å¹• (æå–ç :4vix)</p></li><li><p><a href="https://pan.baidu.com/s/1PjDRYpgfXw557lkICTZiWQ">Coco</a> (æå–ç :tkwx)</p></li><li><p><a href="https://pan.baidu.com/s/10o4jLTT9etBVNlhE9pLgEQ">Darkest Hours</a> (æå–ç :okwz)</p></li><li><p><a href="https://pan.baidu.com/s/1s406g4lKsv2YPreZ3egBPw">Wonder</a> (æå–ç :yjog)</p></li><li><p><a href="https://pan.baidu.com/s/1cygoZKcHhtBgF3wA46LXHg">Harry Potter</a> (æå–ç :cg1w)</p></li><li><p><a href="https://pan.baidu.com/s/1Nptp0lnqBEsoWiGygB7Qgw">Big Hero 6</a> (æå–ç :g4q4)</p></li><li><p><a href="https://pan.baidu.com/s/1iLHz4MQpkWRUAz6ApnM_yA">Zootopia</a>ï¼ˆæå–ç :8tmm)</p></li><li><p><a href="https://ddrk.me/frozen-2013/">Frozen 1</a></p></li><li><p><a href="https://ddrk.me/frozen-2/">Frozen 2</a></p></li></ul><h4 id="ç”µè§†å‰§æ¨è"><a href="#ç”µè§†å‰§æ¨è" class="headerlink" title="ç”µè§†å‰§æ¨è"></a>ç”µè§†å‰§æ¨è</h4><ul><li><p><a href="https://pan.baidu.com/s/1oLZdVtC2dxQsntKqFpYGzA">Miranda</a> (æå–ç :ogrp)</p></li><li><p><a href="https://ddrk.me/the-it-crowd/">The IT Crowd</a></p></li><li><p><a href="https://pan.baidu.com/s/1urGHdiTmz4STpnXnGgnw9Q">Friends ç£åŠ›é“¾æ¥</a> (æå–ç : ldlu)ï¼ˆç£åŠ›é“¾æ¥å¯ç”¨è¿…é›·ä¸‹è½½ï¼Œå…·ä½“æ“ä½œå¯è‡ªè¡Œæœç´¢ï¼‰</p></li><li><p><a href="https://www.zxzj.me/vodsearch/-------------.html?wd=%E6%91%A9%E7%99%BB%E5%AE%B6%E5%BA%AD">Modern Family</a></p></li><li><p><a href="https://www.zxzj.me/vodsearch/-------------.html?wd=%E7%94%9F%E6%B4%BB%E5%A4%A7%E7%88%86%E7%82%B8">TBBT ç”Ÿæ´»å¤§çˆ†ç‚¸</a>ï¼ˆé«˜æ¸…ä¸‹è½½ç£åŠ›<a href="magnet:?xt=urn:btih:49CF1C0B0305D8F5031CB99840C09F06EABB79F6&amp;dn=The+Big+Bang+Theory+Season+1-11+Complete+720p&amp;tr=udp://tracker.coppersurfer.tk:6969/announce&amp;tr=udp://9.rarbg.to:2920/announce&amp;tr=udp://tracker.opentrackr.org:1337&amp;tr=udp://tracker.internetwarriors.net:1337/announce&amp;tr=udp://tracker.leechers-paradise.org:6969/announce&amp;tr=udp://tracker.coppersurfer.tk:6969/announce&amp;tr=udp://tracker.pirateparty.gr:6969/announce&amp;tr=udp://tracker.cyberia.is:6969/announce">é“¾æ¥</a>ï¼‰</p></li></ul><h4 id="ç§‘æ™®è®°å½•ç‰‡æ¨è"><a href="#ç§‘æ™®è®°å½•ç‰‡æ¨è" class="headerlink" title="ç§‘æ™®è®°å½•ç‰‡æ¨è"></a>ç§‘æ™®è®°å½•ç‰‡æ¨è</h4><ul><li><a href="https://www.bilibili.com/video/av70632732?p=2&amp;spm_id_from=pageDriver">å›½å®¶åœ°ç†ç§‘æ™®101</a></li></ul><p>èµ„æ–™æ•´ç†ä¸æ˜“ï¼Œå¦‚æœè§‰å¾—å¥½çš„è¯ï¼Œè®°å¾—æ‰“èµæ”¯æŒä¸€æ³¢ï¼Œä¸€å—é’±ä¹Ÿæ˜¯å¥–åŠ±ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ èµ„æ–™ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç”µå½± </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­¦ä¹ è§†é¢‘æ•´ç†</title>
      <link href="/2021/03/31/xue-xi-shi-pin-zheng-li/"/>
      <url>/2021/03/31/xue-xi-shi-pin-zheng-li/</url>
      
        <content type="html"><![CDATA[<h4 id="MITè®¡ç®—æœºç§‘å­¦å¯¼è®º"><a href="#MITè®¡ç®—æœºç§‘å­¦å¯¼è®º" class="headerlink" title="MITè®¡ç®—æœºç§‘å­¦å¯¼è®º"></a>MITè®¡ç®—æœºç§‘å­¦å¯¼è®º</h4><p>MITè®¡ç®—æœºç§‘å­¦å¯¼è®ºæ•™å­¦è§†é¢‘ï¼Œä¸­è‹±æ–‡å­—å¹•å¯ä»¥éšæ„åˆ‡æ¢ï¼Œè€å¸ˆå‘éŸ³å¾ˆå¥½ï¼Œå¼ºæ¨</p><ul><li><p><a href="https://www.bilibili.com/video/BV1sJ411n7aJ?from=search&amp;seid=18376503429056860180">6.0001åŸºç¡€</a></p></li><li><p><a href="https://www.bilibili.com/video/av83124797?spm_id_from=333.788.b_636f6d6d656e74.4">6.0002è¿›ä»·</a></p></li><li><p><a href="https://book.douban.com/subject/30155590/">æ•™æ</a></p></li><li><p><a href="https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-0002-introduction-to-computational-thinking-and-data-science-fall-2016/index.htm">6.0002è¯¾åç»ƒä¹ </a></p></li><li><p><a href="https://pan.baidu.com/s/1hqxh8ag#list/path=%2F">é…å¥—ppt</a></p></li></ul><p>æ²¡æœ‰æ‰¾åˆ°ä¸æœ€æ–°è§†é¢‘é…å¥—çš„slideï¼Œåªæ‰¾åˆ°15å¹´çš„.</p><h4 id="çº¿æ€§ä»£æ•°"><a href="#çº¿æ€§ä»£æ•°" class="headerlink" title="çº¿æ€§ä»£æ•°"></a>çº¿æ€§ä»£æ•°</h4>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ èµ„æ–™ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€è¯¾ç¨‹è®¾è®¡ã€‘æœ€å°ç”Ÿæˆæ ‘åº”ç”¨</title>
      <link href="/2021/03/31/ke-cheng-she-ji-zui-xiao-sheng-cheng-shu-ying-yong/"/>
      <url>/2021/03/31/ke-cheng-she-ji-zui-xiao-sheng-cheng-shu-ying-yong/</url>
      
        <content type="html"><![CDATA[<h4 id="éœ€æ±‚æè¿°"><a href="#éœ€æ±‚æè¿°" class="headerlink" title="éœ€æ±‚æè¿°"></a>éœ€æ±‚æè¿°</h4><p>æœ¬æ¬¡è¯¾ç¨‹è®¾è®¡è¦æ±‚åœ¨nä¸ªåŸå¸‚ä¹‹é—´æ¶è®¾n-1æ¡çº¿è·¯ï¼Œå®ç°è¿™å‡ ä¸ªåŸå¸‚ä¹‹é—´çš„ç½‘ç»œé€šä¿¡ï¼Œè¦æ±‚ç½‘ç»œç»æµä»£ä»·æœ€ä½ã€‚å…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy8xNzc4Njc2Mi1iN2U3M2JhMjE3ODgyMWVmLmpwZw?x-oss-process=image/format,png"></p><p>é—®é¢˜åˆ†æ<br>æ ¹æ®è®¾è®¡è¦æ±‚ï¼Œæˆ‘ä»¬å‡è®¾åŸå¸‚ä¹‹é—´çš„è·ç¦»è¶Šå¤§æ¶è®¾ç½‘çº¿çš„ç»æµä»£ä»·è¶Šå¤§ï¼Œå› æ­¤å¯ä»¥ç”¨ä¸¤ä¸ªåŸå¸‚ä¹‹é—´çš„è·ç¦»ä½œä¸ºè¾¹çš„æƒé‡ã€‚</p><p>nä¸ªåŸå¸‚ä¹‹é—´æœ€å¤šå¯ä»¥ç”Ÿæˆ 1+2+â€¦+(n-1)æ¡è¾¹ï¼Œåˆ†åˆ«è®¡ç®—å‡ºæ¯æ¡è¾¹çš„é•¿åº¦ç„¶åå¯¹ä»–ä»¬è¿›è¡Œå‡åºæ’åºï¼Œåˆ©ç”¨å¹¶æŸ¥é›†å¾—åˆ°ç”±n-1æ¡è¾¹ç»„æˆçš„æœ€å°ç”Ÿæˆæ ‘ï¼Œé—®é¢˜ä¾¿å¾—åˆ°è§£å†³ã€‚</p><p>ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œéœ€è¦æ„å»ºä¸€ä¸ªåŸå¸‚ç»“æ„ä½“CITYæ¥è¡¨ç¤ºåŸå¸‚ï¼Œå¹¶ä¸”è¿˜éœ€è¦æ„å»ºEDGEç»“æ„ä½“æ¥è¡¨ç¤ºåŸå¸‚ä¸åŸå¸‚çš„è¾¹ï¼Œå¹¶åˆ©ç”¨éšæœºå‡½æ•°ç”ŸæˆåŸå¸‚çš„åæ ‡ã€‚</p><h4 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h4><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize (10000)<span class="comment">//nçš„å–å€¼æœ€å¤§ä¸ºMaxSize</span></span></span><br><span class="line"><span class="comment">/*---------------------ç»“æ„ä½“å®šä¹‰---------------------*/</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">City</span>{</span></span><br><span class="line">    <span class="comment">//åŸå¸‚ç»“æ„ä½“</span></span><br><span class="line">    <span class="type">int</span> id;<span class="comment">//åŸå¸‚ID</span></span><br><span class="line">    <span class="type">int</span> x, y;<span class="comment">//åŸå¸‚çš„åæ ‡</span></span><br><span class="line">}CITY;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">edges</span>{</span></span><br><span class="line">    <span class="comment">//è¾¹ç»“æ„ä½“</span></span><br><span class="line">    <span class="type">int</span> s, e;<span class="comment">//sä¸ºèµ·å§‹é¡¶ç‚¹ eä¸ºç»ˆæ­¢é¡¶ç‚¹</span></span><br><span class="line">    <span class="type">double</span> cost;<span class="comment">//è¾¹çš„æƒå€¼ï¼Œå³ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´çš„è·ç¦»</span></span><br><span class="line">}EDGE;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/*---------------------ç”ŸæˆåŸå¸‚å¹¶æ˜¾ç¤º---------------------*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">CreateCityPos</span><span class="params">(CITY *&amp; city, <span class="type">int</span> n)</span>{</span><br><span class="line">    <span class="comment">//éšæœºç”ŸæˆåŸå¸‚åæ ‡</span></span><br><span class="line">    city = (CITY*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(CITY)* n);</span><br><span class="line">    srand((<span class="type">unsigned</span>)time(<span class="literal">NULL</span>));<span class="comment">//è®¾ç½®éšæœºæ•°çš„ç§å­</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    {<span class="comment">//éšæœºç”Ÿæˆnä¸ªåŸå¸‚çš„x,yåæ ‡å€¼</span></span><br><span class="line">        city[i].id = i + <span class="number">1</span>;</span><br><span class="line">        city[i].x = rand() % <span class="number">100</span>;</span><br><span class="line">        city[i].y = rand() % <span class="number">100</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="type">void</span> <span class="title function_">ShowCityPos</span><span class="params">(CITY*city, <span class="type">int</span> n)</span></span><br><span class="line">{<span class="comment">//æ˜¾ç¤ºåŸå¸‚ä¿¡æ¯ï¼ŒåŸå¸‚åºå·ã€xåæ ‡å’Œyåæ ‡</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\nå„åŸå¸‚çš„ç¼–å·åŠåæ ‡:\n"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d:[%d, %d]\n"</span>, city[i].id, city[i].x, city[i].y);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="comment">/*---------------------è®¡ç®—åŸå¸‚ä¸¤ä¸¤ä¹‹é—´çš„è·ç¦»ï¼Œç”Ÿæˆè¾¹æ•°ç»„---------------------*/</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">Sum</span><span class="params">(<span class="type">int</span> n)</span></span><br><span class="line">{<span class="comment">//è®¡ç®—nçš„å‰né¡¹å’Œï¼Œç”¨äºæ ¹æ®é¡¶ç‚¹ç¡®å®šè¾¹çš„æ•°ç›® å½“é¡¶ç‚¹ä¸ºnæ—¶ åˆ™æœ€å¤šå¯ä»¥äº§ç”ŸSum(n-1)æ¡è¾¹</span></span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        sum += i;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="type">double</span> <span class="title function_">CityDist</span><span class="params">(<span class="type">const</span> CITY*a, <span class="type">const</span> CITY*b)</span></span><br><span class="line">{<span class="comment">//è®¡ç®—ä¸¤ä¸ªåŸå¸‚ä¹‹é—´çš„è·ç¦»</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sqrt</span>(<span class="type">double</span>((a-&gt;x - b-&gt;x)*(a-&gt;x - b-&gt;x) + (a-&gt;y - b-&gt;y)*(a-&gt;y - b-&gt;y)));</span><br><span class="line">}</span><br><span class="line"><span class="type">void</span> <span class="title function_">CreateEdges</span><span class="params">(EDGE* &amp; e, CITY* city, <span class="type">int</span> n)</span></span><br><span class="line">{<span class="comment">//æ ¹æ®åŸå¸‚ä¿¡æ¯ç”ŸæˆåŸå¸‚ä¹‹é—´çš„è¾¹</span></span><br><span class="line">    e = (EDGE*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(EDGE)*Sum(n - <span class="number">1</span>));<span class="comment">//è¾¹çš„æ€»æ•°ä¸ºSum(n-1)</span></span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = i + <span class="number">1</span>; k &lt; n; ++k)</span><br><span class="line">        {</span><br><span class="line">            (e + cnt)-&gt;s = city[i].id;<span class="comment">//èµ·å§‹é¡¶ç‚¹</span></span><br><span class="line">            (e + cnt)-&gt;e = city[k].id;<span class="comment">//ç»ˆæ­¢é¡¶ç‚¹</span></span><br><span class="line">            (e + cnt)-&gt;cost = CityDist(&amp;city[i], &amp;city[k]);<span class="comment">//è¾¹çš„æƒå€¼</span></span><br><span class="line">            ++cnt;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="type">void</span> <span class="title function_">ShowCityEdges</span><span class="params">(EDGE*edges, <span class="type">int</span> n)</span></span><br><span class="line">{<span class="comment">//æ‰“å°è¾¹ä¿¡æ¯</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\nå„åŸå¸‚é—´çš„è·ç¦»(åŸå¸‚1-åŸå¸‚2:è¾¹æƒå€¼ï¼ˆè·ç¦»ï¼‰)\n"</span>);</span><br><span class="line">    <span class="comment">//show edges:</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; Sum(n<span class="number">-1</span>); ++i)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d-%d : %f\n"</span>, edges[i].s, edges[i].e, edges[i].cost);</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">/*--------------------KrusKalæ±‚æœ€å°ç”Ÿæˆæ ‘----------------------*/</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">cmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span>*a, <span class="type">const</span> <span class="type">void</span> *b)</span></span><br><span class="line">{<span class="comment">//æ¯”è¾ƒå‡½æ•° æ¯”è¾ƒä¸¤æ¡è¾¹çš„æƒå€¼ ç”¨äºæ’åº</span></span><br><span class="line">    EDGE* aa, *bb;</span><br><span class="line">    aa = (EDGE*)a; bb = (EDGE*)b;</span><br><span class="line">    <span class="keyword">if</span> ((aa-&gt;cost - bb-&gt;cost )&gt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="comment">//æœ€å°ç”Ÿæˆæ ‘</span></span><br><span class="line"><span class="type">int</span> v[MaxSize];</span><br><span class="line"><span class="type">int</span> <span class="title function_">getRoot</span><span class="params">(<span class="type">int</span> a)</span></span><br><span class="line">{<span class="comment">//æ‰¾åˆ°æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">while</span> (a != v[a]) a = v[a];</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">KrusKal</span><span class="params">(EDGE* edges, <span class="type">int</span> n)</span></span><br><span class="line">{<span class="comment">//KrusKalç®—æ³•ç”Ÿæˆæœ€å°ç”Ÿæˆæ ‘</span></span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="type">int</span> e, a, b;</span><br><span class="line">    </span><br><span class="line">    <span class="type">double</span> sum = <span class="number">0.0</span>;</span><br><span class="line">    e = Sum(n - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; ++i) <span class="comment">//åˆå§‹åŒ–å¹¶æŸ¥é›†</span></span><br><span class="line">        v[i] = i;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\næœ€å°ç”Ÿæˆæ ‘çš„è¾¹åŠæƒå€¼:\n"</span>);</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; e; ++i)</span><br><span class="line">    {</span><br><span class="line">        a = getRoot(edges[i].s);</span><br><span class="line">        b = getRoot(edges[i].e);</span><br><span class="line">        <span class="keyword">if</span> (a != b)</span><br><span class="line">        {<span class="comment">//å°†è¾¹å¹¶å…¥ç”Ÿæˆæ ‘</span></span><br><span class="line">            v[a] = b;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d-%d: %f\n"</span>, edges[i].s, edges[i].e, edges[i].cost);<span class="comment">//æ‰“å°å¹¶å…¥ç”Ÿæˆæ ‘çš„è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹å’Œæƒå€¼</span></span><br><span class="line">            sum += edges[i].cost;<span class="comment">//è®¡ç®—ç”Ÿæˆæ ‘çš„æ€»æƒå€¼</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\nç”Ÿæˆæ ‘æ€»æƒå€¼sum =%f\n"</span>, sum);</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="comment">/*------------------------------KrusKal END-------------------------------------*/</span></span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">solve</span><span class="params">(<span class="type">int</span> n)</span></span><br><span class="line">{</span><br><span class="line">    CITY*city;</span><br><span class="line">    EDGE* edges;</span><br><span class="line">    CreateCityPos(city, n);<span class="comment">//åˆ›å»ºåŸå¸‚</span></span><br><span class="line">    ShowCityPos(city, n);<span class="comment">//æ˜¾ç¤ºåŸå¸‚</span></span><br><span class="line"> </span><br><span class="line">    CreateEdges(edges, city, n);<span class="comment">//åˆ›å»ºè¾¹ï¼ˆæ ¹æ®æ‰€æœ‰åŸå¸‚ä¸¤ä¸¤ä¹‹é—´çš„è·ç¦»æ¥åˆ›å»ºï¼‰</span></span><br><span class="line">    qsort(edges, Sum(n - <span class="number">1</span>), <span class="keyword">sizeof</span>(EDGE), cmp);<span class="comment">//å¯¹è¾¹æŒ‰æƒå€¼è¿›è¡Œå‡åºæ’åº</span></span><br><span class="line">    ShowCityEdges(edges, n);<span class="comment">//æ˜¾ç¤ºæ’åºåçš„è¾¹</span></span><br><span class="line"> </span><br><span class="line">    KrusKal(edges, n);<span class="comment">//ç”¨KrusKalç®—æ³•ç”Ÿæˆæœ€å°ç”Ÿæˆæ ‘</span></span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥n:"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    solve(n);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}<span class="comment">//è¿è¡ŒæˆåŠŸ 2019å¹´5æœˆ21æ—¥10:53:07</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">/*ç¨‹åºè¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment">åŸºæœ¬æ€æƒ³ï¼š1ã€é¦–å…ˆç”Ÿæˆnä¸ªåŸå¸‚ï¼Œæ¯ä¸ªåŸå¸‚çš„åæ ‡éšæœºç”Ÿæˆï¼Œè¿™éƒ¨åˆ†ç”±CreateCityPosï¼ˆï¼‰å‡½æ•°å®ç°ï¼›</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">         2ã€è®¡ç®—nä¸ªåŸå¸‚ä¸¤ä¸¤ä¹‹é—´çš„è·ç¦»ï¼ˆè·ç¦»è®¡ç®—ç”±CityDist()å®Œæˆï¼‰ï¼Œå¹¶ä¿å­˜åˆ°è¾¹æ•°ç»„ä¸­ï¼Œè¿™éƒ¨åˆ†ç”±CreateEdgesï¼ˆï¼‰å‡½æ•°å®ç°ï¼›</span></span><br><span class="line"><span class="comment">         3ã€ç”±è¾¹æ•°ç»„(edges[])æ ¹æ®KrusKalç®—æ³•æ±‚æœ€å°ç”Ÿæˆæ ‘ï¼Œè¿™éƒ¨åˆ†ç”±KrusKalï¼ˆï¼‰å‡½æ•°å®ç°ï¼Œè¦æ³¨æ„çš„æ˜¯è¿›è¡ŒKrusKalç®—æ³•ä¹‹å‰ï¼Œéœ€è¦å¯¹edges[]ä¸­çš„å…ƒç´ æŒ‰ç…§</span></span><br><span class="line"><span class="comment">         æƒå€¼è¿›è¡Œå‡åºæ’åºï¼Œå› æ­¤è°ƒç”¨äº†stdlib.hå¤´æ–‡ä»¶ä¸­çš„qsort()å‡½æ•°æ¥è¿›è¡Œæ’åºã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure><h4 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h4><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy8xNzc4Njc2Mi03MjhiZjIyMGNkYzY5NTIyLnBuZw?x-oss-process=image/format,png"></p><p>nä¸ºåŸå¸‚çš„æ•°é‡ï¼Œç”±ç”¨æˆ·ä»ç»ˆç«¯è¾“å…¥ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ ‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€æ¯æ—¥ç®—æ³•ã€‘2021å¹´03æœˆ30æ—¥ å¤šäº‘ ä¸åŒè·¯å¾„</title>
      <link href="/2021/03/30/bu-tong-lu-jing/"/>
      <url>/2021/03/30/bu-tong-lu-jing/</url>
      
        <content type="html"><![CDATA[<p>è¿™é“é¢˜æ˜¯LeeCodeç¬¬<a href="https://leetcode-cn.com/problems/unique-paths/">62</a>é¢˜ï¼Œå±äºåŠ¨æ€è§„åˆ’ä¸­çš„ä¸­ç­‰éš¾åº¦é¢˜ç›®ã€‚</p><span id="more"></span><h4 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h4><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210330183906.png" style="zoom: 67%;"><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210330184245.png" style="zoom:67%;"><h4 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><p>æ ¹æ®é¢˜é¢ï¼Œå‡è®¾æœºå™¨äººåœ¨ä½ç½®(i, j), ä¸è€ƒè™‘è¾¹ç•Œæ¡ä»¶ï¼Œåˆ™å®ƒå¯ä»¥é‡‡å–çš„åŠ¨ä½œæœ‰ä¸¤ä¸ªï¼šå‘ä¸‹(i+1)æˆ–è€…å‘å³(j+1),å®šä¹‰dp[i][j]ä¸ºæœºå™¨äººä»(i,j)ç‚¹èµ°åˆ°ç‚¹(m-1, n-1)çš„è·¯å¾„æ•°ï¼Œåˆ™æœ‰ï¼šdp[i][j] = dp[i+1][j] + dp[i][j+1],<br><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210330191859.png" style="zoom:67%;"><br>ç„¶åæˆ‘ä»¬å†æ¥è€ƒè™‘è¾¹ç•Œæ¡ä»¶ï¼Œå½“æœºå™¨äººåœ¨çº¢æ¡†åŒºåŸŸ(æ­¤æ—¶ $i =m-1,  j \in [0 ~, n-2]$ )ã€è“æ¡†åŒºåŸŸï¼ˆæ­¤æ—¶ $ i \in [0, m-2] , j=n-1$ )å’Œç‚¹(m-1, n-2)æ—¶ä¸ºè¾¹ç•Œï¼Œå½“æœºå™¨äººåœ¨è¾¹ç•Œä¸Šæ—¶ï¼Œå®ƒåˆ°ç»ˆç‚¹çš„è·ç¦»éƒ½ä¸º1.</p><p>æœ€ç»ˆç­”æ¡ˆä¸ºdp[0][0]ã€‚</p><h4 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">uniquePaths</span>(<span class="params">self, m: <span class="built_in">int</span>, n: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        dp = [[<span class="number">1</span>]*n]*m</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m-<span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n-<span class="number">1</span>, -<span class="number">1</span>,-<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> i == m-<span class="number">1</span> <span class="keyword">or</span> j == n-<span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                dp[i][j] = dp[i+<span class="number">1</span>][j] + dp[i][j+<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>][<span class="number">0</span>]</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŠ¨æ€è§„åˆ’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å˜åˆ†å­¦ä¹ ç¬”è®°</title>
      <link href="/2021/03/29/bian-fen-xue-xi-bi-ji/"/>
      <url>/2021/03/29/bian-fen-xue-xi-bi-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="å˜åˆ†æ¨æ–­"><a href="#å˜åˆ†æ¨æ–­" class="headerlink" title="å˜åˆ†æ¨æ–­"></a>å˜åˆ†æ¨æ–­</h1><h3 id="åº”ç”¨ä¸¾ä¾‹"><a href="#åº”ç”¨ä¸¾ä¾‹" class="headerlink" title="åº”ç”¨ä¸¾ä¾‹"></a>åº”ç”¨ä¸¾ä¾‹</h3><ul><li>æ–‡ç« LADé¢˜ç›®åˆ†æ</li></ul><span id="more"></span><p>  å¯¹æ–‡æœ¬è¿›è¡Œè‡ªåŠ¨åˆ†æï¼Œç„¶åè‡ªåŠ¨ä»ä¸­æ‰¾å‡ºtopic<br><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210325161624.png" style="zoom:50%;"></p><ul><li><p>äº¤é€šæ•°æ®åˆ†æ</p><p>ç¾å›½æ¹¾åŒºå‡ºç§Ÿè½¦æ•°æ®åˆ†æï¼Œç”¨å˜åˆ†æ¨æ–­çš„æ–¹æ³•å¯ä»¥åœ¨ä¸€å°ç¬”è®°æœ¬ç”µè„‘ä¸Šé¢å®Œæˆå¤§é‡æ•°æ®çš„è®¡ç®—</p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210325162352.png" style="zoom:50%;"></li></ul><h3 id="è´å¶æ–¯æ¨æ–­æ¦‚è¿°"><a href="#è´å¶æ–¯æ¨æ–­æ¦‚è¿°" class="headerlink" title="è´å¶æ–¯æ¨æ–­æ¦‚è¿°"></a>è´å¶æ–¯æ¨æ–­æ¦‚è¿°</h3><h4 id="ç›®æ ‡ä¼˜ç¼ºç‚¹"><a href="#ç›®æ ‡ä¼˜ç¼ºç‚¹" class="headerlink" title="ç›®æ ‡ä¼˜ç¼ºç‚¹"></a>ç›®æ ‡ä¼˜ç¼ºç‚¹</h4><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210325162622.png"></p><h4 id="Roadmap"><a href="#Roadmap" class="headerlink" title="Roadmap"></a>Roadmap</h4><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210325162730.png" style="zoom:67%;"><blockquote><p>æ¥ä¸‹æ¥ä¸»è¦è®²è§£å˜åˆ†è´å¶æ–¯æ–¹æ³•ï¼Œå˜åˆ†è´å¶æ–¯æ–¹æ³•æ˜¯è¿‘ä¼¼è´å¶æ–¯æ¨æ–­çš„ä¸€å¤§ç±»æ–¹æ³•ï¼Œå˜åˆ†è´å¶æ–¯æ–¹æ³•åˆæœ‰å¾ˆå¤šå­ç±»ï¼ŒMean-fieldå˜åˆ†æ¨æ–­æ˜¯å…¶ä¸­æ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„ä¸€ç±»ã€‚æ¥ä¸‹æ¥ç»“åˆè®²è§£çš„æ–¹æ³•è®²ä¸‰ä¸ªä¾‹å­ï¼šunivariate Gaussianã€Mixture of Gaussianså’ŒLDA</p></blockquote><h3 id="è´å¶æ–¯æ¨æ–­"><a href="#è´å¶æ–¯æ¨æ–­" class="headerlink" title="è´å¶æ–¯æ¨æ–­"></a><a href="https://www.bilibili.com/video/BV1Qf4y1e7jN?from=search&amp;seid=14715651649240686105">è´å¶æ–¯æ¨æ–­</a></h3> <img src="https://raw.githubusercontent.com/Skylyong/i/main/20210325164141.png" style="zoom:67%;"><blockquote><p>Dataæ˜¯è§‚æµ‹å˜é‡ï¼ŒParametersæ˜¯æ¨¡å‹çš„å‚æ•°ï¼Œé€šè¿‡å¯¹è§‚æµ‹å˜é‡$x$å–å€¼çš„è§‚æµ‹ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ–°å‚æ•°$z$, è¿™é‡Œ$p(x) = \int_{z}^{}{p(x,z)dz}$ï¼Œå®é™…åº”ç”¨ä¸­$z$æ˜¯ä¸€ä¸ªé«˜ç»´çš„åˆ†å¸ƒï¼Œå¾ˆéš¾è®¡ç®—$p(z|x)$</p></blockquote><h3 id="è¿‘ä¼¼è´å¶æ–¯æ¨æ–­"><a href="#è¿‘ä¼¼è´å¶æ–¯æ¨æ–­" class="headerlink" title="è¿‘ä¼¼è´å¶æ–¯æ¨æ–­_"></a><a href="https://www.bilibili.com/video/BV1a5411H7eW?from=search&amp;seid=14715651649240686105">è¿‘ä¼¼è´å¶æ–¯æ¨æ–­</a>_</h3><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210325210910.png"></p><blockquote><p>ç›´æ¥è®¡ç®—$p(z|x)$å¤æ‚åº¦å¾ˆé«˜å¾ˆéš¾ï¼Œç„¶åå°±æœ‰äº†è¿‘ä¼¼è®¡ç®—ï¼ˆæ¨æ–­ï¼‰ã€‚å¸¸ç”¨çš„è¿‘ä¼¼è®¡ç®—æœ‰ï¼šMCMCæ–¹æ³•å’ŒåŸºäºä¼˜åŒ–çš„æ–¹æ³•ï¼ŒMCMCæ–¹æ³•è™½ç„¶ç²¾åº¦é«˜ä½†æ˜¯æ•°æ®é‡å¤§æ—¶è®¡ç®—å¾ˆæ…¢ï¼ŒåŸºäºéšæœºæ¢¯åº¦çš„ä¼˜åŒ–æ–¹æ³•å¯ä»¥ä½¿ç”¨å¹¶è¡ŒåŠ é€Ÿï¼Œå› æ­¤å¯ä»¥å¤§å¤§çš„åŠ é€Ÿè®¡ç®—é€Ÿåº¦ã€‚<br>åŸºäºéšæœºæ¢¯åº¦ä¼˜åŒ–æ–¹æ³•çš„æ€è·¯ä¸ºï¼šæ‰¾åˆ°ä¸€ä¸ªç®€å•çš„åˆ†å¸ƒ$q^<em>(z) \in Q$æ¥è¿‘ä¼¼p(z|x), ç›®æ ‡$q^</em>(z)$åº”è¯¥æ˜¯$Q$ä¸­ï¼Œä¸$p(z|x)$æŸç§è·ç¦»æœ€å°çš„é‚£ä¸ªã€‚<br><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210325212515.png"><br>ä¸ºä»€ä¹ˆè¦ç”¨KLæ•£æ­¥æ¥åº¦é‡ä¸¤ä¸ªåˆ†å¸ƒçš„è·ç¦»å‘¢ï¼Ÿ<br>KLæ»¡è¶³å¯å¯¼å’Œå‡¸æ€§ï¼Œä½¿å¾—å®ƒçš„è®¡ç®—æ›´å¿«ï¼›<br>æˆ‘ä»¬æ²¡æ³•é€šè¿‡ä¸Šå¼æ±‚å¾—$q^*(z)$ï¼Œéœ€è¦é€šè¿‡ä¸‹é¢çš„è½¬æ¢æŠŠä¼˜åŒ–KLæœ€å°é—®é¢˜è¿›è¡Œè½¬æ¢ä¸ºæ±‚$q(z)$ä½¿å¾—ELBOæœ€å¤§çš„é—®é¢˜.<br><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210325214048.png"></p></blockquote><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210325214709.png"></p><blockquote><p>è¿™é‡Œçš„$log p(x)$æ˜¯ä¸€ä¸ªå›ºå®šçš„å¸¸æ•°ã€‚</p></blockquote><h3 id="å¹³å‡åœºæ¨æ–­"><a href="#å¹³å‡åœºæ¨æ–­" class="headerlink" title="å¹³å‡åœºæ¨æ–­"></a><a href="https://www.bilibili.com/video/BV1Ki4y1w7Z9/?spm_id_from=autoNext">å¹³å‡åœºæ¨æ–­</a></h3><p><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210325223324.png"></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æœºå™¨å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitHubåŠ é€Ÿæ–¹æ³•</title>
      <link href="/2021/03/28/github-jia-su-fang-fa/"/>
      <url>/2021/03/28/github-jia-su-fang-fa/</url>
      
        <content type="html"><![CDATA[<h3 id="è®¾ç½®ä»£ç†åŠ é€ŸGitHub"><a href="#è®¾ç½®ä»£ç†åŠ é€ŸGitHub" class="headerlink" title="è®¾ç½®ä»£ç†åŠ é€ŸGitHub"></a>è®¾ç½®ä»£ç†åŠ é€ŸGitHub</h3><p>ç”±äºgithubç½‘ç«™æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œå›½å†…ä¸Šä¼ å’Œä¸‹è½½æ•°æ®é€Ÿåº¦è¾ƒæ…¢ï¼Œå‡å¦‚ä½ å·²ç»æœ‰å…·å¤‡äº†ç§‘å­¦ä¸Šç½‘çš„æ¡ä»¶ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ä»£ç†çš„æ–¹å¼æ¥æé«˜æ•°æ®ä¼ è¾“é€Ÿåº¦ã€‚</p><p>ä»¥ä¸‹è®¾ç½®å‡å»ºç«‹åœ¨å…·å¤‡ç§‘å­¦ä¸Šç½‘çš„å‰æä¸‹ï¼Œä¸‹æ–‡ä¸­çš„å°é£æœºæŒ‡æŸæ¬¾ç”¨äºç§‘å­¦ä¸Šç½‘çš„å·¥å…·ã€‚</p><h4 id="è®¾ç½®httpä»£ç†"><a href="#è®¾ç½®httpä»£ç†" class="headerlink" title="è®¾ç½®httpä»£ç†"></a>è®¾ç½®httpä»£ç†</h4><p>åœ¨å‘½ä»¤è¡Œè¾“å…¥å¦‚ä¸‹çš„å‘½ä»¤</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> http_proxy=http://127.0.0.1:1087</span><br><span class="line"><span class="built_in">export</span> https_proxy=http://127.0.0.1:1087</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®httpä»£ç†ï¼Œç«¯å£å·å¯¹åº”çš„æ˜¯å°é£æœºçš„httpä»£ç†ç«¯å£å·</span></span><br><span class="line">git config --global http.proxy http://127.0.0.1:1087</span><br><span class="line">git config --global https.proxy http://127.0.0.1:1087</span><br><span class="line"></span><br><span class="line"><span class="comment">#é…ç½®githubç”¨æˆ·åå’Œé‚®ç®±</span></span><br><span class="line">git config --global user.name github_id</span><br><span class="line">git config --global user.email github_email</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#å–æ¶ˆä»£ç†è®¾ç½®</span></span><br><span class="line">git config --global --<span class="built_in">unset</span> http.proxy</span><br><span class="line">git config --global --<span class="built_in">unset</span> https.proxy</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹ä»£ç†è®¾ç½®</span></span><br><span class="line">git config --list</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>httpä»£ç†ç«¯å£æŸ¥è¯¢ï¼š</p><blockquote><p>åœ¨å°é£æœºä¸­æ‰¾åˆ°â€œhttpä»£ç† è®¾ç½®â€é€‰é¡¹ï¼Œç„¶åç‚¹å‡»æ‰“å¼€ï¼Œæ‰¾åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„ç›‘å¬çª—å£ã€‚</p></blockquote><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210319193849.png" style="zoom:67%;"><h4 id="è®¾ç½®sshåŠ é€Ÿ"><a href="#è®¾ç½®sshåŠ é€Ÿ" class="headerlink" title="è®¾ç½®sshåŠ é€Ÿ"></a><a href="https://gist.github.com/chuyik/02d0d37a49edc162546441092efae6a1">è®¾ç½®ssh</a>åŠ é€Ÿ</h4><p><code>åœ¨~/.ssh/config</code> æ–‡ä»¶ï¼ˆä¸å­˜åœ¨åˆ™æ–°å»ºï¼‰æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">   HostName github.com</span><br><span class="line">   User git</span><br><span class="line">   <span class="comment"># èµ° HTTP ä»£ç†ï¼Œéœ€è¦ brew install socat</span></span><br><span class="line">   <span class="comment"># ProxyCommand socat - PROXY:127.0.0.1:%h:%p,proxyport=1087</span></span><br><span class="line">   <span class="comment"># èµ° socks5 ä»£ç†ï¼ˆå¦‚ Shadowsocksï¼‰</span></span><br><span class="line">   ProxyCommand nc -v -x 127.0.0.1:1086 %h %p</span><br><span class="line">   <span class="comment">#ä¸Šé¢1086è¿™ä¸ªç«¯å£å·å¯ä»¥åœ¨â€œå°é£æœºâ€çš„é«˜çº§è®¾ç½®ä¸­æŸ¥çœ‹</span></span><br><span class="line">   <span class="comment"># èµ° socks5 ä»£ç†ï¼ˆå¦‚ Shadowsocksï¼‰ï¼ŒWindows å¹³å°æ²¡æœ‰ nc å‘½ä»¤</span></span><br><span class="line">   <span class="comment"># ProxyCommand connect -S 127.0.0.1:1086 %h %p</span></span><br></pre></td></tr></tbody></table></figure><p>æœ¬åœ°Socks5ç›‘å¬çª—å£æŸ¥è¯¢ï¼š</p><blockquote><p>åœ¨å°é£æœºä¸­æ‰¾åˆ°â€œé«˜çº§è®¾ç½®â€ï¼Œç‚¹å‡»æ‰“å¼€å°±å¯ä»¥æ‰¾åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„ç›‘å¬çª—å£ã€‚</p></blockquote><img src="https://raw.githubusercontent.com/Skylyong/i/main/20210319194610.png" style="zoom:50%;"><h3 id="é€šè¿‡ä¿®æ”¹hostsè§£å†³æµè§ˆå™¨æ‰“ä¸å¼€githubç½‘ç«™çš„æ–¹æ³•"><a href="#é€šè¿‡ä¿®æ”¹hostsè§£å†³æµè§ˆå™¨æ‰“ä¸å¼€githubç½‘ç«™çš„æ–¹æ³•" class="headerlink" title="é€šè¿‡ä¿®æ”¹hostsè§£å†³æµè§ˆå™¨æ‰“ä¸å¼€githubç½‘ç«™çš„æ–¹æ³•"></a>é€šè¿‡ä¿®æ”¹hostsè§£å†³æµè§ˆå™¨æ‰“ä¸å¼€githubç½‘ç«™çš„æ–¹æ³•</h3><blockquote><p>å‡å¦‚ä¸å…·å¤‡ç§‘å­¦ä¸Šç½‘çš„æ¡ä»¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹hostsæ–‡ä»¶æ¥è§£å†³æµè§ˆå™¨æ‰“ä¸å¼€GitHubçš„é—®é¢˜ï¼Œä½†æ˜¯é€šè¿‡è¿™ç§æ–¹å¼åªèƒ½è§£å†³æµè§ˆå™¨æ‰“å¼€æ…¢çš„é—®é¢˜ï¼Œä¸èƒ½å¤Ÿè§£å†³åœ¨ç»ˆç«¯å…‹éš†é¡¹ç›®æ…¢çš„é—®é¢˜ï¼Œå»ºè®®é€šè¿‡ä»£ç†çš„æ–¹å¼åŠ é€Ÿã€‚</p></blockquote><span id="more"></span><p>é¦–å…ˆä»è¿™ä¸ª<a href="https://zhuanlan.zhihu.com/p/36154464">ç½‘ç«™</a>ç»™å‡ºçš„é“¾æ¥ä¸­è·å–(ä¹Ÿå¯ä»¥ç›´æ¥ç”¨ä¸‹é¢çš„æ•°æ®)åˆ°å¦‚ä¸‹æ ¼å¼çš„æ•°æ®ï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">140.82.113.4 github.com</span><br><span class="line">199.232.69.194 github.global.ssl.fastly.net</span><br><span class="line">185.199.108.153 assets-cdn.github.com</span><br><span class="line">185.199.110.153 assets-cdn.github.com</span><br><span class="line">185.199.111.153 assets-cdn.github.com</span><br><span class="line">185.199.109.153 assets-cdn.github.com</span><br></pre></td></tr></tbody></table></figure><p>ç„¶åå°†è¿™äº›æ•°æ®æ·»åŠ åˆ°hostsï¼ˆmacä¸­çš„è·¯å¾„ä¸ºï¼š/private/ect/hostsï¼‰æ–‡ä»¶ä¸­å°±å¯ä»¥äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> çˆ¬å‘æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoä¸ªäººåšå®¢æ­å»º</title>
      <link href="/2021/02/21/hexo-ge-ren-bo-ke-da-jian-jiao-cheng/"/>
      <url>/2021/02/21/hexo-ge-ren-bo-ke-da-jian-jiao-cheng/</url>
      
        <content type="html"><![CDATA[<p>å‰æ²¿ï¼š <a href="file:///Users/lyong/Desktop/Skylyong.github.io-main/2021/02/21/build/index.html">hexo</a>å’Œ<a href="https://themes.gohugo.io/hugo-swift-theme/">hugo</a>æ˜¯å¸¸ç”¨çš„ä¸ªäººåšå®¢æ­å»ºæ¡†æ¶ï¼ŒhexoæŠ€æœ¯æ›´æˆç†Ÿç¨³å®šï¼Œä½†æ˜¯é€Ÿåº¦æ…¢ï¼Œè€ŒåŸºäºgoè¯­è¨€çš„hugoæ‹¥æœ‰é€Ÿåº¦å¿«çš„ä¼˜ç‚¹ï¼Œä½†æ˜¯ç”±äºå‡ºç°è¾ƒæ™šï¼Œå®ƒçš„æŠ€æœ¯è¿˜ä¸å¤Ÿæˆç†Ÿï¼Œä¹Ÿæ²¡æœ‰ç›¸å¯¹ç¨³å®šçš„ä¸»é¢˜ã€‚</p><h4 id="é¦–æ¬¡æ­å»º"><a href="#é¦–æ¬¡æ­å»º" class="headerlink" title="é¦–æ¬¡æ­å»º"></a>é¦–æ¬¡æ­å»º</h4><p>ä»Šæ™šç”¨äº†3ä¸ªå°æ—¶æ­å»ºäº†åŸºäºhexoçš„ä¸ªäººåšå®¢ï¼Œç°åœ¨è®°å½•ä¸€ä¸‹ã€‚</p><p>ä¸»è¦å‚è€ƒäº†ä¸‹é¢å‡ ä¸ªé“¾æ¥</p><ul><li><p>åšå®¢æ­å»ºé“¾æ¥: <a href="https://zhuanlan.zhihu.com/p/26625249">https://zhuanlan.zhihu.com/p/26625249</a></p></li><li><p>pureä¸»é¢˜ä½¿ç”¨é“¾æ¥: <a href="https://github.com/cofess/hexo-theme-pure/blob/master/README.cn.md">https://github.com/cofess/hexo-theme-pure/blob/master/README.cn.md</a></p></li><li><p>nextä¸»é¢˜ä½¿ç”¨æ•™ç¨‹: <a href="https://theme-next.iissnan.com/theme-settings.html#tags-page">https://theme-next.iissnan.com/theme-settings.html#tags-page</a></p></li><li><p>nextä¸»é¢˜è¿›ä¸€æ­¥å®Œå–„: <a href="https://tding.top/top/">https://tding.top/top/</a></p></li></ul><p>æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼šæ•™ç¨‹ä¸­è®¾ç½®åŸŸåè§£æçš„æ—¶å€™ä¸åº”è¯¥ä½¿ç”¨Aæ¨¡å¼ï¼Œéƒ½åº”è¯¥ä½¿ç”¨CNAMEæ¨¡å¼</p><ul><li><p>hexoå¸¸ç”¨å‘½ä»¤</p></li><li><p>æ–°å»ºåšå®¢ï¼šhexo n â€œbolgâ€™s nameâ€</p></li><li><p>å‘å¸ƒåšå®¢ç”¨å¦‚ä¸‹ä¸‰ä¸ªå‘½ä»¤ï¼š</p></li></ul><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></tbody></table></figure><h4 id="å¢åŠ åŠŸèƒ½"><a href="#å¢åŠ åŠŸèƒ½" class="headerlink" title="å¢åŠ åŠŸèƒ½"></a>å¢åŠ åŠŸèƒ½</h4><p>ä»Šå¤©ä¸ºåšå®¢å¢åŠ äº†<a href="http://www.yangyong.xyz/2018/01/03/add-hexo-next-post-views/">è®°å½•é˜…è¯»æ¬¡æ•°</a>å’Œ<a href="https://vic.kim/2019/05/22/Hexo%20Next%20%E4%B8%BB%E9%A2%98%E4%B8%AD%E6%B7%BB%E5%8A%A0%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/">ç«™å†…æœç´¢</a>çš„åŠŸèƒ½ã€‚å…¶ä¸­æ·»åŠ è®°å½•é˜…è¯»æ¬¡æ•°åŠŸèƒ½ç›¸å¯¹éº»çƒ¦ï¼Œéœ€è¦æ³¨å†Œ<a href="https://console.leancloud.cn/">leancloud</a>çš„è´¦å·ï¼Œå¹¶ä¸”æŒ‰ç…§æ•™ç¨‹è¿›è¡Œç›¸åº”è®¾ç½®ï¼Œå¦‚æœé‡åˆ°ä¸èƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤ºé˜…è¯»æ¬¡æ•°ï¼Œè¦å®‰è£…ç›¸å…³æ’ä»¶ï¼›ç«™å†…æœç´¢åŠŸèƒ½æ¯”è¾ƒç®€å•ï¼ŒæŒ‰ç…§é“¾æ¥ä¸­çš„æ•™ç¨‹ä¸€æ­¥æ­¥æ“ä½œå°±å¥½äº†ã€‚</p><h4 id="è®¾ç½®githubå…è´¹å›¾åºŠ"><a href="#è®¾ç½®githubå…è´¹å›¾åºŠ" class="headerlink" title="è®¾ç½®githubå…è´¹å›¾åºŠ"></a>è®¾ç½®githubå…è´¹å›¾åºŠ</h4><p>é¦–å…ˆåœ¨<a href="https://github.com/Molunerfinn/PicGo/releases">è¿™é‡Œ</a>ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„PicGo(æˆ‘é€‰æ‹©çš„æ˜¯2.2.2ç‰ˆæœ¬)ï¼Œç„¶åæ ¹æ®è¿™ä¸ª<a href="https://learnku.com/articles/48574">æ•™ç¨‹</a>è®¾ç½®å›¾åºŠï¼Œè®¾ç½®å¥½å›¾åºŠåå°±å¯ä»¥æŠŠæœ¬åœ°çš„å›¾ç‰‡ä¸Šä¼ åˆ°githubæœåŠ¡å™¨ï¼Œç”Ÿæˆé“¾æ¥ï¼Œæ–¹ä¾¿å†™markdownçš„æ—¶å€™å¼•ç”¨ã€‚</p><h4 id="æ·»åŠ è¯„è®ºåŠŸèƒ½"><a href="#æ·»åŠ è¯„è®ºåŠŸèƒ½" class="headerlink" title="æ·»åŠ è¯„è®ºåŠŸèƒ½"></a>æ·»åŠ è¯„è®ºåŠŸèƒ½</h4><p>è®¾ç½®å¥½è¯„è®ºï¼Œé»˜è®¤æ˜¯æ¯ä¸€ç¯‡æ–‡ç« ï¼ŒåŒ…æ‹¬â€å…³äºâ€œç­‰é¡µé¢ä¸‹é¢éƒ½ä¼šç”Ÿæˆè¯„è®ºå¯¹è¯æ¡†ï¼Œå¦‚æœæƒ³å…³é—­æŸä¸€ç¯‡æ–‡ç« ä¸‹é¢çš„è¯„è®ºå¯¹è¯æ¡†ï¼Œå¯ä»¥å‚è€ƒ<a href="https://nobige.cn/post/20190718-hexoxiavalineguanbijingzhimougewenzhangyemianpinglun/">è¿™é‡Œ</a>ã€‚</p><h4 id="ç”µè„‘å¥”æºƒï¼Œæˆ‘å¼ƒç”¨nextä¸»é¢˜äº†"><a href="#ç”µè„‘å¥”æºƒï¼Œæˆ‘å¼ƒç”¨nextä¸»é¢˜äº†" class="headerlink" title="ç”µè„‘å¥”æºƒï¼Œæˆ‘å¼ƒç”¨nextä¸»é¢˜äº†"></a>ç”µè„‘å¥”æºƒï¼Œæˆ‘å¼ƒç”¨nextä¸»é¢˜äº†</h4><ul><li>materyä¸»é¢˜é…ç½®: <a href="https://www.jianshu.com/p/cf9730925b5c">https://www.jianshu.com/p/cf9730925b5c</a></li><li>materyä¸»é¢˜æ·±åº¦é…ç½®: <a href="https://bbs.huaweicloud.com/blogs/226867">https://bbs.huaweicloud.com/blogs/226867</a></li><li>materyä¸»é¢˜ä¼˜ç§€åšå®¢: <a href="https://notes.zhangxiaocai.cn/">https://notes.zhangxiaocai.cn/</a></li></ul><h4 id="logoè®¾è®¡"><a href="#logoè®¾è®¡" class="headerlink" title="logoè®¾è®¡"></a>logoè®¾è®¡</h4><ul><li>åœ¨çº¿å…è´¹logoè®¾è®¡ï¼š<a href="http://yeelogo.com/#/">http://yeelogo.com/#/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¥½ç”¨çš„å…è´¹æ— å¹¿å‘Šç”µå½±ç½‘ç«™æ¨è</title>
      <link href="/2021/02/21/hao-yong-de-mian-fei-wu-guang-gao-dian-ying-wang-zhan-tui-jian/"/>
      <url>/2021/02/21/hao-yong-de-mian-fei-wu-guang-gao-dian-ying-wang-zhan-tui-jian/</url>
      
        <content type="html"><![CDATA[<p>ä»Šæ—¥é˜³å…‰æ˜åªšï¼Œä¸­åˆååœ¨é˜³å°ä¸Šé¢æ„Ÿå—ç€æ˜¥æ—¥æš–é£æ‹‚é¢ï¼Œä¸ç”±å¾—è®©äººæƒ³æ‰¾ä¸€éƒ¨ç”µå½±ä¼´ç€æš–é˜³ä½“éªŒä¸€ç•ªæ˜¥æ—¥å‘¨æœ«çš„æ…¢ç”Ÿæ´»ã€‚ç›¸ä¿¡æœ‰ä¸å°‘åŒå­¦è·Ÿæˆ‘ä¸€æ ·ï¼Œä¸å–œæ¬¢å……è§†é¢‘ç½‘ç«™çš„ä¼šå‘˜ï¼Œæ›´ä¸å–œæ¬¢çœ‹ç”µå½±ä¹‹å‰æ¼«é•¿çš„å¹¿å‘Šã€‚å¥½åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ç¢°åˆ°å¥½ç”¨çš„ç”µå½±ç½‘ç«™æˆ‘éƒ½ä¼šåŠ åœ¨æ”¶è—å¤¹ä¸­ï¼Œä¸‹é¢æ•´ç†ä¸€ä¸‹åˆ†äº«ç»™å„ä½å–œæ¬¢çœ‹ç”µå½±çš„åŒå­¦ã€‚</p><ul><li><p><a href="http://www.fenggoudy1.com/list-read-id-1.html">ç–¯ç‹—ç”µå½±</a></p><p>  æ˜¥èŠ‚æœŸé—´çœ‹ã€Šæ›¼è¾¾æ´›äººã€‹çš„æ—¶å€™å‘ç°çš„ï¼Œä¼˜ç‚¹æ˜¯æœ‰æœ€æ–°çš„ç‰‡æºï¼Œåˆšåˆšçœ‹äº†ä¸€ä¸‹ï¼Œç«Ÿç„¶æœ‰æœ€æ–°å¤§çƒ­çš„ã€Šä½ å¥½ï¼Œæç„•è‹±ã€‹ï¼Œèµ„æºè´¨é‡ä¸€èˆ¬ï¼Œè™½ç„¶çœ‹è§†é¢‘æ²¡æœ‰å¹¿å‘Šï¼Œä½†æ˜¯æµ®çª—å¹¿å‘Šæœ‰ç‚¹å¤šï¼Œå½±å“è§‚æ„Ÿï¼Œé€‚åˆå–œæ¬¢å°é²œä½†æ˜¯å¯¹èµ„æºè´¨é‡è¦æ±‚ä¸é«˜çš„åŒå­¦ã€‚</p><p>  èµ„æºå­˜é‡æŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜†â˜†</p><p>  è§†é¢‘è´¨é‡æŒ‡æ•°ï¼šâ˜…â˜…â˜†â˜†â˜†</p><p>  ä¸ªäººæ¨èæŒ‡æ•°ï¼šâ˜…â˜†â˜†â˜†â˜†</p></li><li><p><a href="https://91kanju.com/vod-play/57173-2-1.html">91çœ‹å‰§</a></p><p>  è¿™ä¸ªç½‘ç«™çš„èµ„æºä»¥ç”µè§†å‰§ä¸ºä¸»ï¼Œä¹Ÿæœ‰ä¸å°‘ç”µå½±èµ„æºï¼Œèµ„æºæ¯”è¾ƒå¤šï¼Œä½†æ˜¯æœ‰äº›èµ„æºåŠ è½½æ—¶é—´æ¯”è¾ƒé•¿ï¼Œèµ„æºè´¨é‡ä¸€èˆ¬ï¼Œåˆšåˆšæµ‹è¯•äº†ä¸€ä¸‹ä¸ç”¨ç¿»å¢™ä¹Ÿå¯ä»¥è®¿é—®ã€‚</p><p>  èµ„æºå­˜é‡æŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜…â˜…</p><p>  è§†é¢‘è´¨é‡æŒ‡æ•°ï¼šâ˜…â˜…â˜†â˜†â˜†</p><p>  ä¸ªäººæ¨èæŒ‡æ•°ï¼šâ˜…â˜…â˜†â˜†â˜†</p></li><li><p><a href="https://www.wandouys.com/">è±Œè±†å½±è§†</a></p><p>  è¿™æ˜¯æˆ‘ç”¨å¾—æœ€ä¹…çš„å…è´¹ç”µå½±ç½‘ç«™ï¼Œå®ƒç‰‡æºå¤šï¼Œæ–°ä¸Šæ˜ çš„ç”µå½±ä¹Ÿå¯ä»¥åœ¨ä¸Šé¢æ‰¾åˆ°ã€‚ç¼ºç‚¹æ˜¯éœ€è¦ç¿»å¢™æ‰èƒ½è§£æåˆ°è§†é¢‘ç½‘å€ï¼ˆç½‘å€è§£æä¹‹åä¸ç”¨ç¿»å¢™å¯ä»¥çœ‹ï¼‰ï¼Œè§†é¢‘è´¨é‡æ²¡æœ‰ä¿éšœï¼Œå–œæ¬¢é«˜æ¸…ç”µå½±çš„åŒå­¦å¯èƒ½è¦å¤±æœ›äº†ï¼›ç½‘ç«™æœ‰æ—¶å€™ä¸ç¨³å®šï¼Œçœ‹è§†é¢‘ä¼šå¡é¡¿ã€‚</p><p>  èµ„æºå­˜é‡æŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜…â˜…</p><p>  è§†é¢‘è´¨é‡æŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜†â˜†</p><p>  ä¸ªäººæ¨èæŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜†â˜†</p></li><li><p><a href="https://é€Ÿå½±tv.com/movie/5.html">é€Ÿå½±TV</a></p><p>  è¿™ä¸ªç½‘ç«™ä¸ªäººä¸å¸¸ç”¨ï¼Œä¸è®°å¾—æ˜¯æ€ä¹ˆå‘ç°çš„äº†ï¼Œå®ƒçš„ç‰‡æºæ¯”è¾ƒå¤šï¼Œä½†æ˜¯èµ„æºè´¨é‡ä¸é«˜ï¼Œè²Œä¼¼éœ€è¦ç¿»å¢™æ‰å¯ä»¥çœ‹ã€‚è™½ä¸å¸¸ç”¨ï¼Œä½†æ˜¯æ‰¾ä¸åˆ°ç‰‡æºçš„æ—¶å€™ï¼Œåœ¨è¿™ä¸Šé¢æ‰¾æ‰¾ä¹Ÿå¯èƒ½æœ‰æ„å¤–æ”¶è·ã€‚</p><p>  èµ„æºå­˜é‡æŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜…â˜†</p><p>  è§†é¢‘è´¨é‡æŒ‡æ•°ï¼šâ˜…â˜…â˜†â˜†â˜†</p><p>  ä¸ªäººæ¨èæŒ‡æ•°ï¼šâ˜…â˜…â˜†â˜†â˜†</p></li><li><p><a href="https://ddrk.me/the-witches/">ä½ç«¯ç”µå½±</a></p><p>  è¿™ä¸ªç½‘ç«™æ˜¯å‰æ®µæ—¶é—´æ— æ„ä¸­ä»googleä¸­æœç´¢åˆ°çš„ï¼Œä¼˜ç‚¹æ˜¯å¹¿å‘Šå°‘ï¼Œç‰‡æºéƒ½æ˜¯é«˜æ¸…çš„ç”µå½±ï¼Œè¿˜ä¸ç”¨ç¿»å¢™ï¼›ç¼ºç‚¹æ˜¯èµ„æºé‡ä¸å¤§ï¼Œä¸è¿‡è®¸å¤šç»å…¸ç”µå½±å’Œç”µè§†å‰§çš„èµ„æºéƒ½å¯ä»¥åœ¨é‡Œé¢æ‰¾åˆ°ï¼Œå¾ˆä¸é”™ï¼Œååˆ†æ¨èã€‚</p><p>  èµ„æºå­˜é‡æŒ‡æ•°ï¼šâ˜…â˜…â˜†â˜†â˜†</p><p>  è§†é¢‘è´¨é‡æŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜…â˜…</p><p>  ä¸ªäººæ¨èæŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜…â˜…</p></li><li><p><a href="https://www.d123movies.to/">123movies</a></p><p>  è¿™ä¸ªç½‘ç«™æ˜¯å›½å¤–çš„å…è´¹ç”µå½±ã€ç”µè§†å‰§ç½‘ç«™ï¼Œç½‘ç«™çš„è§†é¢‘éƒ½æä¾›äº†è‹±æ–‡å­—å¹•ï¼Œç‰¹åˆ«é€‚åˆäºå­¦ä¹ è‹±è¯­ï¼Œéå¸¸ä¸é”™ï¼Œååˆ†æ¨èã€‚</p><p>  èµ„æºå­˜é‡æŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜…â˜…</p><p>  è§†é¢‘è´¨é‡æŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜…â˜…</p><p>  ä¸ªäººæ¨èæŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜…â˜…</p><p>  ä¸Šé¢æ¨èçš„ç½‘ç«™æœ‰æ—¶å€™å¯èƒ½ä¼šè¢«å°æ‰ï¼Œæœ€åå†æ¨èä¸€ä¸ªå­˜å‚¨ç”µå½±èµ„æºç½‘å€çš„<a href="http://www.dyhz1.com/">ç«™ç‚¹</a>ã€‚</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»æ€»ç»“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç”µå½± </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
